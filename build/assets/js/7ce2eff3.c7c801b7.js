"use strict";(self.webpackChunknestjs_mod_com=self.webpackChunknestjs_mod_com||[]).push([[960],{2031:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>i,default:()=>a,frontMatter:()=>t,metadata:()=>o,toc:()=>l});var r=n(4848),d=n(8453);const t={},i="@nestjs-mod/docker-compose",o={id:"packages/infrastructure/docker-compose/README",title:"@nestjs-mod/docker-compose",description:"Docker Compose is a tool for defining and running multi-container applications. It is the key to unlocking a streamlined and efficient development and deployment experience. (Generator docker-compose.yml for https://docs.docker.com/compose)",source:"@site/docs/packages/infrastructure/docker-compose/README.md",sourceDirName:"packages/infrastructure/docker-compose",slug:"/packages/infrastructure/docker-compose/",permalink:"/docs/packages/infrastructure/docker-compose/",draft:!1,unlisted:!1,editUrl:"https://github.com/nestjs-mod/nestjs-mod.com/blob/master/docs/packages/infrastructure/docker-compose/README.md",tags:[],version:"current",frontMatter:{},sidebar:"packagesSidebar",previous:{title:"Infrastructure",permalink:"/docs/category/infrastructure"},next:{title:"@nestjs-mod/flyway",permalink:"/docs/packages/infrastructure/flyway/"}},c={},l=[{value:"Installation",id:"installation",level:2},{value:"Modules",id:"modules",level:2},{value:"Modules descriptions",id:"modules-descriptions",level:2},{value:"DockerCompose",id:"dockercompose",level:3},{value:"Use in NestJS-mod",id:"use-in-nestjs-mod",level:4},{value:"Shared providers",id:"shared-providers",level:4},{value:"Configuration",id:"configuration",level:4},{value:"Feature configuration",id:"feature-configuration",level:4},{value:"Modules that use feature configuration",id:"modules-that-use-feature-configuration",level:4},{value:"Feature module name: AUTHORIZER",id:"feature-module-name-authorizer",level:5},{value:"Modules that use feature configuration",id:"modules-that-use-feature-configuration-1",level:4},{value:"Feature module name: POSTGRE_SQL",id:"feature-module-name-postgre_sql",level:5},{value:"Modules that use feature configuration",id:"modules-that-use-feature-configuration-2",level:4},{value:"Feature module name: MINIO",id:"feature-module-name-minio",level:5},{value:"DockerComposeAuthorizer",id:"dockercomposeauthorizer",level:3},{value:"Use in NestJS-mod",id:"use-in-nestjs-mod-1",level:4},{value:"Static environments",id:"static-environments",level:4},{value:"Static configuration",id:"static-configuration",level:4},{value:"DockerComposeMinio",id:"dockercomposeminio",level:3},{value:"Use in NestJS-mod",id:"use-in-nestjs-mod-2",level:4},{value:"Static environments",id:"static-environments-1",level:4},{value:"Static configuration",id:"static-configuration-1",level:4},{value:"DockerComposeNats",id:"dockercomposenats",level:3},{value:"Static environments",id:"static-environments-2",level:4},{value:"Static configuration",id:"static-configuration-2",level:4},{value:"DockerComposeNginx",id:"dockercomposenginx",level:3},{value:"Static configuration",id:"static-configuration-3",level:4},{value:"DockerComposePostgreSQL",id:"dockercomposepostgresql",level:3},{value:"Use in NestJS-mod",id:"use-in-nestjs-mod-3",level:4},{value:"Static environments",id:"static-environments-3",level:4},{value:"Static configuration",id:"static-configuration-4",level:4},{value:"Feature environments",id:"feature-environments",level:4},{value:"DockerComposeRedis",id:"dockercomposeredis",level:3},{value:"Use in NestJS-mod",id:"use-in-nestjs-mod-4",level:4},{value:"Static environments",id:"static-environments-4",level:4},{value:"Static configuration",id:"static-configuration-5",level:4},{value:"Links",id:"links",level:2},{value:"License",id:"license",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"nestjs-moddocker-compose",children:"@nestjs-mod/docker-compose"}),"\n",(0,r.jsxs)(s.p,{children:["Docker Compose is a tool for defining and running multi-container applications. It is the key to unlocking a streamlined and efficient development and deployment experience. (Generator docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://docs.docker.com/compose",children:"https://docs.docker.com/compose"}),")"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"https://npmjs.org/package/@nestjs-mod/docker-compose",children:(0,r.jsx)(s.img,{src:"https://badgen.net/npm/v/@nestjs-mod/docker-compose",alt:"NPM version"})})," ",(0,r.jsx)(s.a,{href:"https://npmjs.org/package/@nestjs-mod/docker-compose",children:(0,r.jsx)(s.img,{src:"https://badgen.net/npm/dm/@nestjs-mod/docker-compose",alt:"monthly downloads"})})," ",(0,r.jsx)(s.a,{href:"https://t.me/nestjs_mod",children:(0,r.jsx)(s.img,{src:"https://img.shields.io/badge/group-telegram-blue.svg?maxAge=2592000",alt:"Telegram"})})," ",(0,r.jsx)(s.a,{href:"https://discord.gg/meY7UXaG",children:(0,r.jsx)(s.img,{src:"https://img.shields.io/badge/discord-online-brightgreen.svg",alt:"Discord"})})]}),"\n",(0,r.jsx)(s.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"npm i --save @nestjs-mod/docker-compose\n"})}),"\n",(0,r.jsx)(s.h2,{id:"modules",children:"Modules"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Link"}),(0,r.jsx)(s.th,{children:"Category"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#dockercompose",children:"DockerCompose"})}),(0,r.jsx)(s.td,{children:"infrastructure"}),(0,r.jsxs)(s.td,{children:["Docker Compose is a tool for defining and running multi-container applications. It is the key to unlocking a streamlined and efficient development and deployment experience. (Generator docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://docs.docker.com/compose",children:"https://docs.docker.com/compose"}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#dockercomposeauthorizer",children:"DockerComposeAuthorizer"})}),(0,r.jsx)(s.td,{children:"infrastructure"}),(0,r.jsxs)(s.td,{children:["Authorizer is an open-source authentication and authorization solution for your applications. Bring your database and have complete control over the user information. You can self-host authorizer instances and connect to supported databases. (Generator for ",(0,r.jsx)(s.a,{href:"https://authorizer.dev",children:"https://authorizer.dev"})," in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#dockercomposeminio",children:"DockerComposeMinio"})}),(0,r.jsx)(s.td,{children:"infrastructure"}),(0,r.jsxs)(s.td,{children:["MinIO is a high-performance, S3 compatible object storage. (Generator for minio in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#dockercomposenats",children:"DockerComposeNats"})}),(0,r.jsx)(s.td,{children:"infrastructure"}),(0,r.jsxs)(s.td,{children:["NATS is an open source, lightweight and high-performance messaging system. It is ideal for distributed systems and supports modern cloud architectures and pub-sub, request-reply and queuing models. (Generator for nats in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#dockercomposenginx",children:"DockerComposeNginx"})}),(0,r.jsx)(s.td,{children:"infrastructure"}),(0,r.jsxs)(s.td,{children:["Nginx is a web server that can also be used as a reverse proxy, load balancer, mail proxy and HTTP cache. (Generator for nginx in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#dockercomposepostgresql",children:"DockerComposePostgreSQL"})}),(0,r.jsx)(s.td,{children:"infrastructure"}),(0,r.jsxs)(s.td,{children:["PostgreSQL (Postgres) is an open source object-relational database known for reliability and data integrity. ACID-compliant, it supports foreign keys, joins, views, triggers and stored procedures. (Generator for databases in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/libs/infrastructure/docker-compose",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/libs/infrastructure/docker-compose"}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#dockercomposeredis",children:"DockerComposeRedis"})}),(0,r.jsx)(s.td,{children:"infrastructure"}),(0,r.jsxs)(s.td,{children:["The open-source, in-memory data store used by millions of developers as a cache, vector database, document database, streaming engine, and message broker. (Generator for redis in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"modules-descriptions",children:"Modules descriptions"}),"\n",(0,r.jsx)(s.h3,{id:"dockercompose",children:"DockerCompose"}),"\n",(0,r.jsxs)(s.p,{children:["Docker Compose is a tool for defining and running multi-container applications. It is the key to unlocking a streamlined and efficient development and deployment experience. (Generator docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://docs.docker.com/compose",children:"https://docs.docker.com/compose"}),")"]}),"\n",(0,r.jsx)(s.h4,{id:"use-in-nestjs-mod",children:"Use in NestJS-mod"}),"\n",(0,r.jsxs)(s.p,{children:["An example you can see the full example here ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-prisma-flyway",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-prisma-flyway"})," or ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-prisma",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-prisma"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"import { PACKAGE_JSON_FILE, ProjectUtils, bootstrapNestApplication } from '@nestjs-mod/common';\nimport { DOCKER_COMPOSE_FILE, DockerCompose } from '@nestjs-mod/docker-compose';\nimport { join } from 'path';\n\nexport const flywayPrismaFeatureName = 'flyway-prisma';\n\nconst rootFolder = join(__dirname, '..', '..', '..');\nconst appFolder = join(rootFolder, 'apps', 'example-prisma-flyway');\n\nbootstrapNestApplication({\n  modules: {\n    system: [\n      ProjectUtils.forRoot({\n        staticConfiguration: {\n          applicationPackageJsonFile: join(\n            appFolder\n            PACKAGE_JSON_FILE\n          ),\n          packageJsonFile: join(rootFolder, PACKAGE_JSON_FILE),\n          envFile: join(rootFolder, '.env'),\n        },\n      }),\n    ],\n    infrastructure: [\n      DockerCompose.forRoot({\n        configuration: {\n          dockerComposeFileVersion: '3',\n          dockerComposeFile: join(appFolder, DOCKER_COMPOSE_FILE),\n        },\n      }),\n    ],\n  },\n});\n"})}),"\n",(0,r.jsxs)(s.p,{children:["After connecting the module to the application and ",(0,r.jsx)(s.code,{children:"npm run build"})," and starting generation of documentation through ",(0,r.jsx)(s.code,{children:"npm run docs:infrastructure"}),", you will have new files and scripts to run."]}),"\n",(0,r.jsxs)(s.p,{children:["New scripts mostly ",(0,r.jsx)(s.code,{children:"package.json"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "scripts": {\n    "_____docker-compose infra_____": "_____docker-compose infra_____",\n    "docker-compose:start:example-prisma-flyway": "export COMPOSE_INTERACTIVE_NO_CLI=1 && docker-compose -f ./apps/example-prisma-flyway/docker-compose.yml --compatibility up -d",\n    "docker-compose:stop:example-prisma-flyway": "export COMPOSE_INTERACTIVE_NO_CLI=1 && docker-compose -f ./apps/example-prisma-flyway/docker-compose.yml down"\n  },\n  "scriptsComments": {\n    "docker-compose:start:example-prisma-flyway": [\n      "Running the docker-compose infrastructure for example-prisma-flyway"\n    ],\n    "docker-compose:stop:example-prisma-flyway": [\n      "Stopping the docker-compose infrastructure for example-prisma-flyway"\n    ]\n  }\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Empty docker-compose file for application ",(0,r.jsx)(s.code,{children:"docker-compose.yml"})," with real credenionals and add it to ",(0,r.jsx)(s.code,{children:".gitignore"})," file"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"# Do not modify this file, it is generated using the DockerCompose module included with NestJS-mod.\nversion: '3'\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Empty docker-compose file for application ",(0,r.jsx)(s.code,{children:"docker-compose-example.yml"})," with fake credenionals"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"# Do not modify this file, it is generated using the DockerCompose module included with NestJS-mod.\nversion: '3'\n"})}),"\n",(0,r.jsx)(s.h4,{id:"shared-providers",children:"Shared providers"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.code,{children:"ManualDockerComposeFeatures"})}),"\n",(0,r.jsx)(s.h4,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dockerComposeFile"})}),(0,r.jsx)(s.td,{children:"Main file for docker-compose, the Compose specification establishes a standard for the definition of multi-container platform-agnostic applications."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (dockerComposeFile should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"prodDockerComposeFile"})}),(0,r.jsx)(s.td,{children:"Main file for prod docker-compose, the Compose specification establishes a standard for the definition of multi-container platform-agnostic applications."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"exampleDockerComposeFile"})}),(0,r.jsx)(s.td,{children:"Example file for docker-compose, the Compose specification establishes a standard for the definition of multi-container platform-agnostic applications."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"prodDockerComposeEnvFile"})}),(0,r.jsx)(s.td,{children:"Dotenv file for prod docker-compose file."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dockerComposeFileVersion"})}),(0,r.jsxs)(s.td,{children:["Docker-compose file version. @see ",(0,r.jsx)(s.a,{href:"https://docs.docker.com/compose/compose-file/compose-versioning",children:"https://docs.docker.com/compose/compose-file/compose-versioning"})]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (dockerComposeFileVersion should not be empty)"]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"3"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"beforeSaveExampleDockerComposeFile"})}),(0,r.jsx)(s.td,{children:"Before save file for example docker-compose."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"beforeSaveDockerComposeFile"})}),(0,r.jsx)(s.td,{children:"Before save main file for docker-compose."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"beforeSaveProdDockerComposeFile"})}),(0,r.jsx)(s.td,{children:"Before save main file for prod docker-compose."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"beforeSaveDockerComposeEnvFile"})}),(0,r.jsx)(s.td,{children:"Method before save dotenv file for docker-compose file."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"beforeSaveProdDockerComposeEnvFile"})}),(0,r.jsx)(s.td,{children:"Method before save dotenv file for prod docker-compose file."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"feature-configuration",children:"Feature configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"version"})}),(0,r.jsxs)(s.td,{children:["The top-level version property is defined by the Compose Specification for backward compatibility. It is only informative. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/04-version-and-name.md",children:"https://github.com/compose-spec/compose-spec/blob/master/04-version-and-name.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"services"})}),(0,r.jsxs)(s.td,{children:["A service is an abstract definition of a computing resource within an application which can be scaled or replaced independently from other components. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/05-services.md",children:"https://github.com/compose-spec/compose-spec/blob/master/05-services.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsxs)(s.td,{children:["Networks are the layer that allow services to communicate with each other. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/06-networks.md",children:"https://github.com/compose-spec/compose-spec/blob/master/06-networks.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"volumes"})}),(0,r.jsxs)(s.td,{children:["Volumes are persistent data stores implemented by the container engine. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/07-volumes.md",children:"https://github.com/compose-spec/compose-spec/blob/master/07-volumes.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"secrets"})}),(0,r.jsxs)(s.td,{children:["Secrets are a flavor of Configs focusing on sensitive data, with specific constraint for this usage. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/09-secrets.md",children:"https://github.com/compose-spec/compose-spec/blob/master/09-secrets.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"configs"})}),(0,r.jsxs)(s.td,{children:["Configs allow services to adapt their behaviour without the need to rebuild a Docker image. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/08-configs.md",children:"https://github.com/compose-spec/compose-spec/blob/master/08-configs.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"modules-that-use-feature-configuration",children:"Modules that use feature configuration"}),"\n",(0,r.jsx)(s.h5,{id:"feature-module-name-authorizer",children:"Feature module name: AUTHORIZER"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"version"})}),(0,r.jsxs)(s.td,{children:["The top-level version property is defined by the Compose Specification for backward compatibility. It is only informative. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/04-version-and-name.md",children:"https://github.com/compose-spec/compose-spec/blob/master/04-version-and-name.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"services"})}),(0,r.jsxs)(s.td,{children:["A service is an abstract definition of a computing resource within an application which can be scaled or replaced independently from other components. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/05-services.md",children:"https://github.com/compose-spec/compose-spec/blob/master/05-services.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'{"authorizer":{"image":"lakhansamani/authorizer:1.3.8","container_name":"authorizer","ports":["8080:8080"],"networks":["default-network"],"environment":{"DATABASE_NAME":"authorizer","PORT":8080,"COOKIE_NAME":"authorizer","DISABLE_PLAYGROUND":true,"ACCESS_TOKEN_EXPIRY_TIME":"30m","IMAGE":"lakhansamani/authorizer:1.3.8","EXTERNAL_CLIENT_PORT":8080,"ENV":"production","RESET_PASSWORD_URL":"/reset-password","ROLES":"user,admin","DEFAULT_ROLES":"user","JWT_ROLE_CLAIM":"role","ORGANIZATION_NAME":"Authorizer","ORGANIZATION_LOGO":"Authorizer Logo","COUCHBASE_BUCKET":"authorizer","COUCHBASE_BUCKET_RAM_QUOTA":1000,"COUCHBASE_SCOPE":"_default"},"keysOfEnvironmentsWithStaticValue":["featureName","image","networks","dependsOnServiceNames","env"],"tty":true,"restart":"always","depends_on":{}}}'})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsxs)(s.td,{children:["Networks are the layer that allow services to communicate with each other. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/06-networks.md",children:"https://github.com/compose-spec/compose-spec/blob/master/06-networks.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'{"default-network":{"driver":"bridge"}}'})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"volumes"})}),(0,r.jsxs)(s.td,{children:["Volumes are persistent data stores implemented by the container engine. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/07-volumes.md",children:"https://github.com/compose-spec/compose-spec/blob/master/07-volumes.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"secrets"})}),(0,r.jsxs)(s.td,{children:["Secrets are a flavor of Configs focusing on sensitive data, with specific constraint for this usage. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/09-secrets.md",children:"https://github.com/compose-spec/compose-spec/blob/master/09-secrets.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"configs"})}),(0,r.jsxs)(s.td,{children:["Configs allow services to adapt their behaviour without the need to rebuild a Docker image. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/08-configs.md",children:"https://github.com/compose-spec/compose-spec/blob/master/08-configs.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"modules-that-use-feature-configuration-1",children:"Modules that use feature configuration"}),"\n",(0,r.jsx)(s.h5,{id:"feature-module-name-postgre_sql",children:"Feature module name: POSTGRE_SQL"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"version"})}),(0,r.jsxs)(s.td,{children:["The top-level version property is defined by the Compose Specification for backward compatibility. It is only informative. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/04-version-and-name.md",children:"https://github.com/compose-spec/compose-spec/blob/master/04-version-and-name.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"services"})}),(0,r.jsxs)(s.td,{children:["A service is an abstract definition of a computing resource within an application which can be scaled or replaced independently from other components. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/05-services.md",children:"https://github.com/compose-spec/compose-spec/blob/master/05-services.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'{"postgre-sql":{"image":"bitnami/postgresql:15.5.0","container_name":"postgre-sql","volumes":["postgre-sql-volume:/bitnami/postgresql"],"ports":["5432:5432"],"networks":["default-network"],"healthcheck":{"test":["CMD-SHELL","pg_isready -U postgres"],"interval":"5s","timeout":"5s","retries":5},"tty":true,"restart":"always"}}'})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsxs)(s.td,{children:["Networks are the layer that allow services to communicate with each other. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/06-networks.md",children:"https://github.com/compose-spec/compose-spec/blob/master/06-networks.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'{"default-network":{"driver":"bridge"}}'})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"volumes"})}),(0,r.jsxs)(s.td,{children:["Volumes are persistent data stores implemented by the container engine. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/07-volumes.md",children:"https://github.com/compose-spec/compose-spec/blob/master/07-volumes.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'{"postgre-sql-volume":{"name":"postgre-sql-volume"}}'})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"secrets"})}),(0,r.jsxs)(s.td,{children:["Secrets are a flavor of Configs focusing on sensitive data, with specific constraint for this usage. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/09-secrets.md",children:"https://github.com/compose-spec/compose-spec/blob/master/09-secrets.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"configs"})}),(0,r.jsxs)(s.td,{children:["Configs allow services to adapt their behaviour without the need to rebuild a Docker image. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/08-configs.md",children:"https://github.com/compose-spec/compose-spec/blob/master/08-configs.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"modules-that-use-feature-configuration-2",children:"Modules that use feature configuration"}),"\n",(0,r.jsx)(s.h5,{id:"feature-module-name-minio",children:"Feature module name: MINIO"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"version"})}),(0,r.jsxs)(s.td,{children:["The top-level version property is defined by the Compose Specification for backward compatibility. It is only informative. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/04-version-and-name.md",children:"https://github.com/compose-spec/compose-spec/blob/master/04-version-and-name.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"services"})}),(0,r.jsxs)(s.td,{children:["A service is an abstract definition of a computing resource within an application which can be scaled or replaced independently from other components. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/05-services.md",children:"https://github.com/compose-spec/compose-spec/blob/master/05-services.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'{"minio":{"image":"bitnami/minio:2024.2.9","container_name":"minio","volumes":["minio-volume:/bitnami/minio/data"],"ports":["9000:9000","9001:9001"],"networks":["default-network"],"environment":{},"keysOfEnvironmentsWithStaticValue":["featureName","image","networks","nginxBucketsLocations","nginxConfigContent","nginxConfigFolder","nginxLogsFolder"],"healthcheck":{"test":["CMD-SHELL","mc","ready","local"],"interval":"5s","timeout":"5s","retries":5},"tty":true,"restart":"always"}}'})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsxs)(s.td,{children:["Networks are the layer that allow services to communicate with each other. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/06-networks.md",children:"https://github.com/compose-spec/compose-spec/blob/master/06-networks.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'{"default-network":{"driver":"bridge"}}'})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"volumes"})}),(0,r.jsxs)(s.td,{children:["Volumes are persistent data stores implemented by the container engine. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/07-volumes.md",children:"https://github.com/compose-spec/compose-spec/blob/master/07-volumes.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'{"minio-volume":{"name":"minio-volume"}}'})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"secrets"})}),(0,r.jsxs)(s.td,{children:["Secrets are a flavor of Configs focusing on sensitive data, with specific constraint for this usage. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/09-secrets.md",children:"https://github.com/compose-spec/compose-spec/blob/master/09-secrets.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"configs"})}),(0,r.jsxs)(s.td,{children:["Configs allow services to adapt their behaviour without the need to rebuild a Docker image. @see ",(0,r.jsx)(s.a,{href:"https://github.com/compose-spec/compose-spec/blob/master/08-configs.md",children:"https://github.com/compose-spec/compose-spec/blob/master/08-configs.md"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"dockercomposeauthorizer",children:"DockerComposeAuthorizer"}),"\n",(0,r.jsxs)(s.p,{children:["Authorizer is an open-source authentication and authorization solution for your applications. Bring your database and have complete control over the user information. You can self-host authorizer instances and connect to supported databases. (Generator for ",(0,r.jsx)(s.a,{href:"https://authorizer.dev",children:"https://authorizer.dev"})," in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]}),"\n",(0,r.jsx)(s.h4,{id:"use-in-nestjs-mod-1",children:"Use in NestJS-mod"}),"\n",(0,r.jsx)(s.p,{children:"An approximate description of how to connect, an extended description with an example application will be next time (todo: right now I have a lot of work and don\u2019t have time to arrange everything properly \ud83d\ude09)"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"bootstrapNestApplication({\n  globalConfigurationOptions: { debug: true },\n  globalEnvironmentsOptions: { debug: true },\n  modules: {\n    system: [\n      ProjectUtils.forRoot({\n        staticConfiguration: {\n          applicationPackageJsonFile: join(appFolder, PACKAGE_JSON_FILE),\n          packageJsonFile: join(rootFolder, PACKAGE_JSON_FILE),\n          envFile: join(rootFolder, '.env'),\n        },\n      }),\n      DefaultNestApplicationInitializer.forRoot(),\n      DefaultNestApplicationListener.forRoot({\n        staticConfiguration: {\n          // When running in infrastructure mode, the backend server does not start.\n          mode: isInfrastructureMode() ? 'silent' : 'listen',\n        },\n      }),\n    ],\n    infrastructure: [\n      DockerCompose.forRoot({\n        configuration: {\n          dockerComposeFileVersion: '3',\n          dockerComposeFile: join(appFolder, DOCKER_COMPOSE_FILE),\n        },\n      }),\n      DockerComposePostgreSQL.forFeature({\n        featureModuleName: authorizerFeatureName,\n      }),\n      DockerComposeRedis.forRoot(),\n      DockerComposeAuthorizer.forRoot({\n        staticEnvironments: {\n          redisUrl: '%SERVER_AUTHORIZER_INTERNAL_REDIS_URL%',\n          databaseUrl: '%SERVER_AUTHORIZER_INTERNAL_DATABASE_URL%',\n        },\n        staticConfiguration: {\n          featureName: authorizerFeatureName,\n          organizationName: 'OrganizationName',\n          dependsOnServiceNames: {\n            'postgre-sql-migrations': 'service_completed_successfully',\n            redis: 'service_healthy',\n          },\n        },\n      }),\n    ],\n  },\n});\n"})}),"\n",(0,r.jsxs)(s.p,{children:["After connecting the module to the application and ",(0,r.jsx)(s.code,{children:"npm run build"})," and starting generation of documentation through ",(0,r.jsx)(s.code,{children:"npm run docs:infrastructure"}),", you will have new files and scripts to run."]}),"\n",(0,r.jsxs)(s.p,{children:["New scripts mostly ",(0,r.jsx)(s.code,{children:"package.json"})]}),"\n",(0,r.jsxs)(s.p,{children:["Add database options to docker-compose file for application ",(0,r.jsx)(s.code,{children:"docker-compose.yml"})," with real credenionals and add it to ",(0,r.jsx)(s.code,{children:".gitignore"})," file"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:'version: \'3\'\nservices:\n  server-authorizer:\n    image: "lakhansamani/authorizer:1.3.8"\n    container_name: "server-authorizer"\n    ports:\n      - "8080:8080"\n    networks:\n      - "server-network"\n    environment:\n      REDIS_URL: "redis://:cgSOXCMczzNFkxAmDJAsoujJYpoMDuTT@server-redis:6379"\n      DATABASE_URL: "postgres://Yk42KA4sOb:B7Ep2MwlRR6fAx0frXGWVTGP850qAxM6@server-postgre-sql:5432/authorizer"\n      ADMIN_SECRET: "VfKSfPPljhHBXCEohnitursmgDxfAyiD"\n      DATABASE_TYPE: "postgres"\n      DATABASE_NAME: "authorizer"\n      FEATURE_NAME: "authorizer"\n      ORGANIZATION_NAME: "OrganizationName"\n      DEPENDS_ON_SERVICE_NAMES: "[object Object]"\n      IMAGE: "lakhansamani/authorizer:1.3.8"\n      EXTERNAL_CLIENT_PORT: "8080"\n      ENV: "production"\n      PORT: "8080"\n      COOKIE_NAME: "authorizer"\n      RESET_PASSWORD_URL: "/reset-password"\n      DISABLE_PLAYGROUND: "true"\n      ROLES: "user,admin"\n      DEFAULT_ROLES: "user"\n      JWT_ROLE_CLAIM: "role"\n      ORGANIZATION_LOGO: "Authorizer Logo"\n      ACCESS_TOKEN_EXPIRY_TIME: "30m"\n      COUCHBASE_BUCKET: "authorizer"\n      COUCHBASE_BUCKET_RAM_QUOTA: "1000"\n      COUCHBASE_SCOPE: "_default"\n    tty: true\n    restart: "always"\n    depends_on:\n      server-postgre-sql-migrations:\n        condition: "service_completed_successfully"\n      server-redis:\n        condition: "service_healthy"\nnetworks:\n  server-network:\n    driver: \'bridge\'\n'})}),"\n",(0,r.jsx)(s.p,{children:"New environment variable"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"SERVER_AUTHORIZER_DATABASE_URL=postgres://Yk42KA4sOb:B7Ep2MwlRR6fAx0frXGWVTGP850qAxM6@server-postgre-sql:5432/authorizer?schema=public\nSERVER_AUTHORIZER_REDIS_URL=redis://:cgSOXCMczzNFkxAmDJAsoujJYpoMDuTT@server-redis:6379\nSERVER_AUTHORIZER_INTERNAL_DATABASE_URL=postgres://Yk42KA4sOb:B7Ep2MwlRR6fAx0frXGWVTGP850qAxM6@server-postgre-sql:5432/authorizer\nSERVER_AUTHORIZER_INTERNAL_REDIS_URL=redis://:cgSOXCMczzNFkxAmDJAsoujJYpoMDuTT@server-redis:6379\n# server-authorizer (generated)\nREDIS_URL=redis://:cgSOXCMczzNFkxAmDJAsoujJYpoMDuTT@server-redis:6379\nDATABASE_URL=postgres://Yk42KA4sOb:B7Ep2MwlRR6fAx0frXGWVTGP850qAxM6@server-postgre-sql:5432/authorizer\nADMIN_SECRET=VfKSfPPljhHBXCEohnitursmgDxfAyiD\nDATABASE_TYPE=postgres\nDATABASE_NAME=authorizer\nFEATURE_NAME=authorizer\nORGANIZATION_NAME='OrganizationName'\nIMAGE=lakhansamani/authorizer:1.3.8\nEXTERNAL_CLIENT_PORT=8080\nENV=production\nPORT=8080\nCOOKIE_NAME=authorizer\nRESET_PASSWORD_URL=/reset-password\nDISABLE_PLAYGROUND=true\nROLES=user,admin\nDEFAULT_ROLES=user\nJWT_ROLE_CLAIM=role\nORGANIZATION_LOGO='Authorizer Logo'\nACCESS_TOKEN_EXPIRY_TIME=30m\nCOUCHBASE_BUCKET=authorizer\nCOUCHBASE_BUCKET_RAM_QUOTA=1000\nCOUCHBASE_SCOPE=_default\n"})}),"\n",(0,r.jsxs)(s.p,{children:["When launched in the infrastructure documentation generation mode, the module creates an ",(0,r.jsx)(s.code,{children:".env"})," file with a list of all required variables, as well as an example ",(0,r.jsx)(s.code,{children:"example.env"}),", where you can enter example variable values."]}),"\n",(0,r.jsx)(s.h4,{id:"static-environments",children:"Static environments"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Sources"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"adminSecret"})}),(0,r.jsx)(s.td,{children:"Super admin secret used to access the master data."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['adminSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['ADMIN_SECRET']"})]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (adminSecret should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databaseType"})}),(0,r.jsx)(s.td,{children:"Which database you are using. Supported database types are postgres, mysql, planetscale, sqlite, sqlserver, mongodb, arangodb, yugabyte, mariadb, cassandradb, scylladb, couchbase, dynamodb."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databaseType']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_TYPE']"})]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (databaseType should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databaseUrl"})}),(0,r.jsx)(s.td,{children:"Database connection string. In case of cluster url eg. for cassandra db, you can use comma separated IPs."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databaseUrl']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_URL']"})]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (databaseUrl should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databaseName"})}),(0,r.jsx)(s.td,{children:"Name of database to connect to. This is useful in case of arangodb and mongodb. If not set, default value will be used."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databaseName']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_NAME']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"authorizer"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"authorizer"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"redisUrl"})}),(0,r.jsx)(s.td,{children:"Redis URL where sessions can be persisted\tfalse\tsessions will be stored in memory."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['redisUrl']"}),", ",(0,r.jsx)(s.code,{children:"process.env['REDIS_URL']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databasePort"})}),(0,r.jsx)(s.td,{children:"Port on which database connection should be made. This is used when DATABASE_URL is not mentioned. At the moment supported by cassandradb."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databasePort']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_PORT']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databaseHost"})}),(0,r.jsx)(s.td,{children:"Host/IP on which database connection should be made. This is used when DATABASE_URL is not mentioned. At the moment supported by cassandradb type."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databaseHost']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_HOST']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databaseUsername"})}),(0,r.jsx)(s.td,{children:"Username for the database access with permission to create tables and records. At the moment supported by cassandradb, scylladb type."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databaseUsername']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_USERNAME']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databasePassword"})}),(0,r.jsx)(s.td,{children:"Password for the database access with permission to create tables and records. At the moment supported by cassandradb, scylladb type."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databasePassword']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_PASSWORD']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databaseCert"})}),(0,r.jsx)(s.td,{children:"Base64 encoded certificate string used to make SSL connection. At the moment supported by cassandradb,scylladb type."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databaseCert']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_CERT']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databaseCertKey"})}),(0,r.jsx)(s.td,{children:"Base64 encoded key string used to make SSL connection. At the moment supported by cassandradb,scylladb type"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databaseCertKey']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_CERT_KEY']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databaseCaCert"})}),(0,r.jsx)(s.td,{children:"Base64 encoded CA certificate string used to make SSL connection. At the moment supported by cassandradb, scylladb type."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databaseCaCert']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_CA_CERT']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"port"})}),(0,r.jsx)(s.td,{children:"Port on which server should be running."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['port']"}),", ",(0,r.jsx)(s.code,{children:"process.env['PORT']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"8080"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"8080"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"authorizerUrl"})}),(0,r.jsxs)(s.td,{children:["Domain name of the server, eg ",(0,r.jsx)(s.a,{href:"https://authorizer.herokuapp.com",children:"https://authorizer.herokuapp.com"}),"."]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['authorizerUrl']"}),", ",(0,r.jsx)(s.code,{children:"process.env['AUTHORIZER_URL']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"cookieName"})}),(0,r.jsx)(s.td,{children:"Name of cookie to be set by server."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['cookieName']"}),", ",(0,r.jsx)(s.code,{children:"process.env['COOKIE_NAME']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"authorizer"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"authorizer"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"smtpHost"})}),(0,r.jsx)(s.td,{children:"SMTP host is used to send email verification emails and forgot password emails\tfalse\tIf not set email sending can fail."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['smtpHost']"}),", ",(0,r.jsx)(s.code,{children:"process.env['SMTP_HOST']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"smtpPort"})}),(0,r.jsx)(s.td,{children:"SMTP Port is used along with SMTP host."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['smtpPort']"}),", ",(0,r.jsx)(s.code,{children:"process.env['SMTP_PORT']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"smtpUsername"})}),(0,r.jsx)(s.td,{children:"Username for your smtp provider."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['smtpUsername']"}),", ",(0,r.jsx)(s.code,{children:"process.env['SMTP_USERNAME']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"smtpPassword"})}),(0,r.jsx)(s.td,{children:"Password for your smt provider"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['smtpPassword']"}),", ",(0,r.jsx)(s.code,{children:"process.env['SMTP_PASSWORD']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"senderEmail"})}),(0,r.jsx)(s.td,{children:"Email to be used in From section while sending emails."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['senderEmail']"}),", ",(0,r.jsx)(s.code,{children:"process.env['SENDER_EMAIL']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"senderName"})}),(0,r.jsx)(s.td,{children:"Email sender name that is displayed in the inbox instead of just showing the email address."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['senderName']"}),", ",(0,r.jsx)(s.code,{children:"process.env['SENDER_NAME']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disablePlayground"})}),(0,r.jsx)(s.td,{children:"To disable playground"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['disablePlayground']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DISABLE_PLAYGROUND']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"true"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"true"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"accessTokenExpiryTime"})}),(0,r.jsx)(s.td,{children:"Time interval for how long access token will be expired in 1h15m15s format."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['accessTokenExpiryTime']"}),", ",(0,r.jsx)(s.code,{children:"process.env['ACCESS_TOKEN_EXPIRY_TIME']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"30m"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"30m"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"awsAccessKeyId"})}),(0,r.jsx)(s.td,{children:"AWS access key used for connecting to dynamodb. Make sure access credentials has rights for dynamodb. Used with DATABASE_TYPE=dynamodb."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['awsAccessKeyId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['AWS_ACCESS_KEY_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"awsSecretAccessKey"})}),(0,r.jsx)(s.td,{children:"AWS secret access key used for connecting to dynamodb. Make sure access credentials has rights for dynamodb. Used with DATABASE_TYPE=dynamodb."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['awsSecretAccessKey']"}),", ",(0,r.jsx)(s.code,{children:"process.env['AWS_SECRET_ACCESS_KEY']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"googleClientId"})}),(0,r.jsx)(s.td,{children:"OAuth Google login client id."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['googleClientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['GOOGLE_CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"googleClientSecret"})}),(0,r.jsx)(s.td,{children:"OAuth Google login client secret."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['googleClientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['GOOGLE_CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"githubClientId"})}),(0,r.jsx)(s.td,{children:"OAuth Github login client id."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['githubClientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['GITHUB_CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"githubClientSecret"})}),(0,r.jsx)(s.td,{children:"OAuth Github login client secret."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['githubClientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['GITHUB_CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"facebookClientId"})}),(0,r.jsx)(s.td,{children:"OAuth Facebook login client id."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['facebookClientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['FACEBOOK_CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"facebookClientSecret"})}),(0,r.jsx)(s.td,{children:"OAuth Facebook login client secret."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['facebookClientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['FACEBOOK_CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"linkedinClientId"})}),(0,r.jsx)(s.td,{children:"OAuth LinkedIn login client id."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['linkedinClientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['LINKEDIN_CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"linkedinClientSecret"})}),(0,r.jsx)(s.td,{children:"OAuth LinkedIn login client secret."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['linkedinClientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['LINKEDIN_CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"appleClientId"})}),(0,r.jsx)(s.td,{children:"OAuth Apple login client id."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['appleClientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['APPLE_CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"appleClientSecret"})}),(0,r.jsx)(s.td,{children:"OAuth Apple login client secret."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['appleClientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['APPLE_CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"twitterClientId"})}),(0,r.jsx)(s.td,{children:"OAuth Twitter login client id."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['twitterClientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['TWITTER_CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"twitterClientSecret"})}),(0,r.jsx)(s.td,{children:"OAuth Twitter login client secret."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['twitterClientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['TWITTER_CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"microsoftClientId"})}),(0,r.jsx)(s.td,{children:"OAuth Microsoft login client id."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['microsoftClientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['MICROSOFT_CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"microsoftClientSecret"})}),(0,r.jsx)(s.td,{children:"OAuth Microsoft login client secret."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['microsoftClientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['MICROSOFT_CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"microsoftActiveDirectoryTenantId"})}),(0,r.jsx)(s.td,{children:"Microsoft Active Directory Tenant ID obtained from azure portal."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['microsoftActiveDirectoryTenantId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['MICROSOFT_ACTIVE_DIRECTORY_TENANT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"smtpLocalName"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['smtpLocalName']"}),", ",(0,r.jsx)(s.code,{children:"process.env['SMTP_LOCAL_NAME']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"jwtSecret"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['jwtSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['JWT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"jwtPrivateKey"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['jwtPrivateKey']"}),", ",(0,r.jsx)(s.code,{children:"process.env['JWT_PRIVATE_KEY']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"jwtPublicKey"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['jwtPublicKey']"}),", ",(0,r.jsx)(s.code,{children:"process.env['JWT_PUBLIC_KEY']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"appUrl"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['appUrl']"}),", ",(0,r.jsx)(s.code,{children:"process.env['APP_URL']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"discordClientId"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['discordClientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DISCORD_CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"discordClientSecret"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['discordClientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DISCORD_CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"twitchClientId"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['twitchClientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['TWITCH_CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"twitchClientSecret"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['twitchClientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['TWITCH_CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"clientId"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['clientId']"}),", ",(0,r.jsx)(s.code,{children:"process.env['CLIENT_ID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"clientSecret"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['clientSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['CLIENT_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"encryptionKey"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['encryptionKey']"}),", ",(0,r.jsx)(s.code,{children:"process.env['ENCRYPTION_KEY']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"isProd"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['isProd']"}),", ",(0,r.jsx)(s.code,{children:"process.env['IS_PROD']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"allowedOrigins"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['allowedOrigins']"}),", ",(0,r.jsx)(s.code,{children:"process.env['ALLOWED_ORIGINS']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"twilioApiKey"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['twilioApiKey']"}),", ",(0,r.jsx)(s.code,{children:"process.env['TWILIO_API_KEY']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"twilioApiSecret"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['twilioApiSecret']"}),", ",(0,r.jsx)(s.code,{children:"process.env['TWILIO_API_SECRET']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"twilioAccountSid"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['twilioAccountSid']"}),", ",(0,r.jsx)(s.code,{children:"process.env['TWILIO_ACCOUNT_SID']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"twilioSender"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['twilioSender']"}),", ",(0,r.jsx)(s.code,{children:"process.env['TWILIO_SENDER']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"static-configuration",children:"Static configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"image"})}),(0,r.jsx)(s.td,{children:"Docker image name."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"lakhansamani/authorizer:1.3.8"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"featureName"})}),(0,r.jsx)(s.td,{children:"Feature name for generate prefix to environments keys."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsx)(s.td,{children:"Network, if not set networkNames have project name and driver=bridge."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"externalClientPort"})}),(0,r.jsx)(s.td,{children:"External port for sharing container."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"8080"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dependsOnServiceNames"})}),(0,r.jsx)(s.td,{children:"Depends on services"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"env"})}),(0,r.jsx)(s.td,{children:"Which env you are running your server in. Supported envs production, development."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"production"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"resetPasswordUrl"})}),(0,r.jsx)(s.td,{children:"Reset password link, that can be used to send the correct forgot password link."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"/reset-password"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableBasicAuthentication"})}),(0,r.jsx)(s.td,{children:"Used to explicitly disable email and password based authentication."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableEmailVerification"})}),(0,r.jsx)(s.td,{children:"Used to disable the email verification while signing up."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableMagicLinkLogin"})}),(0,r.jsx)(s.td,{children:"Used to disable the password less login up."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableLoginPage"})}),(0,r.jsx)(s.td,{children:"Used to disable the default login page that comes with authorizer instance. This is helpful when user is building their custom login page."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableSignUp"})}),(0,r.jsx)(s.td,{children:"Used to disable the sign up feature. It is useful when you want to have beta release of your product and invite only limited users."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"roles"})}),(0,r.jsx)(s.td,{children:"Comma separated list of roles that your platform supports."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"user,admin"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"defaultRoles"})}),(0,r.jsx)(s.td,{children:"Comma separated list of roles that acts as Default roles which you would like to assign to users while they signup /login."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"user"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"protectedRoles"})}),(0,r.jsx)(s.td,{children:"Comma separated list of roles for which signup should be disabled. Example admin roles. This roles can only assigned manually via super admin like adminUpdateProfile."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"jwtRoleClaim"})}),(0,r.jsx)(s.td,{children:"Claim key that will be part of JWT token."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"role"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"organizationName"})}),(0,r.jsx)(s.td,{children:"Name of organization that you want on default login page."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorizer"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"organizationLogo"})}),(0,r.jsx)(s.td,{children:"Logo of organization that you want on default login page."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorizer Logo"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"customAccessTokenScript"})}),(0,r.jsx)(s.td,{children:"Javascript function to add extra keys to your JWT id token. This feature is developed using otto and only supports writing function in ES5. Check the sample here."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"awsRegion"})}),(0,r.jsx)(s.td,{children:"AWS, region id, where dynamod db tables are to be created. Used with DATABASE_TYPE=dynamodb."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"couchbaseBucket"})}),(0,r.jsx)(s.td,{children:"Bucket used for couchbase database. Used with DATABASE_TYPE=couchbase."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"authorizer"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"couchbaseBucketRamQuota"})}),(0,r.jsx)(s.td,{children:"RAM Quota for the bucket used for couchbase database. It has to be numeric value only. Used with DATABASE_TYPE=couchbase."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"1000"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"couchbaseScope"})}),(0,r.jsx)(s.td,{children:"Scope in which bucket is created. Used with DATABASE_TYPE=couchbase."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"_default"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"test"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"envPath"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"isEmailServiceEnabled"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"isSmsServiceEnabled"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"appCookieSecure"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"adminCookieSecure"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"jwtType"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"jwk"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableMobileBasicAuthentication"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableRedisForEnv"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableStrongPassword"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"enforceMultiFactorAuthentication"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableMultiFactorAuthentication"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableTotpLogin"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableMailOtpLogin"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disablePhoneVerification"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"defaultAuthorizeResponseType"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"defaultAuthorizeResponseMode"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"dockercomposeminio",children:"DockerComposeMinio"}),"\n",(0,r.jsxs)(s.p,{children:["MinIO is a high-performance, S3 compatible object storage. (Generator for minio in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]}),"\n",(0,r.jsx)(s.h4,{id:"use-in-nestjs-mod-2",children:"Use in NestJS-mod"}),"\n",(0,r.jsxs)(s.p,{children:["An example of using Minio, you can see the full example here ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-minio",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-minio"})," and frontend on Angular here ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-minio-angular",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-minio-angular"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"import {\n  DefaultNestApplicationInitializer,\n  DefaultNestApplicationListener,\n  InfrastructureMarkdownReportGenerator,\n  PACKAGE_JSON_FILE,\n  ProjectUtils,\n  bootstrapNestApplication,\n  isInfrastructureMode,\n} from '@nestjs-mod/common';\nimport { join } from 'path';\n\nimport { DOCKER_COMPOSE_FILE, DockerCompose, DockerComposeMinio } from '@nestjs-mod/docker-compose';\n\nconst userFeatureName = 'minio-user';\nconst rootFolder = join(__dirname, '..', '..', '..');\nconst appFolder = join(rootFolder, 'apps', 'example-minio');\n\nbootstrapNestApplication({\n  globalConfigurationOptions: { debug: true },\n  globalEnvironmentsOptions: { debug: true },\n  modules: {\n    system: [\n      ProjectUtils.forRoot({\n        staticConfiguration: {\n          applicationPackageJsonFile: join(appFolder, PACKAGE_JSON_FILE),\n          packageJsonFile: join(rootFolder, PACKAGE_JSON_FILE),\n          envFile: join(rootFolder, '.env'),\n        },\n      }),\n      DefaultNestApplicationInitializer.forRoot(),\n      DefaultNestApplicationListener.forRoot({\n        staticConfiguration: {\n          // When running in infrastructure mode, the backend server does not start.\n          mode: isInfrastructureMode() ? 'silent' : 'listen',\n        },\n      }),\n    ],\n    infrastructure: [\n      InfrastructureMarkdownReportGenerator.forRoot({\n        staticConfiguration: {\n          markdownFile: join(appFolder, 'INFRASTRUCTURE.MD'),\n          skipEmptySettings: true,\n        },\n      }),\n      DockerCompose.forRoot({\n        configuration: {\n          dockerComposeFileVersion: '3',\n          dockerComposeFile: join(appFolder, DOCKER_COMPOSE_FILE),\n        },\n      }),\n      DockerComposeMinio.forRoot({\n        staticConfiguration: {\n          nginxPort: 1111,\n          nginxFilesFolder: join(appFolder, 'ngnix'),\n          featureName: userFeatureName,\n        },\n      }),\n    ],\n  },\n});\n"})}),"\n",(0,r.jsxs)(s.p,{children:["After connecting the module to the application and ",(0,r.jsx)(s.code,{children:"npm run build"})," and starting generation of documentation through ",(0,r.jsx)(s.code,{children:"npm run docs:infrastructure"}),", you will have new files and scripts to run."]}),"\n",(0,r.jsxs)(s.p,{children:["New scripts mostly ",(0,r.jsx)(s.code,{children:"package.json"})]}),"\n",(0,r.jsxs)(s.p,{children:["Add database options to docker-compose file for application ",(0,r.jsx)(s.code,{children:"docker-compose.yml"})," with real credenionals and add it to ",(0,r.jsx)(s.code,{children:".gitignore"})," file"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"version: '3'\nservices:\n  example-minio-minio:\n    image: 'bitnami/minio:2024.2.9'\n    container_name: 'example-minio-minio'\n    volumes:\n      - 'example-minio-minio-volume:/bitnami/minio/data'\n    ports:\n      - '9000:9000'\n      - '9001:9001'\n    networks:\n      - 'example-minio-network'\n    environment:\n      MINIO_ROOT_USER: 'minioadmin'\n      MINIO_ROOT_PASSWORD: '6EcbcW66JsKvFrY2bZw6QGKjHhefca7Kgppq'\n    healthcheck:\n      test:\n        - 'CMD-SHELL'\n        - 'mc'\n        - 'ready'\n        - 'local'\n      interval: '5s'\n      timeout: '5s'\n      retries: 5\n    tty: true\n    restart: 'always'\n  example-minio-nginx:\n    image: 'nginx:alpine'\n    container_name: 'example-minio-nginx'\n    volumes:\n      - './ngnix/config:/etc/nginx/conf.d'\n      - './ngnix/logs:/var/log/nginx/'\n    ports:\n      - '1111:1111'\n    networks:\n      - 'example-minio-network'\n    tty: true\n    restart: 'always'\n    depends_on:\n      example-minio-minio:\n        condition: 'service_started'\nnetworks:\n  example-minio-network:\n    driver: 'bridge'\nvolumes:\n  example-minio-minio-volume:\n    name: 'example-minio-minio-volume'\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Add database options to docker-compose file for application ",(0,r.jsx)(s.code,{children:"docker-compose-example.yml"})," with fake credenionals"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"# Do not modify this file, it is generated using the DockerCompose module included with NestJS-mod.\nversion: '3'\nservices:\n  example-minio-minio:\n    image: 'bitnami/minio:2024.2.9'\n    container_name: 'example-minio-minio'\n    volumes:\n      - 'example-minio-minio-volume:/bitnami/minio/data'\n    ports:\n      - '9000:9000'\n      - '9001:9001'\n    networks:\n      - 'example-minio-network'\n    environment:\n      MINIO_ROOT_USER: 'value_for_minio_root_user'\n      MINIO_ROOT_PASSWORD: 'value_for_minio_root_password'\n    healthcheck:\n      test:\n        - 'CMD-SHELL'\n        - 'mc'\n        - 'ready'\n        - 'local'\n      interval: '5s'\n      timeout: '5s'\n      retries: 5\n    tty: true\n    restart: 'always'\n  example-minio-nginx:\n    image: 'nginx:alpine'\n    container_name: 'example-minio-nginx'\n    volumes:\n      - './ngnix/config:/etc/nginx/conf.d'\n      - './ngnix/logs:/var/log/nginx/'\n    ports:\n      - '1111:1111'\n    networks:\n      - 'example-minio-network'\n    tty: true\n    restart: 'always'\n    depends_on:\n      example-minio-minio:\n        condition: 'service_started'\nnetworks:\n  example-minio-network:\n    driver: 'bridge'\nvolumes:\n  example-minio-minio-volume:\n    name: 'example-minio-minio-volume'\n"})}),"\n",(0,r.jsx)(s.p,{children:"New environment variable"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"EXAMPLE_MINIO_MINIO_USER_MINIO_ROOT_USER=minioadmin\nEXAMPLE_MINIO_MINIO_USER_MINIO_ROOT_PASSWORD=6EcbcW66JsKvFrY2bZw6QGKjHhefca7Kgppq\n"})}),"\n",(0,r.jsxs)(s.p,{children:["When launched in the infrastructure documentation generation mode, the module creates an ",(0,r.jsx)(s.code,{children:".env"})," file with a list of all required variables, as well as an example ",(0,r.jsx)(s.code,{children:"example.env"}),", where you can enter example variable values."]}),"\n",(0,r.jsx)(s.h4,{id:"static-environments-1",children:"Static environments"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Sources"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"minioRootUser"})}),(0,r.jsx)(s.td,{children:"Minio root user."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['minioRootUser']"}),", ",(0,r.jsx)(s.code,{children:"process.env['MINIO_ROOT_USER']"})]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (minioRootUser should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"minioRootPassword"})}),(0,r.jsx)(s.td,{children:"Minio root password."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['minioRootPassword']"}),", ",(0,r.jsx)(s.code,{children:"process.env['MINIO_ROOT_PASSWORD']"})]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (minioRootPassword should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"static-configuration-1",children:"Static configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"image"})}),(0,r.jsx)(s.td,{children:"Docker image name"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"bitnami/minio:2024.2.9"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"featureName"})}),(0,r.jsx)(s.td,{children:"Feature name for generate prefix to environments keys"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsx)(s.td,{children:"Network, if not set networkNames have project name and driver=bridge."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"externalPort"})}),(0,r.jsx)(s.td,{children:"External port for S3 API operations on the default MinIO server port."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"9000"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"externalConsolePort"})}),(0,r.jsx)(s.td,{children:"External console for browser access on the MinIO Console port."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"9001"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"nginxPort"})}),(0,r.jsx)(s.td,{children:"External port for proxy access over nginx (infrastructure, need for disable CORS errors)"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"nginxConfigFolder"})}),(0,r.jsx)(s.td,{children:"Folder for store nginx config (infrastructure)"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"nginxLogsFolder"})}),(0,r.jsx)(s.td,{children:"Folder for store nginx logs (infrastructure)"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"nginxBucketsLocations"})}),(0,r.jsx)(s.td,{children:"Locations for proxy to minio (infrastructure)"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsxs)(s.td,{children:["[ ",(0,r.jsx)(s.code,{children:"files"})," ]"]}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"nginxConfigContent"})}),(0,r.jsx)(s.td,{children:"Custom nginx config content (infrastructure)"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"dockercomposenats",children:"DockerComposeNats"}),"\n",(0,r.jsxs)(s.p,{children:["NATS is an open source, lightweight and high-performance messaging system. It is ideal for distributed systems and supports modern cloud architectures and pub-sub, request-reply and queuing models. (Generator for nats in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]}),"\n",(0,r.jsx)(s.h4,{id:"static-environments-2",children:"Static environments"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Sources"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"natsEnableAuth"})}),(0,r.jsx)(s.td,{children:"Enable Authentication."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['natsEnableAuth']"}),", ",(0,r.jsx)(s.code,{children:"process.env['NATS_ENABLE_AUTH']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"natsUsername"})}),(0,r.jsx)(s.td,{children:"Username credential for client connections."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['natsUsername']"}),", ",(0,r.jsx)(s.code,{children:"process.env['NATS_USERNAME']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"natsPassword"})}),(0,r.jsx)(s.td,{children:"Password credential for client connections."}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['natsPassword']"}),", ",(0,r.jsx)(s.code,{children:"process.env['NATS_PASSWORD']"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"static-configuration-2",children:"Static configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"image"})}),(0,r.jsx)(s.td,{children:"Docker image name."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"bitnami/nats:2.10.5"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"featureName"})}),(0,r.jsx)(s.td,{children:"Feature name for generate prefix to environments keys"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsx)(s.td,{children:"Network, if not set networkNames have project name and driver=bridge."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"externalClientPort"})}),(0,r.jsx)(s.td,{children:"External client port for sharing container."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"4222"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"externalHttpPort"})}),(0,r.jsx)(s.td,{children:"External http port for sharing container."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"8222"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"extraArgs"})}),(0,r.jsx)(s.td,{children:"Extra arguments."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"-js"})}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"dockercomposenginx",children:"DockerComposeNginx"}),"\n",(0,r.jsxs)(s.p,{children:["Nginx is a web server that can also be used as a reverse proxy, load balancer, mail proxy and HTTP cache. (Generator for nginx in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]}),"\n",(0,r.jsx)(s.h4,{id:"static-configuration-3",children:"Static configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"image"})}),(0,r.jsx)(s.td,{children:"Docker image name"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"nginx:alpine"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"configContent"})}),(0,r.jsx)(s.td,{children:"Config content"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (configContent should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"configFolder"})}),(0,r.jsx)(s.td,{children:"Config folder for map volume to /etc/nginx/conf.d"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (configFolder should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"logsFolder"})}),(0,r.jsx)(s.td,{children:"Logs folder for map volume to /var/log/nginx/"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dependsOnServiceNames"})}),(0,r.jsx)(s.td,{children:"Depends on services"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"ports"})}),(0,r.jsx)(s.td,{children:"Ports"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsx)(s.td,{children:"Network, if not set networkNames have project name and driver=bridge."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"dockercomposepostgresql",children:"DockerComposePostgreSQL"}),"\n",(0,r.jsxs)(s.p,{children:["PostgreSQL (Postgres) is an open source object-relational database known for reliability and data integrity. ACID-compliant, it supports foreign keys, joins, views, triggers and stored procedures. (Generator for databases in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/libs/infrastructure/docker-compose",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/libs/infrastructure/docker-compose"}),")"]}),"\n",(0,r.jsx)(s.h4,{id:"use-in-nestjs-mod-3",children:"Use in NestJS-mod"}),"\n",(0,r.jsxs)(s.p,{children:["An example you can see the full example here ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-prisma-flyway",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-prisma-flyway"})," or ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-prisma",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-prisma"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"import {\n  DefaultNestApplicationInitializer,\n  DefaultNestApplicationListener,\n  PACKAGE_JSON_FILE,\n  ProjectUtils,\n  bootstrapNestApplication,\n} from '@nestjs-mod/common';\nimport { DOCKER_COMPOSE_FILE, DockerCompose, DockerComposePostgreSQL } from '@nestjs-mod/docker-compose';\nimport { join } from 'path';\n\nexport const flywayPrismaFeatureName = 'flyway-prisma';\n\nconst rootFolder = join(__dirname, '..', '..', '..');\nconst appFolder = join(rootFolder, 'apps', 'example-prisma-flyway');\n\nbootstrapNestApplication({\n  modules: {\n    system: [\n      ProjectUtils.forRoot({\n        staticConfiguration: {\n          applicationPackageJsonFile: join(appFolder, PACKAGE_JSON_FILE),\n          packageJsonFile: join(rootFolder, PACKAGE_JSON_FILE),\n          envFile: join(rootFolder, '.env'),\n        },\n      }),\n      DefaultNestApplicationInitializer.forRoot(),\n      DefaultNestApplicationListener.forRoot({\n        staticConfiguration: {\n          // When running in infrastructure mode, the backend server does not start.\n          mode: isInfrastructureMode() ? 'silent' : 'listen',\n        },\n      }),\n    ],\n    infrastructure: [\n      DockerCompose.forRoot({\n        configuration: {\n          dockerComposeFileVersion: '3',\n          dockerComposeFile: join(appFolder, DOCKER_COMPOSE_FILE),\n        },\n      }),\n      DockerComposePostgreSQL.forRoot(),\n      DockerComposePostgreSQL.forFeature({\n        featureModuleName: flywayPrismaFeatureName,\n      }),\n    ],\n  },\n});\n"})}),"\n",(0,r.jsxs)(s.p,{children:["After connecting the module to the application and ",(0,r.jsx)(s.code,{children:"npm run build"})," and starting generation of documentation through ",(0,r.jsx)(s.code,{children:"npm run docs:infrastructure"}),", you will have new files and scripts to run."]}),"\n",(0,r.jsxs)(s.p,{children:["New scripts mostly ",(0,r.jsx)(s.code,{children:"package.json"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "scripts": {\n    "_____db_____": "_____db_____",\n    "db:create": "./node_modules/.bin/nx run-many --exclude=@nestjs-mod/contrib -t=db-create"\n  },\n  "scriptsComments": {\n    "db:create": ["Creation all databases of applications and modules"]\n  }\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Additional commands in the nx application ",(0,r.jsx)(s.code,{children:"project.json"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "targets": {\n    "db-create": {\n      "executor": "nx:run-commands",\n      "options": {\n        "commands": [\n          "./node_modules/.bin/rucken postgres --force-change-username=true --force-change-password=true --root-database-url=${EXAMPLE_PRISMA_FLYWAY_ROOT_DATABASE_URL} --app-database-url=${EXAMPLE_PRISMA_FLYWAY_FLYWAY_PRISMA_DATABASE_URL}"\n        ],\n        "parallel": false,\n        "envFile": "./.env",\n        "color": true\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Add database options to docker-compose file for application ",(0,r.jsx)(s.code,{children:"docker-compose.yml"})," with real credenionals and add it to ",(0,r.jsx)(s.code,{children:".gitignore"})," file"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"version: '3'\nservices:\n  example-prisma-flyway-postgre-sql:\n    image: bitnami/postgresql:15.5.0\n    container_name: example-prisma-flyway-postgre-sql\n    volumes:\n      - example-prisma-flyway-postgre-sql-volume:/bitnami/postgresql\n    ports:\n      - 5432:5432\n    networks:\n      - example-prisma-flyway-network\n    healthcheck:\n      test:\n        - CMD-SHELL\n        - pg_isready -U postgres\n      interval: 5s\n      timeout: 5s\n      retries: 5\n    tty: true\n    restart: always\n    environment:\n      POSTGRESQL_USERNAME: postgres\n      POSTGRESQL_PASSWORD: postgres_password\n      POSTGRESQL_DATABASE: postgres\nnetworks:\n  example-prisma-flyway-network:\n    driver: bridge\nvolumes:\n  example-prisma-flyway-postgre-sql-volume:\n    name: example-prisma-flyway-postgre-sql-volume\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Add database options to docker-compose file for application ",(0,r.jsx)(s.code,{children:"docker-compose-example.yml"})," with fake credenionals"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"# Do not modify this file, it is generated using the DockerCompose module included with NestJS-mod.\nversion: '3'\nservices:\n  example-prisma-flyway-postgre-sql:\n    image: bitnami/postgresql:15.5.0\n    container_name: example-prisma-flyway-postgre-sql\n    volumes:\n      - example-prisma-flyway-postgre-sql-volume:/bitnami/postgresql\n    ports:\n      - 5432:5432\n    networks:\n      - example-prisma-flyway-network\n    healthcheck:\n      test:\n        - CMD-SHELL\n        - pg_isready -U postgres\n      interval: 5s\n      timeout: 5s\n      retries: 5\n    tty: true\n    restart: always\n    environment:\n      POSTGRESQL_USERNAME: value_for_postgresql_username\n      POSTGRESQL_PASSWORD: value_for_postgresql_password\n      POSTGRESQL_DATABASE: value_for_postgresql_database\nnetworks:\n  example-prisma-flyway-network:\n    driver: bridge\nvolumes:\n  example-prisma-flyway-postgre-sql-volume:\n    name: example-prisma-flyway-postgre-sql-volume\n"})}),"\n",(0,r.jsx)(s.h4,{id:"static-environments-3",children:"Static environments"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Sources"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"rootDatabaseUrl"})}),(0,r.jsxs)(s.td,{children:["Connection string for PostgreSQL with root credentials (example: postgres://postgres",":postgres_password",'@localhost:5432/postgres?schema=public, username must be "postgres")']}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['rootDatabaseUrl']"}),", ",(0,r.jsx)(s.code,{children:"process.env['ROOT_DATABASE_URL']"})]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (rootDatabaseUrl should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"static-configuration-4",children:"Static configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"image"})}),(0,r.jsx)(s.td,{children:"Docker image name"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"bitnami/postgresql:15.5.0"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsx)(s.td,{children:"Network, if not set networkNames have project name and driver=bridge."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"externalPort"})}),(0,r.jsx)(s.td,{children:"External port for sharing container."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"5432"})}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"feature-environments",children:"Feature environments"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Sources"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"databaseUrl"})}),(0,r.jsxs)(s.td,{children:["Connection string for PostgreSQL with module credentials (example: postgres://feat",":feat_password","@localhost:5432/feat?schema=public)"]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['databaseUrl']"}),", ",(0,r.jsx)(s.code,{children:"process.env['DATABASE_URL']"})]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (databaseUrl should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"dockercomposeredis",children:"DockerComposeRedis"}),"\n",(0,r.jsxs)(s.p,{children:["The open-source, in-memory data store used by millions of developers as a cache, vector database, document database, streaming engine, and message broker. (Generator for redis in docker-compose.yml for ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@nestjs-mod/docker-compose",children:"https://www.npmjs.com/package/@nestjs-mod/docker-compose"}),")"]}),"\n",(0,r.jsx)(s.h4,{id:"use-in-nestjs-mod-4",children:"Use in NestJS-mod"}),"\n",(0,r.jsxs)(s.p,{children:["An example you can see the full example here ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-cache-manager",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-cache-manager"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"import {\n  DefaultNestApplicationInitializer,\n  DefaultNestApplicationListener,\n  InfrastructureMarkdownReportGenerator,\n  PACKAGE_JSON_FILE,\n  ProjectUtils,\n  bootstrapNestApplication,\n} from '@nestjs-mod/common';\nimport { DOCKER_COMPOSE_FILE, DockerCompose, DockerComposeRedis } from '@nestjs-mod/docker-compose';\nimport { join } from 'path';\nimport { userFeatureName } from './app/app.constants';\n\nconst rootFolder = join(__dirname, '..', '..', '..');\nconst appFolder = join(rootFolder, 'apps', 'example-cache-manager');\n\nbootstrapNestApplication({\n  globalConfigurationOptions: { debug: true },\n  globalEnvironmentsOptions: { debug: true },\n  modules: {\n    system: [\n      ProjectUtils.forRoot({\n        staticConfiguration: {\n          applicationPackageJsonFile: join(\n            __dirname,\n            '..',\n            '..',\n            '..',\n            'apps/example-cache-manager',\n            PACKAGE_JSON_FILE\n          ),\n          packageJsonFile: join(rootFolder, PACKAGE_JSON_FILE),\n          envFile: join(rootFolder, '.env'),\n        },\n      }),\n      DefaultNestApplicationInitializer.forRoot(),\n      DefaultNestApplicationListener.forRoot({\n        staticConfiguration: {\n          // When running in infrastructure mode, the backend server does not start.\n          mode: isInfrastructureMode() ? 'silent' : 'listen',\n        },\n      }),\n    ],\n    infrastructure: [\n      InfrastructureMarkdownReportGenerator.forRoot({\n        staticConfiguration: {\n          markdownFile: join(appFolder, 'INFRASTRUCTURE.MD'),\n          skipEmptySettings: true,\n        },\n      }),\n      DockerCompose.forRoot({\n        configuration: {\n          dockerComposeFileVersion: '3',\n          dockerComposeFile: join(appFolder, DOCKER_COMPOSE_FILE),\n        },\n      }),\n      DockerComposeRedis.forRoot({ staticConfiguration: { featureName: userFeatureName } }),\n    ],\n  },\n});\n"})}),"\n",(0,r.jsxs)(s.p,{children:["After connecting the module to the application and ",(0,r.jsx)(s.code,{children:"npm run build"})," and starting generation of documentation through ",(0,r.jsx)(s.code,{children:"npm run docs:infrastructure"}),", you will have new files and scripts to run."]}),"\n",(0,r.jsxs)(s.p,{children:["New scripts mostly ",(0,r.jsx)(s.code,{children:"package.json"})]}),"\n",(0,r.jsxs)(s.p,{children:["Add database options to docker-compose file for application ",(0,r.jsx)(s.code,{children:"docker-compose.yml"})," with real credenionals and add it to ",(0,r.jsx)(s.code,{children:".gitignore"})," file"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"version: '3'\nservices:\n  cache-manager-redis:\n    image: 'bitnami/redis:7.2'\n    container_name: 'cache-manager-redis'\n    volumes:\n      - 'cache-manager-redis-volume:/bitnami/redis/data'\n    ports:\n      - '6379:6379'\n    networks:\n      - 'cache-manager-network'\n    environment:\n      REDIS_DATABASE: '0'\n      REDIS_PASSWORD: 'redis_password'\n      REDIS_DISABLE_COMMANDS: 'FLUSHDB,FLUSHALL'\n      REDIS_IO_THREADS: 2\n      REDIS_IO_THREADS_DO_READS: 'yes'\n    healthcheck:\n      test:\n        - 'CMD-SHELL'\n        - 'redis-cli ping | grep PONG'\n      interval: '5s'\n      timeout: '5s'\n      retries: 5\n    tty: true\n    restart: 'always'\nnetworks:\n  example-cache-manager-network:\n    driver: bridge\nvolumes:\n  example-cache-manager-volume:\n    name: example-cache-manager-volume\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Add database options to docker-compose file for application ",(0,r.jsx)(s.code,{children:"docker-compose-example.yml"})," with fake credenionals"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"# Do not modify this file, it is generated using the DockerCompose module included with NestJS-mod.\nversion: '3'\nservices:\n  cache-manager-redis:\n    image: 'bitnami/redis:7.2'\n    container_name: 'cache-manager-redis'\n    volumes:\n      - 'cache-manager-redis-volume:/bitnami/redis/data'\n    ports:\n      - '6379:6379'\n    networks:\n      - 'cache-manager-network'\n    environment:\n      REDIS_DATABASE: 'value_for_redis_database'\n      REDIS_PASSWORD: 'value_for_redis_password'\n      REDIS_DISABLE_COMMANDS: 'value_for_redis_disable_commands'\n      REDIS_IO_THREADS: 'value_for_redis_io_threads'\n      REDIS_IO_THREADS_DO_READS: 'value_for_redis_io_threads_do_reads'\n    healthcheck:\n      test:\n        - 'CMD-SHELL'\n        - 'redis-cli ping | grep PONG'\n      interval: '5s'\n      timeout: '5s'\n      retries: 5\n    tty: true\n    restart: 'always'\nnetworks:\n  example-cache-manager-network:\n    driver: bridge\nvolumes:\n  example-cache-manager-volume:\n    name: example-cache-manager-volume\n"})}),"\n",(0,r.jsx)(s.p,{children:"New environment variable"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"EXAMPLE_CACHE_MANAGER_CACHE_MANAGER_USER_REDIS_URL=redis://:redis_password@localhost:6379\n"})}),"\n",(0,r.jsxs)(s.p,{children:["When launched in the infrastructure documentation generation mode, the module creates an ",(0,r.jsx)(s.code,{children:".env"})," file with a list of all required variables, as well as an example ",(0,r.jsx)(s.code,{children:"example.env"}),", where you can enter example variable values."]}),"\n",(0,r.jsx)(s.h4,{id:"static-environments-4",children:"Static environments"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Sources"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"redisUrl"})}),(0,r.jsxs)(s.td,{children:["Connection string for Redis (example: redis://",":redis_password","@localhost:6379)"]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"obj['redisUrl']"}),", ",(0,r.jsx)(s.code,{children:"process.env['REDIS_URL']"})]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"isNotEmpty"})," (redisUrl should not be empty)"]}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"static-configuration-5",children:"Static configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Constraints"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"image"})}),(0,r.jsx)(s.td,{children:"Docker image name"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"bitnami/redis:7.2"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"featureName"})}),(0,r.jsx)(s.td,{children:"Feature name for generate prefix to environments keys"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"networks"})}),(0,r.jsx)(s.td,{children:"Network, if not set networkNames have project name and driver=bridge."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"externalPort"})}),(0,r.jsx)(s.td,{children:"External port for sharing container."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"6379"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"disableCommands"})}),(0,r.jsx)(s.td,{children:"Redis disable commands."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"FLUSHDB,FLUSHALL"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"ioThreads"})}),(0,r.jsx)(s.td,{children:"Redis IO threads."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"2"})}),(0,r.jsx)(s.td,{children:"-"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"ioThreadsDoReads"})}),(0,r.jsx)(s.td,{children:"Redis IO threads."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"optional"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"yes"})}),(0,r.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,r.jsx)(s.h2,{id:"links",children:"Links"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod",children:"https://github.com/nestjs-mod/nestjs-mod"})," - A collection of utilities for unifying NestJS applications and modules"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib",children:"https://github.com/nestjs-mod/nestjs-mod-contrib"})," - Contrib repository for the NestJS-mod"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-example",children:"https://github.com/nestjs-mod/nestjs-mod-example"})," - Example application built with ",(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod/tree/master/libs/schematics",children:"@nestjs-mod/schematics"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod/blob/master/apps/example-basic/INFRASTRUCTURE.MD",children:"https://github.com/nestjs-mod/nestjs-mod/blob/master/apps/example-basic/INFRASTRUCTURE.MD"})," - A simple example of infrastructure documentation."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/blob/master/apps/example-prisma/INFRASTRUCTURE.MD",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/blob/master/apps/example-prisma/INFRASTRUCTURE.MD"})," - An extended example of infrastructure documentation with a docker-compose file and a data base."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://dev.to/endykaufman/collection-of-nestjs-mod-utilities-for-unifying-applications-and-modules-on-nestjs-5256",children:"https://dev.to/endykaufman/collection-of-nestjs-mod-utilities-for-unifying-applications-and-modules-on-nestjs-5256"})," - Article about the project NestJS-mod"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://habr.com/ru/articles/788916",children:"https://habr.com/ru/articles/788916"})," - \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u0443\u0442\u0438\u043b\u0438\u0442 NestJS-mod \u0434\u043b\u044f \u0443\u043d\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0430 NestJS"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"license",children:"License"}),"\n",(0,r.jsx)(s.p,{children:"MIT"})]})}function a(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>o});var r=n(6540);const d={},t=r.createContext(d);function i(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);