"use strict";(self.webpackChunknestjs_mod_com=self.webpackChunknestjs_mod_com||[]).push([[7344],{5766:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var r=s(4848),t=s(8453);const o={},a="\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Kubernetes \u0447\u0435\u0440\u0435\u0437 MicroK8s \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u0435\u043f\u043b\u043e\u044f NestJS \u0438 Angular \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439",c={id:"ru-posts/fullstack/2024-09-13",title:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Kubernetes \u0447\u0435\u0440\u0435\u0437 MicroK8s \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u0435\u043f\u043b\u043e\u044f NestJS \u0438 Angular \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439",description:"\u041a\u043e\u0433\u0434\u0430 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u043d\u0435\u0442 DevOps - \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432, \u043d\u043e \u043e\u0447\u0435\u043d\u044c \u0445\u043e\u0447\u0435\u0442\u0441\u044f \u0437\u0430\u0434\u0435\u043f\u043b\u043e\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432 Kubernetes, \u043c\u043e\u0436\u043d\u043e \u043b\u0435\u0433\u043a\u043e \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e https://microk8s.io, \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u0441\u0442\u0435 \u044f \u043e\u043f\u0438\u0448\u0443 \u043a\u0430\u043a \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0440\u0442\u0435.",source:"@site/docs/ru-posts/fullstack/2024-09-13.md",sourceDirName:"ru-posts/fullstack",slug:"/ru-posts/fullstack/2024-09-13",permalink:"/docs/ru-posts/fullstack/2024-09-13",draft:!1,unlisted:!1,editUrl:"https://github.com/nestjs-mod/nestjs-mod.com/blob/master/docs/ru-posts/fullstack/2024-09-13.md",tags:[],version:"current",frontMatter:{},sidebar:"ruPostsSidebar",previous:{title:"\u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0434\u0435\u043f\u043b\u043e\u044f NestJS \u0438 Angular \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 Github-\u0440\u0430\u043d\u043d\u0435\u0440\u043e\u0432 \u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u0447\u043d\u044b\u0445 Docker-\u043e\u0431\u0440\u0430\u0437\u043e\u0432",permalink:"/docs/ru-posts/fullstack/2024-09-08"},next:{title:"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u0430\u0439\u0442\u0443 \u043d\u0430 NestJS \u0438 Angular \u043f\u043e \u0434\u043e\u043c\u0435\u043d\u043d\u043e\u043c\u0443 \u0438\u043c\u0435\u043d\u0438 c SSL - \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u043c \u0432 Kubernetes \u0447\u0435\u0440\u0435\u0437 Ingress",permalink:"/docs/ru-posts/fullstack/2024-09-15"}},i={},l=[{value:"1. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 MicroK8s \u043d\u0430 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440",id:"1-\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430-microk8s-\u043d\u0430-\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439-\u0441\u0435\u0440\u0432\u0435\u0440",level:3},{value:"2. \u0420\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0445\u043e\u0441\u0442 \u043c\u0430\u0448\u0438\u043d\u0435 \u0438\u0437 \u043f\u043e\u0434\u043e\u0432 Kubernetes",id:"2-\u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u043c-\u0434\u043e\u0441\u0442\u0443\u043f-\u043a-\u0445\u043e\u0441\u0442-\u043c\u0430\u0448\u0438\u043d\u0435-\u0438\u0437-\u043f\u043e\u0434\u043e\u0432-kubernetes",level:3},{value:"3. \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0440\u0430\u0441\u0448\u0430\u0440\u0438\u0432\u0430\u0435\u043c \u0434\u0430\u0448\u0431\u043e\u0440\u0434 Kubernetes \u0438 \u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043b\u0438 \u043e\u043d \u0432\u043e\u043e\u0431\u0449\u0435",id:"3-\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e-\u0440\u0430\u0441\u0448\u0430\u0440\u0438\u0432\u0430\u0435\u043c-\u0434\u0430\u0448\u0431\u043e\u0440\u0434-kubernetes-\u0438-\u0441\u043c\u043e\u0442\u0440\u0438\u043c-\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442-\u043b\u0438-\u043e\u043d-\u0432\u043e\u043e\u0431\u0449\u0435",level:3},{value:"4. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f",id:"4-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-\u0441\u043a\u0440\u0438\u043f\u0442-\u0434\u043b\u044f-\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f-\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f",level:3},{value:"5. \u0428\u0430\u0431\u043b\u043e\u043d\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439",id:"5-\u0448\u0430\u0431\u043b\u043e\u043d\u044b-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439",level:3},{value:"6. \u0421\u043e\u0437\u0434\u0430\u0435\u043c &quot;Docker Compose&quot; - \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445, \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u0438 \u0442\u0435\u0441\u0442\u043e\u0432",id:"6-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-docker-compose---\u0444\u0430\u0439\u043b\u044b-\u0434\u043b\u044f-\u0437\u0430\u043f\u0443\u0441\u043a\u0430-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445-\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439-\u0438-\u0442\u0435\u0441\u0442\u043e\u0432",level:3},{value:"7. \u0421\u043e\u0437\u0434\u0430\u0435\u043c Kubernetes - \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0442\u0435\u043d\u0434\u0430",id:"7-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-kubernetes---\u0444\u0430\u0439\u043b\u044b-\u0434\u043b\u044f-\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438-\u0441\u0442\u0435\u043d\u0434\u0430",level:3},{value:"8. \u0421\u043e\u0437\u0434\u0430\u0435\u043c Kubernetes - \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 NestJS",id:"8-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-kubernetes---\u0444\u0430\u0439\u043b\u044b-\u0434\u043b\u044f-\u0437\u0430\u043f\u0443\u0441\u043a\u0430-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u043d\u0430-nestjs",level:3},{value:"9. \u0421\u043e\u0437\u0434\u0430\u0435\u043c Kubernetes - \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 Nginx c \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u043c \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434 \u043d\u0430 Angular",id:"9-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-kubernetes---\u0444\u0430\u0439\u043b\u044b-\u0434\u043b\u044f-\u0437\u0430\u043f\u0443\u0441\u043a\u0430-nginx-c-\u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u043c-\u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u043d\u0430-angular",level:3},{value:"10. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0431\u0430\u0448 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 Kubernetes",id:"10-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-\u0431\u0430\u0448-\u0441\u043a\u0440\u0438\u043f\u0442-\u0434\u043b\u044f-\u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439-kubernetes",level:3},{value:"11. \u0421\u043e\u0437\u0434\u0430\u0435\u043c CI/CD-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0434\u0435\u043f\u043b\u043e\u044f \u0432 Kubernetes",id:"11-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-cicd-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e-\u0434\u043b\u044f-\u0434\u0435\u043f\u043b\u043e\u044f-\u0432-kubernetes",level:3},{value:"12. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435",id:"12-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u043d\u043e\u0432\u043e\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435",level:3},{value:"13. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f",id:"13-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u043d\u043e\u0432\u044b\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f",level:3},{value:"14. \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043a \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0438 \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0432\u0441\u0435 Docker - \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b",id:"14-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f-\u043a-\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c\u0443-\u0441\u0435\u0440\u0432\u0435\u0440\u0443-\u0438-\u0443\u0434\u0430\u043b\u044f\u0435\u043c-\u0432\u0441\u0435-docker---\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b",level:3},{value:"15. \u041a\u043e\u043c\u043c\u0438\u0442\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438 \u0436\u0434\u0435\u043c \u043a\u043e\u0433\u0434\u0430 CI/CD \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438 \u0440\u0443\u043a\u0430\u043c\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u0430\u0439\u0442\u0430",id:"15-\u043a\u043e\u043c\u043c\u0438\u0442\u0438\u043c-\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f-\u0438-\u0436\u0434\u0435\u043c-\u043a\u043e\u0433\u0434\u0430-cicd-\u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442-\u0443\u0441\u043f\u0435\u0448\u043d\u043e-\u0438-\u0440\u0443\u043a\u0430\u043c\u0438-\u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c-\u0440\u0430\u0431\u043e\u0442\u0443-\u0441\u0430\u0439\u0442\u0430",level:3},{value:"\u0417\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",id:"\u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",level:3},{value:"\u041f\u043b\u0430\u043d\u044b",id:"\u043f\u043b\u0430\u043d\u044b",level:3},{value:"\u0421\u0441\u044b\u043b\u043a\u0438",id:"\u0441\u0441\u044b\u043b\u043a\u0438",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430-kubernetes-\u0447\u0435\u0440\u0435\u0437-microk8s-\u0438-\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430-\u0434\u0435\u043f\u043b\u043e\u044f-nestjs-\u0438-angular-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Kubernetes \u0447\u0435\u0440\u0435\u0437 MicroK8s \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u0435\u043f\u043b\u043e\u044f NestJS \u0438 Angular \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439"}),"\n",(0,r.jsxs)(n.p,{children:["\u041a\u043e\u0433\u0434\u0430 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u043d\u0435\u0442 DevOps - \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432, \u043d\u043e \u043e\u0447\u0435\u043d\u044c \u0445\u043e\u0447\u0435\u0442\u0441\u044f \u0437\u0430\u0434\u0435\u043f\u043b\u043e\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432 Kubernetes, \u043c\u043e\u0436\u043d\u043e \u043b\u0435\u0433\u043a\u043e \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e ",(0,r.jsx)(n.a,{href:"https://microk8s.io",children:"https://microk8s.io"}),", \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u0441\u0442\u0435 \u044f \u043e\u043f\u0438\u0448\u0443 \u043a\u0430\u043a \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0440\u0442\u0435."]}),"\n",(0,r.jsx)(n.h3,{id:"1-\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430-microk8s-\u043d\u0430-\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439-\u0441\u0435\u0440\u0432\u0435\u0440",children:"1. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 MicroK8s \u043d\u0430 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440"}),"\n",(0,r.jsx)(n.p,{children:"\u041f\u0440\u043e MicroK8s \u0443\u0436\u0435 \u043c\u043d\u043e\u0433\u043e \u043f\u0438\u0441\u0430\u043b\u0438 \u043d\u0430 \u0445\u0430\u0431\u0440\u0435, \u0432 \u043e\u0431\u0449\u0435\u043c \u044d\u0442\u043e\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0449\u0438\u043a Kubernetes \u0441 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u043f\u043b\u0430\u0433\u0438\u043d\u0430\u043c\u0438 \u0434\u043b\u044f \u0442\u0438\u043f\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u0447 \u0438 \u043e\u043d \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0431\u0435\u0437 \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u0433\u043b\u0443\u0431\u043e\u043a\u043e\u0433\u043e \u043f\u043e\u0433\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0432 \u043c\u0438\u0440 DevOps \u0431\u044b\u0441\u0442\u0440\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c Kubernetes."}),"\n",(0,r.jsx)(n.p,{children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043a \u043d\u0430\u0448\u0435\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043f\u043e SSH \u0438 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c Kubernetes."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh root@194.226.49.162\nsudo snap install microk8s --classic\nsudo usermod -a -G microk8s $USER\nmkdir ~/.kube\nsudo chown -R $USER ~/.kube\nnewgrp microk8s\n# close and open terminal with ssh\nmicrok8s status --wait-ready\nmicrok8s enable dashboard dns registry ingress hostpath-storage\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u0412\u044b\u0432\u043e\u0434 \u043a\u043e\u043d\u0441\u043e\u043b\u0438"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@vps1724252356:~# sudo snap install microk8s --classic\nStart snap \"microk8s\" (7180) services\nmicrok8s (1.30/stable) v1.30.4 from Canonical\u2713 installed\nroot@vps1724252356:~# sudo usermod -a -G microk8s $USER\nroot@vps1724252356:~# mkdir ~/.kube\nroot@vps1724252356:~# sudo chown -R $USER ~/.kube\nroot@vps1724252356:~# newgrp microk8s\n# close and open terminal with ssh\nroot@vps1724252356:~# microk8s status --wait-ready\nmicrok8s is running\nhigh-availability: no\n  datastore master nodes: 127.0.0.1:19001\n  datastore standby nodes: none\naddons:\n  enabled:\n    dns                  # (core) CoreDNS\n    ha-cluster           # (core) Configure high availability on the current node\n    helm                 # (core) Helm - the package manager for Kubernetes\n    helm3                # (core) Helm 3 - the package manager for Kubernetes\n  disabled:\n    cert-manager         # (core) Cloud native certificate management\n    cis-hardening        # (core) Apply CIS K8s hardening\n    community            # (core) The community addons repository\n    dashboard            # (core) The Kubernetes dashboard\n    gpu                  # (core) Alias to nvidia add-on\n    host-access          # (core) Allow Pods connecting to Host services smoothly\n    hostpath-storage     # (core) Storage class; allocates storage from host directory\n    ingress              # (core) Ingress controller for external access\n    kube-ovn             # (core) An advanced network fabric for Kubernetes\n    mayastor             # (core) OpenEBS MayaStor\n    metallb              # (core) Loadbalancer for your Kubernetes cluster\n    metrics-server       # (core) K8s Metrics Server for API access to service metrics\n    minio                # (core) MinIO object storage\n    nvidia               # (core) NVIDIA hardware (GPU and network) support\n    observability        # (core) A lightweight observability stack for logs, traces and metrics\n    prometheus           # (core) Prometheus operator for monitoring and logging\n    rbac                 # (core) Role-Based Access Control for authorisation\n    registry             # (core) Private image registry exposed on localhost:32000\n    rook-ceph            # (core) Distributed Ceph storage using Rook\n    storage              # (core) Alias to hostpath-storage add-on, deprecated\nroot@vps1724252356:~# microk8s enable dashboard dns registry ingress hostpath-storage\nInfer repository core for addon dashboard\nInfer repository core for addon dns\nInfer repository core for addon registry\nInfer repository core for addon ingress\nInfer repository core for addon hostpath-storage\nWARNING: Do not enable or disable multiple addons in one command.\n         This form of chained operations on addons will be DEPRECATED in the future.\n         Please, enable one addon at a time: 'microk8s enable <addon>'\nEnabling Kubernetes Dashboard\nInfer repository core for addon metrics-server\nAddon core/metrics-server is already enabled\nApplying manifest\nserviceaccount/kubernetes-dashboard created\nservice/kubernetes-dashboard created\nsecret/kubernetes-dashboard-certs created\nsecret/kubernetes-dashboard-csrf created\nsecret/kubernetes-dashboard-key-holder created\nconfigmap/kubernetes-dashboard-settings created\nrole.rbac.authorization.k8s.io/kubernetes-dashboard created\nclusterrole.rbac.authorization.k8s.io/kubernetes-dashboard created\nrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created\nclusterrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created\ndeployment.apps/kubernetes-dashboard created\nservice/dashboard-metrics-scraper created\ndeployment.apps/dashboard-metrics-scraper created\nsecret/microk8s-dashboard-token unchanged\n\nIf RBAC is not enabled access the dashboard using the token retrieved with:\n\nmicrok8s kubectl describe secret -n kube-system microk8s-dashboard-token\n\nUse this token in the https login UI of the kubernetes-dashboard service.\n\nIn an RBAC enabled setup (microk8s enable RBAC) you need to create a user with restricted\npermissions as shown in:\nhttps://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/creating-sample-user.md\n\nEnabling DNS\nUsing host configuration from /run/systemd/resolve/resolv.conf\nApplying manifest\nserviceaccount/coredns created\nconfigmap/coredns created\ndeployment.apps/coredns created\nservice/kube-dns created\nclusterrole.rbac.authorization.k8s.io/coredns created\nclusterrolebinding.rbac.authorization.k8s.io/coredns created\nCoreDNS service deployed with IP address 10.152.183.10\nRestarting kubelet\nDNS is enabled\nInfer repository core for addon hostpath-storage\nAddon core/hostpath-storage is already enabled\nThe registry will be created with the size of 20Gi.\nDefault storage class will be used.\nnamespace/container-registry created\npersistentvolumeclaim/registry-claim created\ndeployment.apps/registry created\nservice/registry created\nconfigmap/local-registry-hosting configured\nEnabling Ingress\ningressclass.networking.k8s.io/public created\ningressclass.networking.k8s.io/nginx created\nnamespace/ingress created\nserviceaccount/nginx-ingress-microk8s-serviceaccount created\nclusterrole.rbac.authorization.k8s.io/nginx-ingress-microk8s-clusterrole created\nrole.rbac.authorization.k8s.io/nginx-ingress-microk8s-role created\nclusterrolebinding.rbac.authorization.k8s.io/nginx-ingress-microk8s created\nrolebinding.rbac.authorization.k8s.io/nginx-ingress-microk8s created\nconfigmap/nginx-load-balancer-microk8s-conf created\nconfigmap/nginx-ingress-tcp-microk8s-conf created\nconfigmap/nginx-ingress-udp-microk8s-conf created\ndaemonset.apps/nginx-ingress-microk8s-controller created\nIngress is enabled\nAddon core/hostpath-storage is already enabled\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-\u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u043c-\u0434\u043e\u0441\u0442\u0443\u043f-\u043a-\u0445\u043e\u0441\u0442-\u043c\u0430\u0448\u0438\u043d\u0435-\u0438\u0437-\u043f\u043e\u0434\u043e\u0432-kubernetes",children:"2. \u0420\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0445\u043e\u0441\u0442 \u043c\u0430\u0448\u0438\u043d\u0435 \u0438\u0437 \u043f\u043e\u0434\u043e\u0432 Kubernetes"}),"\n",(0,r.jsx)(n.p,{children:"\u0422\u0430\u043a \u043a\u0430\u043a \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0445\u043e\u0441\u0442\u0435 \u0438 \u0432 \u043a\u0443\u0431\u0435 \u0431\u0443\u0434\u0443\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0442\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 Kubernetes \u043c\u043e\u0433\u043b\u043e \u0434\u043e\u0441\u0442\u0443\u0447\u0430\u0442\u044c\u0441\u044f \u0434\u043e \u0445\u043e\u0441\u0442\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0445\u043e\u0441\u0442 \u043c\u0430\u0448\u0438\u043d\u0435."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh root@194.226.49.162\nmicrok8s enable host-access\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u0412\u044b\u0432\u043e\u0434 \u043a\u043e\u043d\u0441\u043e\u043b\u0438"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@vps1724252356:~# microk8s enable host-access\nInfer repository core for addon host-access\nSetting 10.0.1.1 as host-access\nHost-access is enabled\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e-\u0440\u0430\u0441\u0448\u0430\u0440\u0438\u0432\u0430\u0435\u043c-\u0434\u0430\u0448\u0431\u043e\u0440\u0434-kubernetes-\u0438-\u0441\u043c\u043e\u0442\u0440\u0438\u043c-\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442-\u043b\u0438-\u043e\u043d-\u0432\u043e\u043e\u0431\u0449\u0435",children:"3. \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0440\u0430\u0441\u0448\u0430\u0440\u0438\u0432\u0430\u0435\u043c \u0434\u0430\u0448\u0431\u043e\u0440\u0434 Kubernetes \u0438 \u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043b\u0438 \u043e\u043d \u0432\u043e\u043e\u0431\u0449\u0435"}),"\n",(0,r.jsx)(n.p,{children:"\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0440\u0430\u0441\u0448\u0430\u0440\u0438\u0432\u0430\u043d\u0438\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e\u0440\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440, \u0442\u0430\u043a \u043a\u0430\u043a \u0434\u0430\u0448\u0431\u043e\u0440\u0434 \u044d\u0442\u043e \u0432\u0435\u0431 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435."}),"\n",(0,r.jsx)(n.p,{children:"\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043c\u044b \u0442\u0430\u043a\u0436\u0435 \u0443\u0432\u0438\u0434\u0435\u043c \u0442\u043e\u043a\u0435\u043d \u0434\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u0432\u0435\u0441\u0442\u0438 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u0434\u0430\u0448\u0431\u043e\u0440\u0434."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"microk8s dashboard-proxy\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u0412\u044b\u0432\u043e\u0434 \u043a\u043e\u043d\u0441\u043e\u043b\u0438"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@vps1724252356:~# microk8s dashboard-proxy\nChecking if Dashboard is running.\nInfer repository core for addon dashboard\nWaiting for Dashboard to come up.\nTrying to get token from microk8s-dashboard-token\nWaiting for secret token (attempt 0)\nDashboard will be available at https://127.0.0.1:10443\nUse the following token to login:\nSOME_RANDOM_SYMBOLS\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0434\u0430\u0448\u0431\u043e\u0440\u0434, \u0442\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo microk8s.refresh-certs --cert ca.crt\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-\u0441\u043a\u0440\u0438\u043f\u0442-\u0434\u043b\u044f-\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f-\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f",children:"4. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f"}),"\n",(0,r.jsxs)(n.p,{children:['\u0427\u0430\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043a\u0430\u044f \u0436\u0435 \u043a\u0430\u043a \u0438 \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 "Docker Compose", \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0444\u0430\u0439\u043b ',(0,r.jsx)(n.code,{children:".docker/set-env.sh"})," \u0432 ",(0,r.jsx)(n.code,{children:".kubernetes/set-env.sh"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"\u0412 \u044d\u0442\u043e\u043c \u0441\u043a\u0440\u0438\u043f\u0442\u0435 \u043c\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u043a \u043d\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0438 \u0438\u0445 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f, \u0432\u043c\u0435\u0441\u0442\u043e \u043d\u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."}),"\n",(0,r.jsxs)(n.p,{children:["\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.code,{children:".kubernetes/set-env.sh"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\nset -e\n\nexport REPOSITORY=nestjs-mod/nestjs-mod-fullstack\nexport REGISTRY=ghcr.io\nexport BASE_SERVER_IMAGE_NAME="${REPOSITORY}-base-server"\nexport BUILDER_IMAGE_NAME="${REPOSITORY}-builder"\nexport MIGRATIONS_IMAGE_NAME="${REPOSITORY}-migrations"\nexport SERVER_IMAGE_NAME="${REPOSITORY}-server"\nexport NGINX_IMAGE_NAME="${REPOSITORY}-nginx"\nexport E2E_TESTS_IMAGE_NAME="${REPOSITORY}-e2e-tests"\nexport COMPOSE_INTERACTIVE_NO_CLI=1\nexport NX_DAEMON=false\nexport NX_PARALLEL=1\nexport NX_SKIP_NX_CACHE=true\nexport DISABLE_SERVE_STATIC=true\n\nexport ROOT_VERSION=$(npm pkg get version --workspaces=false | tr -d \\")\nexport SERVER_VERSION=$(cd ./apps/server && npm pkg get version --workspaces=false | tr -d \\")\n\n# node\nif [ -z "${NAMESPACE}" ]; then\n    export NAMESPACE=master\nfi\n\n# common\nif [ -z "${SERVER_DOMAIN}" ]; then\n    export SERVER_DOMAIN=example.com\nfi\n\n# server\nif [ -z "${SERVER_PORT}" ]; then\n    export SERVER_PORT=9191\nfi\nif [ -z "${SERVER_APP_DATABASE_PASSWORD}" ]; then\n    export SERVER_APP_DATABASE_PASSWORD=app_password\nfi\nif [ -z "${SERVER_APP_DATABASE_USERNAME}" ]; then\n    export SERVER_APP_DATABASE_USERNAME=${NAMESPACE}_app\nfi\nif [ -z "${SERVER_APP_DATABASE_NAME}" ]; then\n    export SERVER_APP_DATABASE_NAME=${NAMESPACE}_app\nfi\n\n# client\nif [ -z "${NGINX_PORT}" ]; then\n    export NGINX_PORT=8181\nfi\n\n# database\nif [ -z "${SERVER_POSTGRE_SQL_POSTGRESQL_USERNAME}" ]; then\n    export SERVER_POSTGRE_SQL_POSTGRESQL_USERNAME=postgres\nfi\nif [ -z "${SERVER_POSTGRE_SQL_POSTGRESQL_PASSWORD}" ]; then\n    export SERVER_POSTGRE_SQL_POSTGRESQL_PASSWORD=postgres_password\nfi\nif [ -z "${SERVER_POSTGRE_SQL_POSTGRESQL_DATABASE}" ]; then\n    export SERVER_POSTGRE_SQL_POSTGRESQL_DATABASE=postgres\nfi\n'})}),"\n",(0,r.jsx)(n.h3,{id:"5-\u0448\u0430\u0431\u043b\u043e\u043d\u044b-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439",children:"5. \u0428\u0430\u0431\u043b\u043e\u043d\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439"}),"\n",(0,r.jsxs)(n.p,{children:["\u041e\u0431\u044b\u0447\u043d\u043e \u0434\u043b\u044f \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 ",(0,r.jsx)(n.a,{href:"https://docs.ansible.com/",children:"Ansible"})," \u0438 ",(0,r.jsx)(n.a,{href:"https://helm.sh/",children:"Helm"}),", \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u043e\u043d\u0438 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u0435\u0440\u0435\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u043b\u0438\u0448\u043d\u0435\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439."]}),"\n",(0,r.jsxs)(n.p,{children:["\u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0443\u0442\u0438\u043b\u0438\u0442\u0430 ",(0,r.jsx)(n.a,{href:"https://www.npmjs.com/package/rucken",children:"https://www.npmjs.com/package/rucken"}),", \u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0435\u0435 \u0435\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 ",(0,r.jsx)(n.code,{children:"copy-paste"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"\u041c\u0438\u043d\u0438 \u043f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0443\u0442\u0438\u043b\u0438\u0442\u044b:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'mkdir cat-dog\necho "%START_ENV_VARIABLE%\ncatDog\ncat-dogs\ncat_dog" > cat-dog/cat_dog.txt\nexport START_ENV_VARIABLE="examples:"\nnpx -y rucken@latest copy-paste --find=cat-dog --replace=human-ufo --path=./cat-dog --replace-envs=true\ncat ./human-ufo/human_ufo.txt\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u0412\u044b\u0432\u043e\u0434:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ cat ./human-ufo/human_ufo.txt\nexamples:\nhumanUfo\nhuman-ufos\nhuman_ufo\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u044d\u0442\u0430\u043f\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0432 Kubernetes:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u0421\u043e\u0431\u0438\u0440\u0430\u0435\u043c \u0434\u043e\u043a\u0435\u0440 \u043e\u0431\u0440\u0430\u0437\u044b;"}),"\n",(0,r.jsx)(n.li,{children:"\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f;"}),"\n",(0,r.jsx)(n.li,{children:"\u041a\u043e\u043f\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b\u044b \u0441 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u043c\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0437\u0430\u043c\u0435\u043d\u044f\u0435\u043c \u0432\u043e \u0432\u0441\u0435\u0445 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u0430\u0445 \u0432\u0441\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f;"}),"\n",(0,r.jsx)(n.li,{children:'\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0447\u0435\u0440\u0435\u0437 "Docker Compose" (\u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 + \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438);'}),"\n",(0,r.jsx)(n.li,{children:"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 Kubernetes;"}),"\n",(0,r.jsx)(n.li,{children:'\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u043c E2E-\u0442\u0435\u0441\u0442\u044b \u0447\u0435\u0440\u0435\u0437 "Docker Compose".'}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"6-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-docker-compose---\u0444\u0430\u0439\u043b\u044b-\u0434\u043b\u044f-\u0437\u0430\u043f\u0443\u0441\u043a\u0430-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445-\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439-\u0438-\u0442\u0435\u0441\u0442\u043e\u0432",children:'6. \u0421\u043e\u0437\u0434\u0430\u0435\u043c "Docker Compose" - \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445, \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u0438 \u0442\u0435\u0441\u0442\u043e\u0432'}),"\n",(0,r.jsx)(n.p,{children:"\u0418\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0432\u0435\u0449\u0438 \u043d\u0430\u043f\u043e\u0434\u043e\u0431\u0438\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u043b\u0438 \u0431\u0440\u043e\u043a\u0435\u0440\u043e\u0432 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043d\u0430 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445, \u0430 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 Kubernetes \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430\u0448\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f."}),"\n",(0,r.jsx)(n.p,{children:"\u0417\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0438 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u0443\u044e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443 \u043c\u043e\u0433\u0443\u0442 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b DevOps - \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 \u0448\u0430\u043d\u0441\u043e\u0432 \u043f\u043e\u0442\u0435\u0440\u044f\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u0435\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0434\u0440\u0443\u0433 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043b\u043e\u043c\u0430\u0435\u0442\u0441\u044f."}),"\n",(0,r.jsx)(n.p,{children:'\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0432 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 "Docker Compose" - \u0444\u0430\u0439\u043b, \u0442\u0430\u043a \u0447\u0442\u043e \u0448\u0430\u0433 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043d\u0430 \u0437\u0430\u043f\u0443\u0441\u043a \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u0430\u043a\u0448\u0435\u043d \u0440\u0430\u043d\u0435\u0440\u0435 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043d\u0430 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043d\u0435\u0442 Kubernetes.'}),"\n",(0,r.jsxs)(n.p,{children:["\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.code,{children:".kubernetes/templates/docker-compose-infra.yml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"version: '3'\nnetworks:\n  nestjs-mod-fullstack-network:\n    driver: 'bridge'\nservices:\n  nestjs-mod-fullstack-postgre-sql:\n    image: 'bitnami/postgresql:15.5.0'\n    container_name: 'nestjs-mod-fullstack-postgre-sql'\n    networks:\n      - 'nestjs-mod-fullstack-network'\n    ports:\n      - '5432:5432'\n    healthcheck:\n      test:\n        - 'CMD-SHELL'\n        - 'pg_isready -U postgres'\n      interval: '5s'\n      timeout: '5s'\n      retries: 5\n    tty: true\n    restart: 'always'\n    environment:\n      POSTGRESQL_USERNAME: '%SERVER_POSTGRE_SQL_POSTGRESQL_USERNAME%'\n      POSTGRESQL_PASSWORD: '%SERVER_POSTGRE_SQL_POSTGRESQL_PASSWORD%'\n      POSTGRESQL_DATABASE: '%SERVER_POSTGRE_SQL_POSTGRESQL_DATABASE%'\n    volumes:\n      - 'nestjs-mod-fullstack-postgre-sql-volume:/bitnami/postgresql'\n  nestjs-mod-fullstack-postgre-sql-migrations:\n    image: 'ghcr.io/nestjs-mod/nestjs-mod-fullstack-migrations:%ROOT_VERSION%'\n    container_name: 'nestjs-mod-fullstack-postgre-sql-migrations'\n    networks:\n      - 'nestjs-mod-fullstack-network'\n    tty: true\n    environment:\n      NX_SKIP_NX_CACHE: 'true'\n      SERVER_ROOT_DATABASE_URL: 'postgres://%SERVER_POSTGRE_SQL_POSTGRESQL_USERNAME%:%SERVER_POSTGRE_SQL_POSTGRESQL_PASSWORD%@nestjs-mod-fullstack-postgre-sql:5432/%SERVER_POSTGRE_SQL_POSTGRESQL_DATABASE%?schema=public'\n      SERVER_APP_DATABASE_URL: 'postgres://%SERVER_APP_DATABASE_USERNAME%:%SERVER_APP_DATABASE_PASSWORD%@nestjs-mod-fullstack-postgre-sql:5432/%SERVER_APP_DATABASE_NAME%?schema=public'\n    depends_on:\n      nestjs-mod-fullstack-postgre-sql:\n        condition: 'service_healthy'\n    working_dir: '/usr/src/app'\n    volumes:\n      - './../../apps:/usr/src/app/apps'\n      - './../../libs:/usr/src/app/libs'\nvolumes:\n  nestjs-mod-fullstack-postgre-sql-volume:\n    external: true\n    name: 'nestjs-mod-fullstack-postgre-sql-volume'\n"})}),"\n",(0,r.jsx)(n.p,{children:'\u0417\u0430\u043f\u0443\u0441\u043a E2E - \u0442\u0435\u0441\u0442\u043e\u0432 \u0442\u0430\u043a\u0436\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 "Docker Compose", \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0445 Docker - \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432 \u0441 \u0442\u0435\u0441\u0442\u0430\u043c\u0438, \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043c \u043d\u0435\u0447\u0442\u043e \u043f\u043e\u0445\u043e\u0436\u0435\u0435 \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043e\u0447\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0441\u0442\u0435\u043d\u0434\u0430, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043c\u044b \u0438\u043c\u0435\u0435\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0442\u0435\u0441\u0442\u044b \u0441 \u0440\u0430\u0437\u043d\u044b\u0445 \u0440\u0435\u0433\u0438\u043e\u043d\u043e\u0432.'}),"\n",(0,r.jsxs)(n.p,{children:["\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.code,{children:".kubernetes/templates/docker-compose-e2e-tests.yml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"version: '3'\nnetworks:\n  nestjs-mod-fullstack-network:\n    driver: 'bridge'\nservices:\n  nestjs-mod-fullstack-e2e-tests:\n    image: 'ghcr.io/nestjs-mod/nestjs-mod-fullstack-e2e-tests:%ROOT_VERSION%'\n    container_name: 'nestjs-mod-fullstack-e2e-tests'\n    extra_hosts:\n      - 'host.docker.internal:host-gateway'\n    networks:\n      - 'nestjs-mod-fullstack-network'\n    environment:\n      BASE_URL: 'http://host.docker.internal:30222'\n    working_dir: '/usr/src/app'\n    volumes:\n      - './../../apps:/usr/src/app/apps'\n      - './../../libs:/usr/src/app/libs'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"7-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-kubernetes---\u0444\u0430\u0439\u043b\u044b-\u0434\u043b\u044f-\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438-\u0441\u0442\u0435\u043d\u0434\u0430",children:"7. \u0421\u043e\u0437\u0434\u0430\u0435\u043c Kubernetes - \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0442\u0435\u043d\u0434\u0430"}),"\n",(0,r.jsx)(n.p,{children:"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u0435\u0439\u043c\u0441\u043f\u0435\u0439\u0441 \u0441\u0442\u0435\u043d\u0434\u0430 \u0438\u043b\u0438 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0434\u0435\u043f\u043b\u043e\u044f, \u0432\u0441\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b \u0441 \u044d\u0442\u0438\u043c \u043d\u0435\u0439\u043c\u0441\u043f\u0435\u0441, \u0438 \u0433\u043e\u0440\u0430\u0437\u0434\u043e \u043f\u0440\u043e\u0449\u0435 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0441\u0442\u0435\u043d\u0434\u0430."}),"\n",(0,r.jsxs)(n.p,{children:["\u0424\u0430\u0439\u043b \u0441 \u043d\u0435\u0439\u043c\u0441\u043f\u0435\u0439\u0441: ",(0,r.jsx)(n.code,{children:".kubernetes/templates/node/0.namespace.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Namespace\nmetadata:\n  name: '%NAMESPACE%'\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u0415\u0441\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0438\u043c\u0435\u044e\u0442\u0441\u044f \u043d\u0435\u043a\u0438\u0435 \u043e\u0431\u0449\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0437\u0430\u0434\u0435\u043f\u043b\u043e\u0435\u043d\u043d\u044b\u0445 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u043e\u0434\u043d\u043e\u0433\u043e Kubernetes \u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0438 \u0442\u043e\u0433\u043e \u0436\u0435 \u043d\u0435\u0439\u0441\u043f\u0435\u0439\u0441\u0430, \u0442\u043e \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0438\u0445 \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0441\u0442\u0435\u043d\u0434\u0430."}),"\n",(0,r.jsxs)(n.p,{children:["\u0424\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438: ",(0,r.jsx)(n.code,{children:".kubernetes/templates/node/1.configmap.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: '%NAMESPACE%'\n  name: %NAMESPACE%-config\ndata:\n  DEBUG: 'true'\n  BITNAMI_DEBUG: 'true'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"8-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-kubernetes---\u0444\u0430\u0439\u043b\u044b-\u0434\u043b\u044f-\u0437\u0430\u043f\u0443\u0441\u043a\u0430-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u043d\u0430-nestjs",children:"8. \u0421\u043e\u0437\u0434\u0430\u0435\u043c Kubernetes - \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 NestJS"}),"\n",(0,r.jsx)(n.p,{children:"\u041f\u043e\u043c\u0438\u043c\u043e \u043e\u0431\u0449\u0438\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u043a\u0430\u0436\u0434\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f."}),"\n",(0,r.jsxs)(n.p,{children:["\u0424\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438: ",(0,r.jsx)(n.code,{children:".kubernetes/templates/server/1.configmap.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: '%NAMESPACE%'\n  name: %NAMESPACE%-server-config\ndata:\n  NODE_TLS_REJECT_UNAUTHORIZED: '0'\n  SERVER_APP_DATABASE_URL: 'postgres://%SERVER_APP_DATABASE_USERNAME%:%SERVER_APP_DATABASE_PASSWORD%@10.0.1.1:5432/%SERVER_APP_DATABASE_NAME%?schema=public'\n  SERVER_PORT: '%SERVER_PORT%'\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f Docker - \u043e\u0431\u0440\u0430\u0437, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u044b \u0440\u0430\u043d\u0435\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u043b\u0438."}),"\n",(0,r.jsx)(n.p,{children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u043b\u0438\u043c\u0438\u0442\u044b \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0443: \u043e\u0431\u0449\u0438\u0439 \u043b\u0438\u043c\u0438\u0442 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440 30% \u0438 \u043f\u0430\u043c\u044f\u0442\u044c 512 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442, \u043b\u0438\u043c\u0438\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441 10% \u0438 128 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442 \u043f\u0430\u043c\u044f\u0442\u0438."}),"\n",(0,r.jsxs)(n.p,{children:["\u0414\u0435\u043f\u043b\u043e\u0439\u043c\u0435\u043d\u0442 \u0444\u0430\u0439\u043b: ",(0,r.jsx)(n.code,{children:".kubernetes/templates/server/3.deployment.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: '%NAMESPACE%'\n  name: %NAMESPACE%-server\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      pod: %NAMESPACE%-server-container\n  template:\n    metadata:\n      namespace: '%NAMESPACE%'\n      labels:\n        app: %NAMESPACE%-server\n        pod: %NAMESPACE%-server-container\n    spec:\n      containers:\n        - name: %NAMESPACE%-server\n          image: ghcr.io/nestjs-mod/nestjs-mod-fullstack-server:%SERVER_VERSION%\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: %SERVER_PORT%\n          envFrom:\n            - configMapRef:\n                name: %NAMESPACE%-config\n            - configMapRef:\n                name: %NAMESPACE%-server-config\n          resources:\n            requests:\n              memory: 128Mi\n              cpu: 100m\n            limits:\n              memory: 512Mi\n              cpu: 300m\n      imagePullSecrets:\n        - name: docker-regcred\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (\u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0438 Nginx \u0441 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u043e\u043c) \u043c\u043e\u0433\u043b\u0438 \u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u043a \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441."}),"\n",(0,r.jsxs)(n.p,{children:["\u0424\u0430\u0439\u043b \u0441\u0435\u0440\u0432\u0438\u0441\u0430: ",(0,r.jsx)(n.code,{children:".kubernetes/templates/server/4.service.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  namespace: '%NAMESPACE%'\n  name: %NAMESPACE%-server\n  labels:\n    app: %NAMESPACE%-server\nspec:\n  selector:\n    app: %NAMESPACE%-server\n  ports:\n    - name: '%SERVER_PORT%'\n      protocol: TCP\n      port: %SERVER_PORT%\n      targetPort: %SERVER_PORT%\n  type: ClusterIP\n"})}),"\n",(0,r.jsx)(n.h3,{id:"9-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-kubernetes---\u0444\u0430\u0439\u043b\u044b-\u0434\u043b\u044f-\u0437\u0430\u043f\u0443\u0441\u043a\u0430-nginx-c-\u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u043c-\u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u043d\u0430-angular",children:"9. \u0421\u043e\u0437\u0434\u0430\u0435\u043c Kubernetes - \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 Nginx c \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u043c \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434 \u043d\u0430 Angular"}),"\n",(0,r.jsxs)(n.p,{children:["\u0424\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438: ",(0,r.jsx)(n.code,{children:".kubernetes/templates/client/1.configmap.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: '%NAMESPACE%'\n  name: %NAMESPACE%-client-config\ndata:\n  SERVER_PORT: '%SERVER_PORT%'\n  NGINX_PORT: '%NGINX_PORT%'\n  SERVER_NAME: %NAMESPACE%-server.%NAMESPACE%\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u0414\u0435\u043f\u043b\u043e\u0439\u043c\u0435\u043d\u0442 \u0444\u0430\u0439\u043b: ",(0,r.jsx)(n.code,{children:".kubernetes/templates/client/3.deployment.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: '%NAMESPACE%'\n  name: %NAMESPACE%-client\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      pod: %NAMESPACE%-client-container\n  template:\n    metadata:\n      namespace: '%NAMESPACE%'\n      labels:\n        app: %NAMESPACE%-client\n        pod: %NAMESPACE%-client-container\n    spec:\n      containers:\n        - name: %NAMESPACE%-client\n          image: ghcr.io/nestjs-mod/nestjs-mod-fullstack-nginx:%SERVER_VERSION%\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: %NGINX_PORT%\n          envFrom:\n            - configMapRef:\n                name: %NAMESPACE%-config\n            - configMapRef:\n                name: %NAMESPACE%-client-config\n          resources:\n            requests:\n              memory: 128Mi\n              cpu: 100m\n            limits:\n              memory: 512Mi\n              cpu: 300m\n      imagePullSecrets:\n        - name: docker-regcred\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u0424\u0430\u0439\u043b \u0441\u0435\u0440\u0432\u0438\u0441\u0430: ",(0,r.jsx)(n.code,{children:".kubernetes/templates/client/4.service.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  namespace: '%NAMESPACE%'\n  name: %NAMESPACE%-client\n  labels:\n    app: %NAMESPACE%-client\nspec:\n  selector:\n    app: %NAMESPACE%-client\n  ports:\n    - name: '%NGINX_PORT%'\n      protocol: TCP\n      port: %NGINX_PORT%\n      targetPort: %NGINX_PORT%\n  type: ClusterIP\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u0422\u0430\u043a \u043a\u0430\u043a \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043c\u044b \u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0437\u0430\u0434\u0435\u043f\u043b\u043e\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u043f\u043e\u0440\u0442\u0443 \u0431\u0435\u0437 \u0434\u043e\u043c\u0435\u043d\u0430, \u0442\u043e \u043d\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u0438\u043d \u0441\u0435\u0440\u0432\u0438\u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0441\u0448\u0430\u0440\u0438\u0442 \u043f\u043e\u0440\u0442 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u043d\u0430\u0440\u0443\u0436\u0443."}),"\n",(0,r.jsxs)(n.p,{children:["\u0424\u0430\u0439\u043b \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430: ",(0,r.jsx)(n.code,{children:".kubernetes/templates/client/4.global-service.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  namespace: '%NAMESPACE%'\n  name: %NAMESPACE%-client-global\n  labels:\n    app: %NAMESPACE%-client-global\nspec:\n  selector:\n    app: %NAMESPACE%-client\n  ports:\n    - port: 30222\n      nodePort: 30222\n      targetPort: %NGINX_PORT%\n  type: NodePort\n"})}),"\n",(0,r.jsx)(n.h3,{id:"10-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-\u0431\u0430\u0448-\u0441\u043a\u0440\u0438\u043f\u0442-\u0434\u043b\u044f-\u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439-kubernetes",children:"10. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0431\u0430\u0448 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 Kubernetes"}),"\n",(0,r.jsxs)(n.p,{children:["\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.code,{children:".kubernetes/templates/install.sh"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\nset -e\n\n# docker regcred for pull docker images\nsudo microk8s kubectl delete secret docker-regcred || echo 'not need delete secret docker-regcred'\nsudo microk8s kubectl create secret docker-registry docker-regcred --docker-server=%DOCKER_SERVER% --docker-username=%DOCKER_USERNAME% --docker-password=%DOCKER_PASSWORD% --docker-email=docker-regcred\n\n# namespace and common config\nsudo microk8s kubectl apply -f .kubernetes/generated/node\nsudo microk8s kubectl get secret docker-regcred -n default -o yaml || sed s/\"namespace: default\"/\"namespace: %NAMESPACE%\"/ || microk8s kubectl apply -n %NAMESPACE% -f - || echo 'not need update docker-regcred'\n\n# server\nsudo microk8s kubectl apply -f .kubernetes/generated/server\n\n# client\nsudo microk8s kubectl apply -f .kubernetes/generated/client\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"11-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-cicd-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e-\u0434\u043b\u044f-\u0434\u0435\u043f\u043b\u043e\u044f-\u0432-kubernetes",children:"11. \u0421\u043e\u0437\u0434\u0430\u0435\u043c CI/CD-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0434\u0435\u043f\u043b\u043e\u044f \u0432 Kubernetes"}),"\n",(0,r.jsxs)(n.p,{children:['\u0427\u0430\u0441\u0442\u044c \u0437\u0430\u0434\u0430\u0447 \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043a\u0430\u044f \u0436\u0435 \u043a\u0430\u043a \u0438 \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 "Docker Compose", \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0444\u0430\u0439\u043b ',(0,r.jsx)(n.code,{children:".github/workflows/docker-compose.workflows.yml"})," \u0432 ",(0,r.jsx)(n.code,{children:".github/workflows/kubernetes.yml"})," \u0438 \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u043f\u043e \u0434\u0435\u043f\u043b\u043e\u044e."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u0445 \u0432 Kubernetes"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# ...\njobs:\n  # ...\n  deploy:\n    environment: kubernetes\n    needs: [build-and-push-migrations-image, build-and-push-server-image, build-and-push-nginx-image, build-and-push-e2e-tests-image]\n    runs-on: [self-hosted]\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v4\n        with:\n          # We must fetch at least the immediate parents so that if this is\n          # a pull request then we can checkout the head.\n          fetch-depth: 2\n\n      - name: Deploy\n        env:\n          DOCKER_SERVER: ${{ env.REGISTRY }}\n          DOCKER_USERNAME: ${{ github.actor }}\n          DOCKER_PASSWORD: ${{ secrets.GITHUB_TOKEN }}\n          SERVER_APP_DATABASE_NAME: ${{ secrets.SERVER_APP_DATABASE_NAME }}\n          SERVER_APP_DATABASE_PASSWORD: ${{ secrets.SERVER_APP_DATABASE_PASSWORD }}\n          SERVER_APP_DATABASE_USERNAME: ${{ secrets.SERVER_APP_DATABASE_USERNAME }}\n          SERVER_DOMAIN: ${{ secrets.SERVER_DOMAIN }}\n          SERVER_POSTGRE_SQL_POSTGRESQL_DATABASE: ${{ secrets.SERVER_POSTGRE_SQL_POSTGRESQL_DATABASE }}\n          SERVER_POSTGRE_SQL_POSTGRESQL_PASSWORD: ${{ secrets.SERVER_POSTGRE_SQL_POSTGRESQL_PASSWORD }}\n          SERVER_POSTGRE_SQL_POSTGRESQL_USERNAME: ${{ secrets.SERVER_POSTGRE_SQL_POSTGRESQL_USERNAME }}\n        run: |\n          rm -rf ./.kubernetes/generated\n          . .kubernetes/set-env.sh && npx -y rucken copy-paste --find=templates --replace=generated --replace-plural=generated --path=./.kubernetes/templates --replace-envs=true\n          chmod +x .kubernetes/generated/install.sh\n          docker compose -f ./.kubernetes/generated/docker-compose-infra.yml --compatibility down || echo 'docker-compose-infra not started'\n          docker compose -f ./.kubernetes/generated/docker-compose-e2e-tests.yml --compatibility down || echo 'docker-compose-e2e-tests not started'\n          docker compose -f ./.kubernetes/generated/docker-compose-infra.yml --compatibility up -d\n          .kubernetes/generated/install.sh > /dev/null 2>&1 &\n          docker compose -f ./.kubernetes/generated/docker-compose-e2e-tests.yml --compatibility up\n"})}),"\n",(0,r.jsx)(n.h3,{id:"12-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u043d\u043e\u0432\u043e\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435",children:"12. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435"}),"\n",(0,r.jsxs)(n.p,{children:["\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 ",(0,r.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-fullstack/settings/environments/new",children:"https://github.com/nestjs-mod/nestjs-mod-fullstack/settings/environments/new"})," \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 ",(0,r.jsx)(n.code,{children:"kubernetes"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"13-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u043d\u043e\u0432\u044b\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f",children:"13. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f"}),"\n",(0,r.jsxs)(n.p,{children:["\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u043d\u0435\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u0438 \u043f\u043e\u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432\u0441\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0432 \u0441\u0435\u043a\u0446\u0438\u044e ",(0,r.jsx)(n.code,{children:"Environment secrets"}),", \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u043c \u044d\u0442\u0430\u043f\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0436\u0435 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"SERVER_APP_DATABASE_NAME=app\nSERVER_APP_DATABASE_PASSWORD=9UwcpRh12srXoPlTSN53ZOUc9ev9qNYg\nSERVER_APP_DATABASE_USERNAME=app\nSERVER_DOMAIN=fullstack.nestjs-mod.com\nSERVER_POSTGRE_SQL_POSTGRESQL_DATABASE=postgres\nSERVER_POSTGRE_SQL_POSTGRESQL_PASSWORD=DN7DHoMWd2D13YNH116cFWeJgfVAFO9e\nSERVER_POSTGRE_SQL_POSTGRESQL_USERNAME=postgres\n"})}),"\n",(0,r.jsx)(n.h3,{id:"14-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f-\u043a-\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c\u0443-\u0441\u0435\u0440\u0432\u0435\u0440\u0443-\u0438-\u0443\u0434\u0430\u043b\u044f\u0435\u043c-\u0432\u0441\u0435-docker---\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b",children:"14. \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043a \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0438 \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0432\u0441\u0435 Docker - \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker stop $(docker ps -a -q) || echo 'docker containers not started'\ndocker rm $(docker ps --filter status=exited -q) || echo 'docker containers not exists'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"15-\u043a\u043e\u043c\u043c\u0438\u0442\u0438\u043c-\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f-\u0438-\u0436\u0434\u0435\u043c-\u043a\u043e\u0433\u0434\u0430-cicd-\u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442-\u0443\u0441\u043f\u0435\u0448\u043d\u043e-\u0438-\u0440\u0443\u043a\u0430\u043c\u0438-\u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c-\u0440\u0430\u0431\u043e\u0442\u0443-\u0441\u0430\u0439\u0442\u0430",children:"15. \u041a\u043e\u043c\u043c\u0438\u0442\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438 \u0436\u0434\u0435\u043c \u043a\u043e\u0433\u0434\u0430 CI/CD \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438 \u0440\u0443\u043a\u0430\u043c\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u0430\u0439\u0442\u0430"}),"\n",(0,r.jsxs)(n.p,{children:["\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0440\u0430\u0431\u043e\u0442\u044b CI/CD: ",(0,r.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-fullstack/actions/runs/10861775039",children:"https://github.com/nestjs-mod/nestjs-mod-fullstack/actions/runs/10861775039"}),"\n\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u0430\u0439\u0442: ",(0,r.jsx)(n.a,{href:"http://194.226.49.162:30222/",children:"http://194.226.49.162:30222/"})]}),"\n",(0,r.jsx)(n.h3,{id:"\u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",children:"\u0417\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"}),"\n",(0,r.jsx)(n.p,{children:"\u041a\u043e\u0433\u0434\u0430 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u0435\u0441\u0442\u044c DevOps - \u0438\u043d\u0436\u0435\u043d\u0435\u0440 \u043e\u043d \u043e\u0431\u044b\u0447\u043d\u043e \u0438 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0434\u0435\u043f\u043b\u043e\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438 \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0441\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u043b\u044f fullstack \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u0434 \u043d\u043e \u0438 \u0434\u0435\u043f\u043b\u043e\u0438\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u043a\u0448\u0435\u043d."}),"\n",(0,r.jsx)(n.p,{children:'\u041f\u043e \u0445\u043e\u0440\u043e\u0448\u0435\u043c\u0443 \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u0439 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u043d\u0438\u043c\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430 \u043f\u043e DevOps \u0438\u043b\u0438 \u0431\u0440\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 DevOps - \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432 \u043d\u0430 \u0430\u0443\u0442\u0441\u043e\u0440\u0441 \u0438 \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043b\u0438 \u0432\u0441\u0435 \u0431\u0435\u0437 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f bash - \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0432\u0435\u0449\u0438 \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043d\u0435 \u0447\u0435\u0440\u0435\u0437 "Docker Compose" \u0430 \u043f\u0440\u044f\u043c\u043e \u043d\u0430 \u0441\u0430\u043c\u0438\u0445 \u043c\u0430\u0448\u0438\u043d\u0430\u0445.'}),"\n",(0,r.jsxs)(n.p,{children:["DevOps - \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u044b \u0442\u0430\u043a\u0436\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e Kubernetes \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0432\u044b\u043f\u0443\u0441\u043a Helm - \u0447\u0430\u0440\u0442\u043e\u0432, \u0442\u0430\u043a \u043a\u0430\u043a ",(0,r.jsx)(n.a,{href:"https://microk8s.io/",children:"https://microk8s.io/"})," \u044d\u0442\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432."]}),"\n",(0,r.jsx)(n.p,{children:"\u041d\u0443 \u0432 \u0446\u0435\u043b\u043e\u043c \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u0430\u044f \u0432\u044b\u0448\u0435 \u0441\u0445\u0435\u043c\u0430 \u0434\u0435\u043f\u043b\u043e\u044f \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432 \u043f\u0440\u043e\u0434\u0430\u043a\u0448\u0435\u043d \u0441\u0440\u0435\u0434\u0435, \u043a\u0430\u043a \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043e\u0434\u043d\u043e\u0439 \u043d\u043e\u0434\u044b \u0442\u0430\u043a \u0438 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430."}),"\n",(0,r.jsx)(n.h3,{id:"\u043f\u043b\u0430\u043d\u044b",children:"\u041f\u043b\u0430\u043d\u044b"}),"\n",(0,r.jsx)(n.p,{children:"\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u043f\u043e\u0441\u0442\u0435 \u044f \u0434\u043e\u0431\u0430\u0432\u043b\u044e Ingress \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u0430\u0439\u0442\u0443 \u043f\u043e \u0434\u043e\u043c\u0435\u043d\u043d\u043e\u043c\u0443 \u0438\u043c\u0435\u043d\u0438 \u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e SSL - \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430..."}),"\n",(0,r.jsx)(n.h3,{id:"\u0441\u0441\u044b\u043b\u043a\u0438",children:"\u0421\u0441\u044b\u043b\u043a\u0438"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://nestjs.com",children:"https://nestjs.com"})," - \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://nestjs-mod.com",children:"https://nestjs-mod.com"})," - \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0442\u0438\u043b\u0438\u0442"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"http://fullstack.nestjs-mod.com:30222",children:"http://fullstack.nestjs-mod.com:30222"})," - \u0441\u0430\u0439\u0442 \u0438\u0437 \u043f\u043e\u0441\u0442\u0430"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-fullstack",children:"https://github.com/nestjs-mod/nestjs-mod-fullstack"})," - \u043f\u0440\u043e\u0435\u043a\u0442 \u0438\u0437 \u043f\u043e\u0441\u0442\u0430"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-fullstack/commit/4b1c3c7d6bcb0b3bac479d5f414bbefd49aa5e87",children:"https://github.com/nestjs-mod/nestjs-mod-fullstack/commit/4b1c3c7d6bcb0b3bac479d5f414bbefd49aa5e87"})," - \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"#kubernetes #github #nestjsmod #fullstack\n#2024-09-13"})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var r=s(6540);const t={},o=r.createContext(t);function a(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);