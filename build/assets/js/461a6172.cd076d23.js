"use strict";(self.webpackChunknestjs_mod_com=self.webpackChunknestjs_mod_com||[]).push([[2283],{7060:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>l});var t=s(4848),i=s(8453);const r={},o="@nestjs-mod/minio",d={id:"packages/core/minio/README",title:"@nestjs-mod/minio",description:"Minio client for NestJS-mod (Wrapper for https://www.npmjs.com/package/nestjs-minio)",source:"@site/docs/packages/core/minio/README.md",sourceDirName:"packages/core/minio",slug:"/packages/core/minio/",permalink:"/docs/packages/core/minio/",draft:!1,unlisted:!1,editUrl:"https://github.com/nestjs-mod/nestjs-mod.com/blob/master/docs/packages/core/minio/README.md",tags:[],version:"current",frontMatter:{},sidebar:"packagesSidebar",previous:{title:"@nestjs-mod/keyv",permalink:"/docs/packages/core/keyv/"},next:{title:"@nestjs-mod/prisma",permalink:"/docs/packages/core/prisma/"}},c={},l=[{value:"Installation",id:"installation",level:2},{value:"Modules",id:"modules",level:2},{value:"Modules descriptions",id:"modules-descriptions",level:2},{value:"MinioModule",id:"miniomodule",level:3},{value:"Use in NestJS",id:"use-in-nestjs",level:4},{value:"Use in NestJS-mod",id:"use-in-nestjs-mod",level:4},{value:"Shared providers",id:"shared-providers",level:4},{value:"Static environments",id:"static-environments",level:4},{value:"Static configuration",id:"static-configuration",level:4},{value:"Links",id:"links",level:2},{value:"License",id:"license",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"nestjs-modminio",children:"@nestjs-mod/minio"}),"\n",(0,t.jsxs)(n.p,{children:["Minio client for NestJS-mod (Wrapper for ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/nestjs-minio",children:"https://www.npmjs.com/package/nestjs-minio"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://npmjs.org/package/@nestjs-mod/minio",children:(0,t.jsx)(n.img,{src:"https://badgen.net/npm/v/@nestjs-mod/minio",alt:"NPM version"})})," ",(0,t.jsx)(n.a,{href:"https://npmjs.org/package/@nestjs-mod/minio",children:(0,t.jsx)(n.img,{src:"https://badgen.net/npm/dm/@nestjs-mod/minio",alt:"monthly downloads"})})," ",(0,t.jsx)(n.a,{href:"https://t.me/nestjs_mod",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/group-telegram-blue.svg?maxAge=2592000",alt:"Telegram"})})," ",(0,t.jsx)(n.a,{href:"https://discord.gg/meY7UXaG",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/discord-online-brightgreen.svg",alt:"Discord"})})]}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm i --save minio@7.1.3 nestjs-minio@2.5.4 @nestjs-mod/minio\n"})}),"\n",(0,t.jsx)(n.h2,{id:"modules",children:"Modules"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Link"}),(0,t.jsx)(n.th,{children:"Category"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#miniomodule",children:"MinioModule"})}),(0,t.jsx)(n.td,{children:"core"}),(0,t.jsxs)(n.td,{children:["Minio client for NestJS-mod (Wrapper for ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/nestjs-minio",children:"https://www.npmjs.com/package/nestjs-minio"}),")"]})]})})]}),"\n",(0,t.jsx)(n.h2,{id:"modules-descriptions",children:"Modules descriptions"}),"\n",(0,t.jsx)(n.h3,{id:"miniomodule",children:"MinioModule"}),"\n",(0,t.jsxs)(n.p,{children:["Minio client for NestJS-mod (Wrapper for ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/nestjs-minio",children:"https://www.npmjs.com/package/nestjs-minio"}),")"]}),"\n",(0,t.jsx)(n.h4,{id:"use-in-nestjs",children:"Use in NestJS"}),"\n",(0,t.jsx)(n.p,{children:"A simple example of generating a link to upload and download a picture."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { NestFactory } from '@nestjs/core';\n\nimport { DefaultBucketNames, MinioFilesService, MinioModule, PresignedUrlsRequest } from '@nestjs-mod/minio';\nimport { Controller, Get, Module, Query } from '@nestjs/common';\nimport { lastValueFrom } from 'rxjs';\n\n@Controller()\nexport class AppController {\n  constructor(private readonly minioFilesService: MinioFilesService) {}\n\n  @Get('images-presigned-url')\n  getImagesPresignedUrl(@Query() request: PresignedUrlsRequest) {\n    return this.minioFilesService.getPresignedUrls({\n      bucketName: DefaultBucketNames.images,\n      expiry: 60,\n      ext: request.ext,\n    });\n  }\n\n  @Get('video-presigned-url')\n  getVideoPresignedUrl(@Query() request: PresignedUrlsRequest) {\n    return this.minioFilesService.getPresignedUrls({\n      bucketName: DefaultBucketNames.video,\n      expiry: 60,\n      ext: request.ext,\n    });\n  }\n\n  @Get('documents-presigned-url')\n  getDocumentsPresignedUrl(@Query() request: PresignedUrlsRequest) {\n    return this.minioFilesService.getPresignedUrls({\n      bucketName: DefaultBucketNames.documents,\n      expiry: 60,\n      ext: request.ext,\n    });\n  }\n}\n\nprocess.env.MINIO_SERVER_HOST = 'localhost';\nprocess.env.MINIO_SERVER_PORT = '9000';\nprocess.env.MINIO_ACCESS_KEY = 'minioadmin';\nprocess.env.MINIO_SECRET_KEY = '6EcbcW66JsKvFrY2bZw6QGKjHhefca7Kgppq';\nprocess.env.MINIO_USE_SSL = 'false';\nprocess.env.MINIO_DEFAULT_USER_ID = 'default';\n\n@Module({\n  imports: [MinioModule.forRoot()],\n  controllers: [AppController],\n})\nexport class AppModule {}\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  await app.listen(3000);\n\n  const appController = app.get<AppController>(AppController);\n  console.log(await lastValueFrom(appController.getImagesPresignedUrl({ ext: 'png' })));\n  /**\n   * output:\n   * {\n   *   uploadUrl: '/images/default/images_ac98618c-f2ec-4a2f-a4a8-a4690e8fd543.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20240213T071934Z&X-Amz-Expires=60&X-Amz-SignedHeaders=host&X-Amz-Signature=ea5c4246876c0c15a57e7c6cb0035fb3122c4887b052d2138d643f3e88e8a4c3',\n   *   downloadUrl: '/images/default/images_ac98618c-f2ec-4a2f-a4a8-a4690e8fd543.png'\n   * }\n   */\n}\n\nbootstrap();\n"})}),"\n",(0,t.jsx)(n.h4,{id:"use-in-nestjs-mod",children:"Use in NestJS-mod"}),"\n",(0,t.jsxs)(n.p,{children:["An example of using Minio, you can see the full example here ",(0,t.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-minio",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-minio"})," and frontend on Angular here ",(0,t.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-minio-angular",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-minio-angular"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"For work with Minio, you must first connect the Docker Compose module and the Docker Compose module to work with the Minio."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import {\n  DefaultNestApplicationInitializer,\n  DefaultNestApplicationListener,\n  InfrastructureMarkdownReportGenerator,\n  PACKAGE_JSON_FILE,\n  ProjectUtils,\n  bootstrapNestApplication,\n  createNestModule,\n  isInfrastructureMode,\n} from '@nestjs-mod/common';\nimport { DefaultBucketNames, MinioFilesService, MinioModule, PresignedUrlsRequest } from '@nestjs-mod/minio';\nimport { Controller, Get, Query } from '@nestjs/common';\nimport { join } from 'path';\nimport { lastValueFrom } from 'rxjs';\nimport { userFeatureName } from './app/app.constants';\n\nimport { DOCKER_COMPOSE_FILE, DockerCompose, DockerComposeMinio } from '@nestjs-mod/docker-compose';\n\n@Controller()\nexport class AppController {\n  constructor(private readonly minioFilesService: MinioFilesService) {}\n\n  @Get('images-presigned-url')\n  getImagesPresignedUrl(@Query() request: PresignedUrlsRequest) {\n    return this.minioFilesService.getPresignedUrls({\n      bucketName: DefaultBucketNames.images,\n      expiry: 60,\n      ext: request.ext,\n    });\n  }\n\n  @Get('video-presigned-url')\n  getVideoPresignedUrl(@Query() request: PresignedUrlsRequest) {\n    return this.minioFilesService.getPresignedUrls({\n      bucketName: DefaultBucketNames.video,\n      expiry: 60,\n      ext: request.ext,\n    });\n  }\n\n  @Get('documents-presigned-url')\n  getDocumentsPresignedUrl(@Query() request: PresignedUrlsRequest) {\n    return this.minioFilesService.getPresignedUrls({\n      bucketName: DefaultBucketNames.documents,\n      expiry: 60,\n      ext: request.ext,\n    });\n  }\n}\n\nconst { AppModule } = createNestModule({\n  moduleName: 'AppModule',\n  imports: [MinioModule.forFeature()],\n  controllers: [AppController],\n});\n\nconst rootFolder = join(__dirname, '..', '..', '..');\nconst appFolder = join(rootFolder, 'apps', 'example-minio');\n\nbootstrapNestApplication({\n  globalConfigurationOptions: { debug: true },\n  globalEnvironmentsOptions: { debug: true },\n  modules: {\n    system: [\n      ProjectUtils.forRoot({\n        staticConfiguration: {\n          applicationPackageJsonFile: join(appFolder, PACKAGE_JSON_FILE),\n          packageJsonFile: join(rootFolder, PACKAGE_JSON_FILE),\n          envFile: join(rootFolder, '.env'),\n        },\n      }),\n      DefaultNestApplicationInitializer.forRoot({\n        staticConfiguration: {\n          bufferLogs: true,\n        },\n      }),\n      DefaultNestApplicationListener.forRoot({\n        staticConfiguration: {\n          // When running in infrastructure mode, the backend server does not start.\n          mode: isInfrastructureMode() ? 'silent' : 'listen',\n          postListen: async ({ app }) => {\n            if (app) {\n              const appController = app.get<AppController>(AppController);\n              console.log(await lastValueFrom(appController.getImagesPresignedUrl({ ext: 'png' })));\n              /**\n               * output:\n               * {\n               *   uploadUrl: '/images/default/images_ac98618c-f2ec-4a2f-a4a8-a4690e8fd543.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20240213T071934Z&X-Amz-Expires=60&X-Amz-SignedHeaders=host&X-Amz-Signature=ea5c4246876c0c15a57e7c6cb0035fb3122c4887b052d2138d643f3e88e8a4c3',\n               *   downloadUrl: '/images/default/images_ac98618c-f2ec-4a2f-a4a8-a4690e8fd543.png'\n               * }\n               */\n            }\n          },\n        },\n      }),\n    ],\n    core: [MinioModule.forRoot()],\n    feature: [AppModule.forRoot()],\n    infrastructure: [\n      InfrastructureMarkdownReportGenerator.forRoot({\n        staticConfiguration: {\n          markdownFile: join(appFolder, 'INFRASTRUCTURE.MD'),\n          skipEmptySettings: true,\n        },\n      }),\n      DockerCompose.forRoot({\n        configuration: {\n          dockerComposeFileVersion: '3',\n          dockerComposeFile: join(appFolder, DOCKER_COMPOSE_FILE),\n        },\n      }),\n      DockerComposeMinio.forRoot({\n        staticConfiguration: {\n          nginxPort: 1111,\n          nginxFilesFolder: join(appFolder, 'ngnix'),\n          featureName: userFeatureName,\n        },\n      }),\n    ],\n  },\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:"New environment variable"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"EXAMPLE_MINIO_MINIO_SERVER_HOST=localhost\nEXAMPLE_MINIO_MINIO_SERVER_PORT=9000\nEXAMPLE_MINIO_MINIO_ACCESS_KEY=minioadmin\nEXAMPLE_MINIO_MINIO_SECRET_KEY=6EcbcW66JsKvFrY2bZw6QGKjHhefca7Kgppq\nEXAMPLE_MINIO_MINIO_USE_SSL=false\nEXAMPLE_MINIO_MINIO_DEFAULT_USER_ID=default\nEXAMPLE_MINIO_PORT=3006\nEXAMPLE_MINIO_HOSTNAME=\n"})}),"\n",(0,t.jsxs)(n.p,{children:["When launched in the infrastructure documentation generation mode, the module creates an ",(0,t.jsx)(n.code,{children:".env"})," file with a list of all required variables, as well as an example ",(0,t.jsx)(n.code,{children:"example.env"}),", where you can enter example variable values."]}),"\n",(0,t.jsx)(n.h4,{id:"shared-providers",children:"Shared providers"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"MinioService"}),", ",(0,t.jsx)(n.code,{children:"MinioFilesService"})]}),"\n",(0,t.jsx)(n.h4,{id:"static-environments",children:"Static environments"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Key"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Sources"}),(0,t.jsx)(n.th,{children:"Constraints"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"minioServerHost"})}),(0,t.jsx)(n.td,{children:"Server host"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"obj['minioServerHost']"}),", ",(0,t.jsx)(n.code,{children:"process.env['MINIO_SERVER_HOST']"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"isNotEmpty"})," (minioServerHost should not be empty)"]}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"minioServerPort"})}),(0,t.jsx)(n.td,{children:"Server port"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"obj['minioServerPort']"}),", ",(0,t.jsx)(n.code,{children:"process.env['MINIO_SERVER_PORT']"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"9000"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"9000"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"minioAccessKey"})}),(0,t.jsx)(n.td,{children:"Access key"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"obj['minioAccessKey']"}),", ",(0,t.jsx)(n.code,{children:"process.env['MINIO_ACCESS_KEY']"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"isNotEmpty"})," (minioAccessKey should not be empty)"]}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"minioSecretKey"})}),(0,t.jsx)(n.td,{children:"Secret key"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"obj['minioSecretKey']"}),", ",(0,t.jsx)(n.code,{children:"process.env['MINIO_SECRET_KEY']"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"isNotEmpty"})," (minioSecretKey should not be empty)"]}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"minioUseSSL"})}),(0,t.jsx)(n.td,{children:"Use SSL"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"obj['minioUseSSL']"}),", ",(0,t.jsx)(n.code,{children:"process.env['MINIO_USE_SSL']"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"minioDefaultUserId"})}),(0,t.jsx)(n.td,{children:"Default user id"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"obj['minioDefaultUserId']"}),", ",(0,t.jsx)(n.code,{children:"process.env['MINIO_DEFAULT_USER_ID']"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"default"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"default"})})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"static-configuration",children:"Static configuration"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Key"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Constraints"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"featureName"})}),(0,t.jsx)(n.td,{children:"Feature name for generate prefix to environments keys"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"region"})}),(0,t.jsx)(n.td,{children:"Region"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"us-east-1"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"transport"})}),(0,t.jsx)(n.td,{children:"Transport"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"sessionToken"})}),(0,t.jsx)(n.td,{children:"Session token"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"partSize"})}),(0,t.jsx)(n.td,{children:"Part size"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"pathStyle"})}),(0,t.jsx)(n.td,{children:"Config options name"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"true"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"credentialsProvider"})}),(0,t.jsx)(n.td,{children:"Credentials provider"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"s3AccelerateEndpoint"})}),(0,t.jsx)(n.td,{children:"S3 accelerate endpoint"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"transportAgent"})}),(0,t.jsx)(n.td,{children:"Transport agent"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"buckets"})}),(0,t.jsx)(n.td,{children:"Buckets with policy"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"optional"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'{"images":{"policy":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"AWS":["*"]},"Action":["s3:PutObject","s3:AbortMultipartUpload","s3:DeleteObject","s3:GetObject"],"Resource":["arn:aws:s3:::images/*.jpg","arn:aws:s3:::images/*.jpeg","arn:aws:s3:::images/*.png","arn:aws:s3:::images/*.gif"]}],"Conditions":[["content-length-range",5242880]]},"ext":["jpg","jpeg","png","gif"]},"video":{"policy":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"AWS":["*"]},"Action":["s3:PutObject","s3:AbortMultipartUpload","s3:DeleteObject","s3:GetObject"],"Resource":["arn:aws:s3:::video/*.mp4"]}],"Conditions":[["content-length-range",52428800]]},"ext":["mp4"]},"documents":{"policy":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"AWS":["*"]},"Action":["s3:PutObject","s3:AbortMultipartUpload","s3:DeleteObject","s3:GetObject"],"Resource":["arn:aws:s3:::documents/*.doc","arn:aws:s3:::documents/*.docx","arn:aws:s3:::documents/*.xls","arn:aws:s3:::documents/*.md","arn:aws:s3:::documents/*.odt","arn:aws:s3:::documents/*.txt","arn:aws:s3:::documents/*.xml","arn:aws:s3:::documents/*.rtf","arn:aws:s3:::documents/*.csv"]}],"Conditions":[["content-length-range",10485760]]},"ext":["doc","docx","xls","md","odt","txt","xml","rtf","csv"]}}'})}),(0,t.jsx)(n.td,{children:"-"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,t.jsx)(n.h2,{id:"links",children:"Links"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod",children:"https://github.com/nestjs-mod/nestjs-mod"})," - A collection of utilities for unifying NestJS applications and modules"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib",children:"https://github.com/nestjs-mod/nestjs-mod-contrib"})," - Contrib repository for the NestJS-mod"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-example",children:"https://github.com/nestjs-mod/nestjs-mod-example"})," - Example application built with ",(0,t.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod/tree/master/libs/schematics",children:"@nestjs-mod/schematics"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod/blob/master/apps/example-basic/INFRASTRUCTURE.MD",children:"https://github.com/nestjs-mod/nestjs-mod/blob/master/apps/example-basic/INFRASTRUCTURE.MD"})," - A simple example of infrastructure documentation."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/blob/master/apps/example-prisma/INFRASTRUCTURE.MD",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/blob/master/apps/example-prisma/INFRASTRUCTURE.MD"})," - An extended example of infrastructure documentation with a docker-compose file and a data base."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://dev.to/endykaufman/collection-of-nestjs-mod-utilities-for-unifying-applications-and-modules-on-nestjs-5256",children:"https://dev.to/endykaufman/collection-of-nestjs-mod-utilities-for-unifying-applications-and-modules-on-nestjs-5256"})," - Article about the project NestJS-mod"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://habr.com/ru/articles/788916",children:"https://habr.com/ru/articles/788916"})," - \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u0443\u0442\u0438\u043b\u0438\u0442 NestJS-mod \u0434\u043b\u044f \u0443\u043d\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0430 NestJS"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,t.jsx)(n.p,{children:"MIT"})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var t=s(6540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);