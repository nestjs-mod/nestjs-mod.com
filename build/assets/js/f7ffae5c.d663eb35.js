"use strict";(self.webpackChunknestjs_mod_com=self.webpackChunknestjs_mod_com||[]).push([[9836],{7199:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var s=t(4848),r=t(8453);const o={},i="\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 PrismaORM \u0432 NestJS-mod \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u0447\u0435\u0440\u0435\u0437 REST",a={id:"ru-posts/fullstack/2024-08-13",title:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 PrismaORM \u0432 NestJS-mod \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u0447\u0435\u0440\u0435\u0437 REST",description:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 Prisma \u043a NestJS \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u043f\u0430\u043a\u0435\u0442 https://www.npmjs.com/package/@nestjs-mod/prisma.",source:"@site/docs/ru-posts/fullstack/2024-08-13.md",sourceDirName:"ru-posts/fullstack",slug:"/ru-posts/fullstack/2024-08-13",permalink:"/docs/ru-posts/fullstack/2024-08-13",draft:!1,unlisted:!1,editUrl:"https://github.com/nestjs-mod/nestjs-mod.com/blob/master/docs/ru-posts/fullstack/2024-08-13.md",tags:[],version:"current",frontMatter:{},sidebar:"ruPostsSidebar",previous:{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 Postgres \u0432 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0437\u0430\u043f\u0443\u0441\u043a \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 Flyway \u0434\u043b\u044f NestJS-mod \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",permalink:"/docs/ru-posts/fullstack/2024-08-11"},next:{title:"\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f NestJS-mod \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a",permalink:"/docs/ru-posts/fullstack/2024-08-14-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435-NestJS-mod-\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a"}},d={},c=[{value:"1. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b",id:"1-\u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c-\u0432\u0441\u0435-\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435-\u043f\u0430\u043a\u0435\u0442\u044b",level:3},{value:"2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c PrismaModule \u0432 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043e\u0434",id:"2-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u043c\u043e\u0434\u0443\u043b\u044c-prismamodule-\u0432-\u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0439-\u043a\u043e\u0434",level:3},{value:"3. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043f\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0443 \u0438 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 PrismaORM",id:"3-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e-\u043f\u043e-\u043f\u0440\u043e\u0435\u043a\u0442\u0443-\u0438-\u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439-\u043a\u043e\u0434-\u0438-\u0441\u043a\u0440\u0438\u043f\u0442\u044b-\u0434\u043b\u044f-\u0440\u0430\u0431\u043e\u0442\u044b-\u0441-prismaorm",level:3},{value:"4. \u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",id:"4-\u043f\u043e\u0441\u043b\u0435-\u043f\u0435\u0440\u0432\u043e\u0439-\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438-\u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u043e\u0433\u043e-\u043a\u043e\u0434\u0430-\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e-\u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c-\u0433\u043b\u0430\u0432\u043d\u044b\u0439-\u0444\u0430\u0439\u043b-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",level:3},{value:"5. \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445, \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c PrismaORM-\u0441\u0445\u0435\u043c\u0443 \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c PrismaORM-\u043a\u043b\u0438\u0435\u043d\u0442",id:"5-\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c-\u0431\u0430\u0437\u0443-\u0434\u0430\u043d\u043d\u044b\u0445-\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c-prismaorm-\u0441\u0445\u0435\u043c\u0443-\u0438\u0437-\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445-\u0438-\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c-prismaorm-\u043a\u043b\u0438\u0435\u043d\u0442",level:3},{value:"6. \u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u0438 \u0443\u0431\u0435\u0436\u0434\u0430\u0435\u043c\u0441\u044f \u0447\u0442\u043e PrismaORM-\u0441\u0445\u0435\u043c\u0430 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442 \u0441\u0445\u0435\u043c\u0443 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",id:"6-\u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c-\u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439-\u0438-\u0443\u0431\u0435\u0436\u0434\u0430\u0435\u043c\u0441\u044f-\u0447\u0442\u043e-prismaorm-\u0441\u0445\u0435\u043c\u0430-\u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e-\u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442-\u0441\u0445\u0435\u043c\u0443-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",level:3},{value:"7. \u0422\u0430\u043a \u043a\u0430\u043a \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e pm2 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0437\u0430\u043f\u0443\u0441\u043a \u0443\u0436\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0430 NestJS, \u043c\u0435\u043d\u044f\u0435\u043c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 watch",id:"7-\u0442\u0430\u043a-\u043a\u0430\u043a-\u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e-pm2-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f-\u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442-\u0437\u0430\u043f\u0443\u0441\u043a-\u0443\u0436\u0435-\u0441\u043e\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f-\u043d\u0430-nestjs-\u043c\u0435\u043d\u044f\u0435\u043c-\u043a\u043e\u043c\u0430\u043d\u0434\u0443-\u0434\u043b\u044f-\u0437\u0430\u043f\u0443\u0441\u043a\u0430-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f-\u0432-\u0440\u0435\u0436\u0438\u043c\u0435-watch",level:3},{value:"8. \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u0441\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",id:"8-\u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c-\u0432\u0441\u0435-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",level:3},{value:"9. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 AppModule \u043c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u0440\u0438\u0437\u043c\u043e\u0439",id:"9-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u0432-appmodule-\u043c\u043e\u0434\u0443\u043b\u044c-\u0434\u043b\u044f-\u0440\u0430\u0431\u043e\u0442\u044b-\u0441-\u043f\u0440\u0438\u0437\u043c\u043e\u0439",level:3},{value:"10. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 AppController \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0447\u043a\u0438 AppDemo",id:"10-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u0432-appcontroller-\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435-\u043c\u0435\u0442\u043e\u0434\u044b-\u0434\u043b\u044f-\u0440\u0430\u0431\u043e\u0442\u044b-\u0441-\u0434\u0430\u043d\u043d\u044b\u043c\u0438-\u0442\u0430\u0431\u043b\u0438\u0447\u043a\u0438-appdemo",level:3},{value:"11. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043d\u043e\u0432\u044b\u0445 \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u0432 E2E-\u0442\u0435\u0441\u0442\u0435",id:"11-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443-\u043d\u043e\u0432\u044b\u0445-\u043c\u0435\u0442\u043e\u0434\u043e\u0432-\u0432-e2e-\u0442\u0435\u0441\u0442\u0435",level:3},{value:"12. \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c e2e-\u0442\u0435\u0441\u0442\u044b",id:"12-\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c-e2e-\u0442\u0435\u0441\u0442\u044b",level:3},{value:"13. \u0422\u0430\u043a \u043a\u0430\u043a \u0442\u0435\u043f\u0435\u0440\u044c \u0447\u0430\u0441\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0430 AppController \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 PrismaClient \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442\u044b",id:"13-\u0442\u0430\u043a-\u043a\u0430\u043a-\u0442\u0435\u043f\u0435\u0440\u044c-\u0447\u0430\u0441\u0442\u044c-\u043c\u0435\u0442\u043e\u0434\u043e\u0432-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0430-appcontroller-\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442-prismaclient-\u043d\u0430\u043c-\u043d\u0443\u0436\u043d\u043e-\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c-\u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442\u044b",level:3},{value:"14. \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",id:"14-\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c-\u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442\u044b-\u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",level:3},{value:"\u0421\u0441\u044b\u043b\u043a\u0438",id:"\u0441\u0441\u044b\u043b\u043a\u0438",level:3}];function l(e){const n={a:"a",code:"code",em:"em",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-prismaorm-\u0432-nestjs-mod-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435-\u0438-\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430-\u0435\u0433\u043e-\u0440\u0430\u0431\u043e\u0442\u044b-\u0447\u0435\u0440\u0435\u0437-rest",children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 PrismaORM \u0432 NestJS-mod \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u0447\u0435\u0440\u0435\u0437 REST"}),"\n",(0,s.jsxs)(n.p,{children:["\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 Prisma \u043a NestJS \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u043f\u0430\u043a\u0435\u0442 ",(0,s.jsx)(n.a,{href:"https://www.npmjs.com/package/@nestjs-mod/prisma",children:"https://www.npmjs.com/package/@nestjs-mod/prisma"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u0443\u0441\u043a E2E \u0442\u0435\u0441\u0442\u044b \u043d\u0430 REST-\u0435\u043d\u0434\u043f\u043e\u0439\u0442\u043d\u044b."}),"\n",(0,s.jsx)(n.h3,{id:"1-\u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c-\u0432\u0441\u0435-\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435-\u043f\u0430\u043a\u0435\u0442\u044b",children:"1. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install all need dependencies\nnpm i --save @prisma/client @nestjs-mod/prisma\n\n# Install all need dev-dependencies\nnpm i --save-dev prisma\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u0412\u044b\u0432\u043e\u0434 \u043a\u043e\u043d\u0441\u043e\u043b\u0438"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ npm i --save @prisma/client @nestjs-mod/prisma\n\nadded 2 packages, and audited 2501 packages in 27s\n\n300 packages are looking for funding\n  run `npm fund` for details\n\n45 vulnerabilities (6 moderate, 39 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\n$ npm i --save-dev prisma\n\nadded 6 packages, and audited 2507 packages in 8s\n\n300 packages are looking for funding\n  run `npm fund` for details\n\n45 vulnerabilities (6 moderate, 39 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u043c\u043e\u0434\u0443\u043b\u044c-prismamodule-\u0432-\u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0439-\u043a\u043e\u0434",children:"2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c PrismaModule \u0432 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043e\u0434"}),"\n",(0,s.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",(0,s.jsx)(n.code,{children:"apps/server/src/main.ts"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { DefaultNestApplicationInitializer, DefaultNestApplicationListener, InfrastructureMarkdownReportGenerator, PACKAGE_JSON_FILE, ProjectUtils, bootstrapNestApplication, isInfrastructureMode } from '@nestjs-mod/common';\nimport { DOCKER_COMPOSE_FILE, DockerCompose, DockerComposePostgreSQL } from '@nestjs-mod/docker-compose';\nimport { FLYWAY_JS_CONFIG_FILE, Flyway } from '@nestjs-mod/flyway';\nimport { NestjsPinoLoggerModule } from '@nestjs-mod/pino';\nimport { ECOSYSTEM_CONFIG_FILE, Pm2 } from '@nestjs-mod/pm2';\nimport { TerminusHealthCheckModule } from '@nestjs-mod/terminus';\nimport { MemoryHealthIndicator } from '@nestjs/terminus';\nimport { join } from 'path';\nimport { AppModule } from './app/app.module';\nimport { FakePrismaClient, PRISMA_SCHEMA_FILE, PrismaModule } from '@nestjs-mod/prisma';\n\nconst appFeatureName = 'app';\nconst rootFolder = join(__dirname, '..', '..', '..');\nconst appFolder = join(rootFolder, 'apps', 'server');\n\nbootstrapNestApplication({\n  modules: {\n    system: [\n      ProjectUtils.forRoot({\n        staticConfiguration: {\n          applicationPackageJsonFile: join(appFolder, PACKAGE_JSON_FILE),\n          packageJsonFile: join(rootFolder, PACKAGE_JSON_FILE),\n          envFile: join(rootFolder, '.env'),\n        },\n      }),\n      DefaultNestApplicationInitializer.forRoot({\n        staticConfiguration: { bufferLogs: true },\n      }),\n      NestjsPinoLoggerModule.forRoot(),\n      TerminusHealthCheckModule.forRootAsync({\n        configurationFactory: (memoryHealthIndicator: MemoryHealthIndicator) => ({\n          standardHealthIndicators: [\n            {\n              name: 'memory_heap',\n              check: () => memoryHealthIndicator.checkHeap('memory_heap', 150 * 1024 * 1024),\n            },\n          ],\n        }),\n        inject: [MemoryHealthIndicator],\n      }),\n      DefaultNestApplicationListener.forRoot({\n        staticConfiguration: {\n          // When running in infrastructure mode, the backend server does not start.\n          mode: isInfrastructureMode() ? 'silent' : 'listen',\n        },\n      }),\n    ],\n    core: [\n      PrismaModule.forRoot({\n        staticConfiguration: {\n          schemaFile: join(appFolder, 'src', 'prisma', `${appFeatureName}-${PRISMA_SCHEMA_FILE}`),\n          featureName: appFeatureName,\n          prismaModule: isInfrastructureMode()\n            ? { PrismaClient: FakePrismaClient }\n            : // remove after first run docs:infrastructure\n              { PrismaClient: FakePrismaClient },\n          // uncomment after first run docs:infrastructure\n          // import(`@prisma/prisma-user-client`),\n          addMigrationScripts: false,\n        },\n      }),\n    ],\n    feature: [AppModule.forRoot()],\n    infrastructure: [\n      InfrastructureMarkdownReportGenerator.forRoot({\n        staticConfiguration: {\n          markdownFile: join(appFolder, 'INFRASTRUCTURE.MD'),\n          skipEmptySettings: true,\n        },\n      }),\n      Pm2.forRoot({\n        configuration: {\n          ecosystemConfigFile: join(rootFolder, ECOSYSTEM_CONFIG_FILE),\n          applicationScriptFile: join('dist/apps/server/main.js'),\n        },\n      }),\n      DockerCompose.forRoot({\n        configuration: {\n          dockerComposeFileVersion: '3',\n          dockerComposeFile: join(appFolder, DOCKER_COMPOSE_FILE),\n        },\n      }),\n      DockerComposePostgreSQL.forRoot(),\n      DockerComposePostgreSQL.forFeature({\n        featureModuleName: appFeatureName,\n      }),\n      Flyway.forRoot({\n        staticConfiguration: {\n          featureName: appFeatureName,\n          migrationsFolder: join(appFolder, 'src', 'migrations'),\n          configFile: join(rootFolder, FLYWAY_JS_CONFIG_FILE),\n        },\n      }),\n    ],\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e-\u043f\u043e-\u043f\u0440\u043e\u0435\u043a\u0442\u0443-\u0438-\u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e-\u0441\u043e\u0437\u0434\u0430\u0435\u043c-\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439-\u043a\u043e\u0434-\u0438-\u0441\u043a\u0440\u0438\u043f\u0442\u044b-\u0434\u043b\u044f-\u0440\u0430\u0431\u043e\u0442\u044b-\u0441-prismaorm",children:"3. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043f\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0443 \u0438 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 PrismaORM"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Build all applications and library\nnpm run build\n\n# Generate markdown report\nnpm run docs:infrastructure\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u0412\u044b\u0432\u043e\u0434 \u043a\u043e\u043d\u0441\u043e\u043b\u0438"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'$ npm run build\n\n> @nestjs-mod-fullstack/source@0.0.0 build\n> npm run generate && npm run tsc:lint && ./node_modules/.bin/nx run-many --exclude=@nestjs-mod-fullstack/source --all -t=build --skip-nx-cache=true\n\n\n> @nestjs-mod-fullstack/source@0.0.0 generate\n> ./node_modules/.bin/nx run-many --exclude=@nestjs-mod-fullstack/source --all -t=generate --skip-nx-cache=true && npm run make-ts-list && npm run lint:fix\n\n NX   Successfully ran target generate for 0 projects (34ms)\n\n\n> @nestjs-mod-fullstack/source@0.0.0 make-ts-list\n> ./node_modules/.bin/rucken make-ts-list\n\n\n> @nestjs-mod-fullstack/source@0.0.0 lint:fix\n> npm run tsc:lint && ./node_modules/.bin/nx run-many --exclude=@nestjs-mod-fullstack/source --all -t=lint --fix\n\n\n> @nestjs-mod-fullstack/source@0.0.0 tsc:lint\n> ./node_modules/.bin/tsc --noEmit -p tsconfig.base.json\n\n\n   \u2714  nx run server-e2e:lint (2s)\n   \u2714  nx run server:lint (3s)\n   \u2714  nx run client:lint (3s)\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n NX   Successfully ran target lint for 3 projects (3s)\n\n      With additional flags:\n        --fix=true\n\n\n> @nestjs-mod-fullstack/source@0.0.0 tsc:lint\n> ./node_modules/.bin/tsc --noEmit -p tsconfig.base.json\n\n\n   \u2714  nx run server:build:production (4s)\n   \u2714  nx run client:build:production (9s)\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n NX   Successfully ran target build for 2 projects (9s)\n\n $ npm run docs:infrastructure\n\n> @nestjs-mod-fullstack/source@0.0.0 docs:infrastructure\n> export NESTJS_MODE=infrastructure && ./node_modules/.bin/nx run-many --exclude=@nestjs-mod-fullstack/source --all -t=start --parallel=1\n\n\n NX   Running target start for project server:\n\n- server\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n> nx run server:start\n\n> node dist/apps/server/main.js\n\n[15:57:26.274] INFO (24548): Starting Nest application...\n    context: "NestFactory"\n[15:57:26.274] INFO (24548): DefaultNestApp dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.274] INFO (24548): ProjectUtilsSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.274] INFO (24548): DefaultNestApplicationInitializerSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.274] INFO (24548): DefaultNestApplicationInitializerShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.274] INFO (24548): NestjsPinoLoggerModuleSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.274] INFO (24548): NestjsPinoLoggerModuleShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.274] INFO (24548): TerminusHealthCheckModuleSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DefaultNestApplicationListenerSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DefaultNestApplicationListenerShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): PrismaModuleSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): AppModuleSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): AppModuleShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): InfrastructureMarkdownReportGeneratorSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): Pm2Settings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): Pm2Shared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): ProjectUtils dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerComposeSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): ProjectUtils dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerComposePostgreSQLSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerCompose dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerComposePostgreSQL dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerComposePostgreSQLSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerComposePostgreSQLShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): FlywaySettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): FlywayShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): PrismaModuleSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): PrismaModuleShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): ProjectUtils dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): InfrastructureMarkdownReportGeneratorSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): ProjectUtils dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): InfrastructureMarkdownReportStorage dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): InfrastructureMarkdownReportStorageSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): ProjectUtils dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerCompose dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): FlywaySettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): FlywayShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): ProjectUtils dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DefaultNestApplicationListenerSettings dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DefaultNestApplicationListenerShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerComposeShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): InfrastructureMarkdownReportStorageShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): AppModule dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): ProjectUtils dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DefaultNestApplicationInitializer dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DefaultNestApplicationListener dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): PrismaModule dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): InfrastructureMarkdownReportGenerator dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerComposePostgreSQL dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): Flyway dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DefaultNestApplicationListener dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): NestjsPinoLoggerModule dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): TerminusModule dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): TerminusModule dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): ProjectUtilsShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): InfrastructureMarkdownReportGeneratorShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): Pm2 dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerCompose dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerComposePostgreSQL dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): PrismaModule dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): InfrastructureMarkdownReportGeneratorShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): Flyway dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): InfrastructureMarkdownReportGenerator dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): LoggerModule dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): DockerComposePostgreSQLShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): PrismaModuleShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): TerminusHealthCheckModuleShared dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.275] INFO (24548): TerminusHealthCheckModule dependencies initialized\n    context: "InstanceLoader"\n[15:57:26.282] INFO (24548): TerminusHealthCheckController {/health}:\n    context: "RoutesResolver"\n[15:57:26.284] INFO (24548): Mapped {/health, GET} route\n    context: "RouterExplorer"\n[15:57:26.284] INFO (24548): AppController {/}:\n    context: "RoutesResolver"\n[15:57:26.284] INFO (24548): Mapped {/, GET} route\n    context: "RouterExplorer"\n[15:57:26.286] INFO (24548): Connected to database!\n    context: "PrismaClient"\n[15:57:26.305] DEBUG (24548):\n    0: "SERVER_ROOT_DATABASE_URL: Description=\'Connection string for PostgreSQL with root credentials (example: postgres://postgres:postgres_password@localhost:5432/postgres?schema=public, username must be \\"postgres\\")\', Original Name=\'rootDatabaseUrl\'"\n    1: "SERVER_PORT: Description=\'The port on which to run the server.\', Default=\'3000\', Original Name=\'port\'"\n    2: "SERVER_HOSTNAME: Description=\'Hostname on which to listen for incoming packets.\', Original Name=\'hostname\'"\n    3: "SERVER_APP_DATABASE_URL: Description=\'Connection string for PostgreSQL with module credentials (example: postgres://feat:feat_password@localhost:5432/feat?schema=public)\', Original Name=\'databaseUrl\'"\n    context: "All application environments"\n[15:57:26.331] INFO (24548): Nest application successfully started\n    context: "NestApplication"\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n NX   Successfully ran target start for project server\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-\u043f\u043e\u0441\u043b\u0435-\u043f\u0435\u0440\u0432\u043e\u0439-\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438-\u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u043e\u0433\u043e-\u043a\u043e\u0434\u0430-\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e-\u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c-\u0433\u043b\u0430\u0432\u043d\u044b\u0439-\u0444\u0430\u0439\u043b-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",children:"4. \u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),"\n",(0,s.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",(0,s.jsx)(n.code,{children:"apps/server/src/main.ts"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { DefaultNestApplicationInitializer, DefaultNestApplicationListener, InfrastructureMarkdownReportGenerator, PACKAGE_JSON_FILE, ProjectUtils, bootstrapNestApplication, isInfrastructureMode } from '@nestjs-mod/common';\nimport { DOCKER_COMPOSE_FILE, DockerCompose, DockerComposePostgreSQL } from '@nestjs-mod/docker-compose';\nimport { FLYWAY_JS_CONFIG_FILE, Flyway } from '@nestjs-mod/flyway';\nimport { NestjsPinoLoggerModule } from '@nestjs-mod/pino';\nimport { ECOSYSTEM_CONFIG_FILE, Pm2 } from '@nestjs-mod/pm2';\nimport { TerminusHealthCheckModule } from '@nestjs-mod/terminus';\nimport { MemoryHealthIndicator } from '@nestjs/terminus';\nimport { join } from 'path';\nimport { AppModule } from './app/app.module';\nimport { FakePrismaClient, PRISMA_SCHEMA_FILE, PrismaModule } from '@nestjs-mod/prisma';\n\nconst appFeatureName = 'app';\nconst rootFolder = join(__dirname, '..', '..', '..');\nconst appFolder = join(rootFolder, 'apps', 'server');\n\nbootstrapNestApplication({\n  modules: {\n    system: [\n      ProjectUtils.forRoot({\n        staticConfiguration: {\n          applicationPackageJsonFile: join(appFolder, PACKAGE_JSON_FILE),\n          packageJsonFile: join(rootFolder, PACKAGE_JSON_FILE),\n          envFile: join(rootFolder, '.env'),\n        },\n      }),\n      DefaultNestApplicationInitializer.forRoot({\n        staticConfiguration: { bufferLogs: true },\n      }),\n      NestjsPinoLoggerModule.forRoot(),\n      TerminusHealthCheckModule.forRootAsync({\n        configurationFactory: (memoryHealthIndicator: MemoryHealthIndicator) => ({\n          standardHealthIndicators: [\n            {\n              name: 'memory_heap',\n              check: () => memoryHealthIndicator.checkHeap('memory_heap', 150 * 1024 * 1024),\n            },\n          ],\n        }),\n        inject: [MemoryHealthIndicator],\n      }),\n      DefaultNestApplicationListener.forRoot({\n        staticConfiguration: {\n          // When running in infrastructure mode, the backend server does not start.\n          mode: isInfrastructureMode() ? 'silent' : 'listen',\n        },\n      }),\n    ],\n    core: [\n      PrismaModule.forRoot({\n        staticConfiguration: {\n          schemaFile: join(appFolder, 'src', 'prisma', `${appFeatureName}-${PRISMA_SCHEMA_FILE}`),\n          featureName: appFeatureName,\n          prismaModule: isInfrastructureMode() ? { PrismaClient: FakePrismaClient } : import(`@prisma/app-client`), // <-- updates\n          addMigrationScripts: false,\n        },\n      }),\n    ],\n    feature: [AppModule.forRoot()],\n    infrastructure: [\n      InfrastructureMarkdownReportGenerator.forRoot({\n        staticConfiguration: {\n          markdownFile: join(appFolder, 'INFRASTRUCTURE.MD'),\n          skipEmptySettings: true,\n        },\n      }),\n      Pm2.forRoot({\n        configuration: {\n          ecosystemConfigFile: join(rootFolder, ECOSYSTEM_CONFIG_FILE),\n          applicationScriptFile: join('dist/apps/server/main.js'),\n        },\n      }),\n      DockerCompose.forRoot({\n        configuration: {\n          dockerComposeFileVersion: '3',\n          dockerComposeFile: join(appFolder, DOCKER_COMPOSE_FILE),\n        },\n      }),\n      DockerComposePostgreSQL.forRoot(),\n      DockerComposePostgreSQL.forFeature({\n        featureModuleName: appFeatureName,\n      }),\n      Flyway.forRoot({\n        staticConfiguration: {\n          featureName: appFeatureName,\n          migrationsFolder: join(appFolder, 'src', 'migrations'),\n          configFile: join(rootFolder, FLYWAY_JS_CONFIG_FILE),\n        },\n      }),\n    ],\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5-\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c-\u0431\u0430\u0437\u0443-\u0434\u0430\u043d\u043d\u044b\u0445-\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c-prismaorm-\u0441\u0445\u0435\u043c\u0443-\u0438\u0437-\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445-\u0438-\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c-prismaorm-\u043a\u043b\u0438\u0435\u043d\u0442",children:"5. \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445, \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c PrismaORM-\u0441\u0445\u0435\u043c\u0443 \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c PrismaORM-\u043a\u043b\u0438\u0435\u043d\u0442"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Start database\nnpm run docker-compose:start-prod:server\n\n# Pull database-schema to prisma-schema (options --force rewirite exists prisma-schema)\nnpm run prisma:pull --force\n\n# Generate prisma-client\nnpm run generate\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u0412\u044b\u0432\u043e\u0434 \u043a\u043e\u043d\u0441\u043e\u043b\u0438"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'$ npm run docker-compose:start-prod:server\n\n> @nestjs-mod-fullstack/source@0.0.0 docker-compose:start-prod:server\n> export COMPOSE_INTERACTIVE_NO_CLI=1 && docker-compose -f ./apps/server/docker-compose-prod.yml --env-file ./apps/server/docker-compose-prod.env --compatibility up -d\n\nCreating network "server_server-network" with driver "bridge"\nCreating server-postgre-sql ... done\n\n$ npm run prisma:pull --force\nnpm WARN using --force Recommended protections disabled.\n\n> @nestjs-mod-fullstack/source@0.0.0 prisma:pull\n> ./node_modules/.bin/nx run-many -t=prisma-pull\n\n\n   \u2714  nx run server:prisma-pull (583ms)\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n NX   Successfully ran target prisma-pull for project server (612ms)\n\n\n NX   Nx detected a flaky task\n\n  server:prisma-pull\n\nFlaky tasks can disrupt your CI pipeline. Automatically retry them with Nx Cloud. Learn more at https://nx.dev/ci/features/flaky-tasks\n\n$ npm run generate\n\n> @nestjs-mod-fullstack/source@0.0.0 generate\n> ./node_modules/.bin/nx run-many --exclude=@nestjs-mod-fullstack/source --all -t=generate --skip-nx-cache=true && npm run make-ts-list && npm run lint:fix\n\n\n   \u2714  nx run server:generate (1s)\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n NX   Successfully ran target generate for project server (1s)\n\n\n> @nestjs-mod-fullstack/source@0.0.0 make-ts-list\n> ./node_modules/.bin/rucken make-ts-list\n\n\n> @nestjs-mod-fullstack/source@0.0.0 lint:fix\n> npm run tsc:lint && ./node_modules/.bin/nx run-many --exclude=@nestjs-mod-fullstack/source --all -t=lint --fix\n\n\n> @nestjs-mod-fullstack/source@0.0.0 tsc:lint\n> ./node_modules/.bin/tsc --noEmit -p tsconfig.base.json\n\n\n   \u2714  nx run client:lint  [existing outputs match the cache, left as is]\n   \u2714  nx run server-e2e:lint  [existing outputs match the cache, left as is]\n   \u2714  nx run server:lint (1s)\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n NX   Successfully ran target lint for 3 projects (1s)\n\n      With additional flags:\n        --fix=true\n\nNx read the output from the cache instead of running the command for 2 out of 3 tasks.\n'})}),"\n",(0,s.jsx)(n.h3,{id:"6-\u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c-\u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439-\u0438-\u0443\u0431\u0435\u0436\u0434\u0430\u0435\u043c\u0441\u044f-\u0447\u0442\u043e-prismaorm-\u0441\u0445\u0435\u043c\u0430-\u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e-\u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442-\u0441\u0445\u0435\u043c\u0443-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",children:"6. \u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u0438 \u0443\u0431\u0435\u0436\u0434\u0430\u0435\u043c\u0441\u044f \u0447\u0442\u043e PrismaORM-\u0441\u0445\u0435\u043c\u0430 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442 \u0441\u0445\u0435\u043c\u0443 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),"\n",(0,s.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",(0,s.jsx)(n.code,{children:"apps/server/src/prisma/app-schema.prisma"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-prisma",children:'generator client {\n  provider   = "prisma-client-js"\n  output     = "../../../../node_modules/@prisma/app-client"\n  engineType = "binary"\n}\n\ndatasource db {\n  provider = "postgres"\n  url      = env("SERVER_APP_DATABASE_URL")\n}\n\nmodel AppDemo {\n  id        String   @id(map: "PK_APP_DEMO") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid\n  name      String   @unique(map: "UQ_APP_DEMO") @db.VarChar(128)\n  createdAt DateTime @default(now()) @db.Timestamp(6)\n  updatedAt DateTime @default(now()) @db.Timestamp(6)\n}\n\nmodel migrations {\n  installed_rank Int      @id(map: "__migrations_pk")\n  version        String?  @db.VarChar(50)\n  description    String   @db.VarChar(200)\n  type           String   @db.VarChar(20)\n  script         String   @db.VarChar(1000)\n  checksum       Int?\n  installed_by   String   @db.VarChar(100)\n  installed_on   DateTime @default(now()) @db.Timestamp(6)\n  execution_time Int\n  success        Boolean\n\n  @@index([success], map: "__migrations_s_idx")\n  @@map("__migrations")\n}\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"7-\u0442\u0430\u043a-\u043a\u0430\u043a-\u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e-pm2-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f-\u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442-\u0437\u0430\u043f\u0443\u0441\u043a-\u0443\u0436\u0435-\u0441\u043e\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f-\u043d\u0430-nestjs-\u043c\u0435\u043d\u044f\u0435\u043c-\u043a\u043e\u043c\u0430\u043d\u0434\u0443-\u0434\u043b\u044f-\u0437\u0430\u043f\u0443\u0441\u043a\u0430-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f-\u0432-\u0440\u0435\u0436\u0438\u043c\u0435-watch",children:"7. \u0422\u0430\u043a \u043a\u0430\u043a \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e pm2 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0437\u0430\u043f\u0443\u0441\u043a \u0443\u0436\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0430 NestJS, \u043c\u0435\u043d\u044f\u0435\u043c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 watch"}),"\n",(0,s.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",(0,s.jsx)(n.code,{children:"ecosystem.config.json"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "apps": [\n    {\n      "name": "server",\n      "script": "./node_modules/.bin/nx serve server",\n      "node_args": "-r dotenv/config"\n    },\n    {\n      "name": "client",\n      "script": "./node_modules/.bin/nx serve client --host=0.0.0.0 --disable-host-check",\n      "node_args": "-r dotenv/config"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"8-\u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c-\u0432\u0441\u0435-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",children:"8. \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u0441\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Stop all applications\nnpm run pm2:stop\n\n# Start all applications\nnpm run pm2:start\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u0412\u044b\u0432\u043e\u0434 \u043a\u043e\u043d\u0441\u043e\u043b\u0438"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ npm run pm2:stop\n\n> @nestjs-mod-fullstack/source@0.0.0 pm2:stop\n> ./node_modules/.bin/pm2 delete all\n\n\n>>>> In-memory PM2 is out-of-date, do:\n>>>> $ pm2 update\nIn memory PM2 version: 3.1.3\nLocal PM2 version: 5.4.2\n\n[PM2] Applying action deleteProcessId on app [all](ids: [ 0, 1 ])\n[PM2] [client](1) \u2713\n[PM2] [server](0) \u2713\n\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 id \u2502 name      \u2502 namespace   \u2502 version \u2502 mode    \u2502 pid      \u2502 uptime \u2502 \u21ba    \u2502 status    \u2502 cpu      \u2502 mem      \u2502 user     \u2502 watching \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n$ npm run pm2:start\n\n> @nestjs-mod-fullstack/source@0.0.0 pm2:start\n> ./node_modules/.bin/pm2 start ./ecosystem.config.json\n\n\n>>>> In-memory PM2 is out-of-date, do:\n>>>> $ pm2 update\nIn memory PM2 version: 3.1.3\nLocal PM2 version: 5.4.2\n\n[PM2][WARN] Applications server, client not running, starting...\n[PM2] App [server] launched (1 instances)\n[PM2] App [client] launched (1 instances)\n\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 id \u2502 name      \u2502 namespace   \u2502 version \u2502 mode    \u2502 pid      \u2502 uptime \u2502 \u21ba    \u2502 status    \u2502 cpu      \u2502 mem      \u2502 user     \u2502 watching \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 1  \u2502 client    \u2502 default     \u2502 N/A     \u2502 fork    \u2502 53570    \u2502 0s     \u2502 0    \u2502 online    \u2502 0%       \u2502 16.2mb   \u2502 endy     \u2502 disabled \u2502\n\u2502 0  \u2502 server    \u2502 default     \u2502 N/A     \u2502 fork    \u2502 53569    \u2502 0s     \u2502 0    \u2502 online    \u2502 0%       \u2502 27.4mb   \u2502 endy     \u2502 disabled \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.h3,{id:"9-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u0432-appmodule-\u043c\u043e\u0434\u0443\u043b\u044c-\u0434\u043b\u044f-\u0440\u0430\u0431\u043e\u0442\u044b-\u0441-\u043f\u0440\u0438\u0437\u043c\u043e\u0439",children:"9. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 AppModule \u043c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u0440\u0438\u0437\u043c\u043e\u0439"}),"\n",(0,s.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",(0,s.jsx)(n.code,{children:"apps/server/src/app/app.module.ts"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { createNestModule, NestModuleCategory } from '@nestjs-mod/common';\n\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { PrismaModule } from '@nestjs-mod/prisma';\n\nexport const { AppModule } = createNestModule({\n  moduleName: 'AppModule',\n  moduleCategory: NestModuleCategory.feature,\n  imports: [PrismaModule.forFeature({ featureModuleName: 'app' })],\n  controllers: [AppController],\n  providers: [AppService],\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"10-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u0432-appcontroller-\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435-\u043c\u0435\u0442\u043e\u0434\u044b-\u0434\u043b\u044f-\u0440\u0430\u0431\u043e\u0442\u044b-\u0441-\u0434\u0430\u043d\u043d\u044b\u043c\u0438-\u0442\u0430\u0431\u043b\u0438\u0447\u043a\u0438-appdemo",children:"10. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 AppController \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0447\u043a\u0438 AppDemo"}),"\n",(0,s.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",(0,s.jsx)(n.code,{children:"apps/server/src/app/app.controller.ts"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { Controller, Delete, Get, Param, Post } from '@nestjs/common';\n\nimport { InjectPrismaClient } from '@nestjs-mod/prisma';\nimport { PrismaClient as AppPrismaClient } from '@prisma/app-client';\nimport { randomUUID } from 'crypto';\nimport { AppService } from './app.service';\n@Controller()\nexport class AppController {\n  constructor(\n    @InjectPrismaClient()\n    private readonly appPrismaClient: AppPrismaClient,\n    private readonly appService: AppService\n  ) {}\n\n  @Get()\n  getData() {\n    return this.appService.getData();\n  }\n\n  @Post('/demo')\n  async demoCreateOne() {\n    return await this.appPrismaClient.appDemo.create({ data: { name: 'demo name' + randomUUID() } });\n  }\n\n  @Get('/demo/:id')\n  async demoFindOne(@Param('id') id: string) {\n    return await this.appPrismaClient.appDemo.findFirstOrThrow({ where: { id } });\n  }\n\n  @Delete('/demo/:id')\n  async demoDeleteOne(@Param('id') id: string) {\n    return await this.appPrismaClient.appDemo.delete({ where: { id } });\n  }\n\n  @Get('/demo')\n  async demoFindMany() {\n    return await this.appPrismaClient.appDemo.findMany();\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"11-\u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c-\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443-\u043d\u043e\u0432\u044b\u0445-\u043c\u0435\u0442\u043e\u0434\u043e\u0432-\u0432-e2e-\u0442\u0435\u0441\u0442\u0435",children:"11. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043d\u043e\u0432\u044b\u0445 \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u0432 E2E-\u0442\u0435\u0441\u0442\u0435"}),"\n",(0,s.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",(0,s.jsx)(n.code,{children:"apps/server-e2e/src/server/server.spec.ts"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import axios from 'axios';\n\ndescribe('GET /api', () => {\n  let newDemoObject: { id: string };\n\n  it('should return a message', async () => {\n    const res = await axios.get(`/api`);\n\n    expect(res.status).toBe(200);\n    expect(res.data).toEqual({ message: 'Hello API' });\n  });\n\n  it('should create and return a demo object', async () => {\n    const res = await axios.post(`/api/demo`);\n\n    expect(res.status).toBe(201);\n    expect(res.data.name).toContain('demo name');\n\n    newDemoObject = res.data;\n  });\n\n  it('should get demo object by id', async () => {\n    const res = await axios.get(`/api/demo/${newDemoObject.id}`);\n\n    expect(res.status).toBe(200);\n    expect(res.data).toMatchObject(newDemoObject);\n  });\n\n  it('should get all demo object', async () => {\n    const res = await axios.get(`/api/demo`);\n\n    expect(res.status).toBe(200);\n    expect(res.data.filter((row) => row.id === newDemoObject.id)).toMatchObject([newDemoObject]);\n  });\n\n  it('should delete demo object by id', async () => {\n    const res = await axios.delete(`/api/demo/${newDemoObject.id}`);\n\n    expect(res.status).toBe(200);\n    expect(res.data).toMatchObject(newDemoObject);\n  });\n\n  it('should get all demo object', async () => {\n    const res = await axios.get(`/api/demo`);\n\n    expect(res.status).toBe(200);\n    expect(res.data.filter((row) => row.id === newDemoObject.id)).toMatchObject([]);\n  });\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"12-\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c-e2e-\u0442\u0435\u0441\u0442\u044b",children:"12. \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c e2e-\u0442\u0435\u0441\u0442\u044b"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./node_modules/.bin/nx run-many --exclude=@nestjs-mod-fullstack/source --all -t=e2e --skip-nx-cache=true --output-style=stream-without-prefixes\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u0412\u044b\u0432\u043e\u0434 \u043a\u043e\u043d\u0441\u043e\u043b\u0438"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ ./node_modules/.bin/nx run-many --exclude=@nestjs-mod-fullstack/source --all -t=e2e --skip-nx-cache=true --output-style=stream-without-prefixes\n\n\n> nx run client-e2e:e2e\n\n> playwright test\n\n NX   Running target e2e for 2 projects and 1 task they depend on\n\n\n NX   Running target e2e for 2 projects and 1 task they depend on\n\n   \u2192  Executing 1/3 remaining tasks...\n\n   \u2819  nx run client-e2e:e2e\n   \u2714  nx run client-e2e:e2e (15s)\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n   \u2714  nx run server:build:production (3s)\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n NX   Running target e2e for 2 projects and 1 task they depend on\n\n   \u2192  Executing 1/1 remaining tasks...\n\n   \u2827  nx run server-e2e:e2e\n\n   \u2714  2/2 succeeded [0 read from cache]\n\n PASS   server-e2e  apps/server-e2e/src/server/server.spec.ts\n  GET /api\n    \u2713 should return a message (43 ms)\n   \u2714  nx run server-e2e:e2e (2s)\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n NX   Successfully ran target e2e for 2 projects and 1 task they depend on (21s)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"13-\u0442\u0430\u043a-\u043a\u0430\u043a-\u0442\u0435\u043f\u0435\u0440\u044c-\u0447\u0430\u0441\u0442\u044c-\u043c\u0435\u0442\u043e\u0434\u043e\u0432-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0430-appcontroller-\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442-prismaclient-\u043d\u0430\u043c-\u043d\u0443\u0436\u043d\u043e-\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c-\u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442\u044b",children:"13. \u0422\u0430\u043a \u043a\u0430\u043a \u0442\u0435\u043f\u0435\u0440\u044c \u0447\u0430\u0441\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0430 AppController \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 PrismaClient \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442\u044b"}),"\n",(0,s.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",(0,s.jsx)(n.code,{children:"apps/server/src/app/app.controller.spec.ts"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { Test, TestingModule } from '@nestjs/testing';\n\nimport { FakePrismaClient, PrismaModule } from '@nestjs-mod/prisma';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\n\ndescribe('AppController', () => {\n  const appFeatureName = 'app';\n  let app: TestingModule;\n\n  beforeAll(async () => {\n    app = await Test.createTestingModule({\n      imports: [\n        PrismaModule.forRoot({\n          environments: { databaseUrl: 'fake' },\n          staticConfiguration: {\n            featureName: appFeatureName,\n            prismaModule: { PrismaClient: FakePrismaClient },\n          },\n        }),\n      ],\n      controllers: [AppController],\n      providers: [AppService],\n    }).compile();\n  });\n\n  describe('getData', () => {\n    it('should return \"Hello API\"', () => {\n      const appController = app.get<AppController>(AppController);\n      expect(appController.getData()).toEqual({ message: 'Hello API' });\n    });\n  });\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"14-\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c-\u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442\u044b-\u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",children:"14. \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./node_modules/.bin/nx run server:test --passWithNoTests\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"\u0412\u044b\u0432\u043e\u0434 \u043a\u043e\u043d\u0441\u043e\u043b\u0438"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$  ./node_modules/.bin/nx run server:test --passWithNoTests\n\n> nx run server:test --passWithNoTests\n\n PASS   server  apps/server/src/app/app.service.spec.ts\n PASS   server  apps/server/src/app/app.controller.spec.ts\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        2.07 s, estimated 5 s\nRan all test suites.\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n NX   Successfully ran target test for project server (3s)\n\n      With additional flags:\n        --passWithNoTests=true\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u043f\u043e\u0441\u0442\u0435 \u044f \u0434\u043e\u0431\u0430\u0432\u043b\u044e \u0432 NestJS-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e Swagger \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0438 \u0441\u043e\u0437\u0434\u0430\u043c REST-\u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0431\u0443\u0434\u0435\u0442 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c Angular-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435..."}),"\n",(0,s.jsx)(n.h3,{id:"\u0441\u0441\u044b\u043b\u043a\u0438",children:"\u0421\u0441\u044b\u043b\u043a\u0438"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://nestjs.com",children:"https://nestjs.com"})," - \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://nestjs-mod.com",children:"https://nestjs-mod.com"})," - \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0442\u0438\u043b\u0438\u0442"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-fullstack",children:"https://github.com/nestjs-mod/nestjs-mod-fullstack"})," - \u043f\u0440\u043e\u0435\u043a\u0442 \u0438\u0437 \u043f\u043e\u0441\u0442\u0430"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-fullstack/commit/a8b7f6ae2660a21730860b384c30da9fc82e9238",children:"https://github.com/nestjs-mod/nestjs-mod-fullstack/commit/a8b7f6ae2660a21730860b384c30da9fc82e9238"})," - \u043a\u043e\u043c\u043c\u0438\u0442 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"#nestjs #prisma #nestjsmod #fullstack\n#2024-08-13"})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(6540);const r={},o=s.createContext(r);function i(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);