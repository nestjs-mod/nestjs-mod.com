"use strict";(self.webpackChunknestjs_mod_com=self.webpackChunknestjs_mod_com||[]).push([[8765],{2173:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var r=t(4848),a=t(8453);const s={},o='\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u044f\u0437\u044b\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0444\u0443\u043b\u0441\u0442\u0435\u043a-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u043d\u0430 "Angular" \u0438 "NestJS"',i={id:"ru-posts/fullstack/2024-12-16",title:'\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u044f\u0437\u044b\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0444\u0443\u043b\u0441\u0442\u0435\u043a-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u043d\u0430 "Angular" \u0438 "NestJS"',description:"\u042d\u0442\u043e\u0442 \u043f\u043e\u0441\u0442 \u043d\u0435 \u043f\u0440\u0435\u0442\u0435\u043d\u0434\u0443\u0435\u0442 \u043d\u0430 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u043d\u043e\u0441\u0442\u044c, \u043d\u043e \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u044e \u0432\u0441\u0435 \u044d\u0442\u0430\u043f\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0431\u043e\u0439\u043b\u0435\u0440\u043f\u043b\u0435\u0439\u0442\u0430 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0441\u0442\u0430\u0442\u0435\u0439, \u0440\u0435\u0448\u0438\u043b \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0438 \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443.",source:"@site/docs/ru-posts/fullstack/2024-12-16.md",sourceDirName:"ru-posts/fullstack",slug:"/ru-posts/fullstack/2024-12-16",permalink:"/docs/ru-posts/fullstack/2024-12-16",draft:!1,unlisted:!1,editUrl:"https://github.com/nestjs-mod/nestjs-mod.com/blob/master/docs/ru-posts/fullstack/2024-12-16.md",tags:[],version:"current",frontMatter:{},sidebar:"ruPostsSidebar",previous:{title:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0437\u043e\u043d \u0432 \u0444\u0443\u043b\u0441\u0442\u0435\u043a-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 NestJS \u0438 Angular: \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 REST \u0438 WebSockets",permalink:"/docs/ru-posts/fullstack/2024-12-12"},next:{title:'\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f \u0434\u0430\u0442\u044b \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0437\u043e\u043d\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 "NestJS", \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u0432\u043e\u0434 \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u0430\u0442\u044b \u0432 "Angular"',permalink:"/docs/ru-posts/fullstack/2024-12-29"}},l={},c=[{value:"1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044f",id:"1-\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435-\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438-\u0434\u043b\u044f-\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f-\u043d\u043e\u0432\u043e\u0433\u043e-\u043f\u043e\u043b\u044f",level:3},{value:"2. \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0445\u0435\u043c &quot;Prisma&quot;",id:"2-\u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435-\u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445-\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439-\u0438-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435-\u0441\u0445\u0435\u043c-prisma",level:3},{value:"3. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 DTO \u0438 \u043c\u0435\u0442\u043e\u0434\u044b \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",id:"3-\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f-\u0432-dto-\u0438-\u043c\u0435\u0442\u043e\u0434\u044b-\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f-\u0438-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f-\u043f\u0440\u043e\u0444\u0438\u043b\u044f-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",level:3},{value:"4. \u0410\u0434\u0430\u043f\u0442\u0430\u0446\u0438\u044f &quot;AuthGuard&quot; \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u044f\u0437\u044b\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445",id:"4-\u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0438\u044f-authguard-\u0434\u043b\u044f-\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f-\u044f\u0437\u044b\u043a\u0430-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f-\u0438\u0437-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445",level:3},{value:"5. \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 &quot;SDK&quot; \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c",id:"5-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435-sdk-\u0434\u043b\u044f-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f-\u0441-\u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c",level:3},{value:"6. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u0434\u043b\u044f \u0431\u044d\u043a\u0435\u043d\u0434\u0430 \u043d\u0430 \u0441\u043c\u0435\u043d\u0443 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430 \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445",id:"6-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u043d\u043e\u0432\u043e\u0433\u043e-\u0442\u0435\u0441\u0442\u0430-\u0434\u043b\u044f-\u0431\u044d\u043a\u0435\u043d\u0434\u0430-\u043d\u0430-\u0441\u043c\u0435\u043d\u0443-\u0438-\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u044f\u0437\u044b\u043a\u0430-\u0438\u0437-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445",level:3},{value:"7. \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0445 &quot;E2E&quot;-\u0442\u0435\u0441\u0442\u043e\u0432",id:"7-\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435-\u0432\u0441\u0435\u0445-\u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0445-e2e-\u0442\u0435\u0441\u0442\u043e\u0432",level:3},{value:"8. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u044f\u0437\u044b\u043a\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u043e \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435",id:"8-\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435-\u0441\u0435\u0440\u0432\u0438\u0441\u0430-\u0434\u043b\u044f-\u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f-\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c-\u044f\u0437\u044b\u043a\u043e\u043c-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f-\u0432\u043e-\u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435",level:3},{value:"9. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u0434\u043b\u044f \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430 \u043d\u0430 \u0441\u043c\u0435\u043d\u0443 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430 \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445",id:"9-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u043d\u043e\u0432\u043e\u0433\u043e-\u0442\u0435\u0441\u0442\u0430-\u0434\u043b\u044f-\u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430-\u043d\u0430-\u0441\u043c\u0435\u043d\u0443-\u0438-\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u044f\u0437\u044b\u043a\u0430-\u0438\u0437-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445",level:3},{value:"10. \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 \u0443\u0440\u043e\u0432\u043d\u044f E2E \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",id:"10-\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435-\u0432\u0441\u0435\u0445-\u0442\u0435\u0441\u0442\u043e\u0432-\u0443\u0440\u043e\u0432\u043d\u044f-e2e-\u0434\u043b\u044f-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0438-\u043a\u043b\u0438\u0435\u043d\u0442\u0430",level:3},{value:"\u0417\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",id:"\u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",level:3},{value:"\u041f\u043b\u0430\u043d\u044b",id:"\u043f\u043b\u0430\u043d\u044b",level:3},{value:"\u0421\u0441\u044b\u043b\u043a\u0438",id:"\u0441\u0441\u044b\u043b\u043a\u0438",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"\u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f-\u0438-\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435-\u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e-\u044f\u0437\u044b\u043a\u0430-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f-\u0432-\u0431\u0430\u0437\u0443-\u0434\u0430\u043d\u043d\u044b\u0445-\u0432-\u0444\u0443\u043b\u0441\u0442\u0435\u043a-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438-\u043d\u0430-angular-\u0438-nestjs",children:'\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u044f\u0437\u044b\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0444\u0443\u043b\u0441\u0442\u0435\u043a-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u043d\u0430 "Angular" \u0438 "NestJS"'}),"\n",(0,r.jsx)(n.p,{children:"\u042d\u0442\u043e\u0442 \u043f\u043e\u0441\u0442 \u043d\u0435 \u043f\u0440\u0435\u0442\u0435\u043d\u0434\u0443\u0435\u0442 \u043d\u0430 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u043d\u043e\u0441\u0442\u044c, \u043d\u043e \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u044e \u0432\u0441\u0435 \u044d\u0442\u0430\u043f\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0431\u043e\u0439\u043b\u0435\u0440\u043f\u043b\u0435\u0439\u0442\u0430 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0441\u0442\u0430\u0442\u0435\u0439, \u0440\u0435\u0448\u0438\u043b \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0438 \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443."}),"\n",(0,r.jsx)(n.p,{children:"\u0417\u0434\u0435\u0441\u044c \u044f \u043f\u0440\u0438\u0432\u0435\u0434\u0443 \u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044f, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u043a\u0430\u0436\u0443, \u043a\u0430\u043a \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u043d\u0430 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 \u0438 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435 \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f."}),"\n",(0,r.jsxs)(n.p,{children:["\u042f\u0437\u044b\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043a\u0430\u043a \u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0437\u043e\u043d\u0430, \u0431\u0443\u0434\u0435\u0442 \u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 ",(0,r.jsx)(n.code,{children:"Auth"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"1-\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435-\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438-\u0434\u043b\u044f-\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f-\u043d\u043e\u0432\u043e\u0433\u043e-\u043f\u043e\u043b\u044f",children:"1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044f"}),"\n",(0,r.jsx)(n.p,{children:"\u041d\u0430 \u0434\u0430\u043d\u043d\u043e\u043c \u044d\u0442\u0430\u043f\u0435 \u043c\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044e \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445, \u0434\u043e\u0431\u0430\u0432\u0438\u0432 \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Create empty migration\nnpm run flyway:create:auth --args=AddFieldLangToAuthUser\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u0417\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 ",(0,r.jsx)(n.code,{children:"SQL"}),"-\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u043c, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u043c \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044f."]}),"\n",(0,r.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.em,{children:"libs/core/auth/src/migrations/V202412141339__AddFieldLangToAuthUser.sql"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'DO $$\nBEGIN\n    ALTER TABLE "AuthUser"\n        ADD "lang" varchar(2);\nEXCEPTION\n    WHEN duplicate_column THEN\n        NULL;\nEND\n$$;\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-\u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435-\u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445-\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439-\u0438-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435-\u0441\u0445\u0435\u043c-prisma",children:'2. \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0445\u0435\u043c "Prisma"'}),"\n",(0,r.jsxs)(n.p,{children:["\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0445, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0445\u0435\u043c\u044b ",(0,r.jsx)(n.code,{children:"Prisma"})," \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b ",(0,r.jsx)(n.code,{children:"Prisma"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run db:create-and-fill\nnpm run prisma:pull\nnpm run generate\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u0424\u0430\u0439\u043b \u0441\u0445\u0435\u043c\u044b \u0434\u043b\u044f \u043d\u043e\u0432\u043e\u0439 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 ",(0,r.jsx)(n.em,{children:"libs/core/auth/src/prisma/schema.prisma"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-prisma",children:'generator client {\n  provider      = "prisma-client-js"\n  output        = "../../../../../node_modules/@prisma/auth-client"\n  binaryTargets = ["native", "linux-musl", "debian-openssl-1.1.x", "linux-musl-openssl-3.0.x"]\n  engineType    = "binary"\n}\n\ngenerator prismaClassGenerator {\n  provider                        = "prisma-generator-nestjs-dto"\n  output                          = "../lib/generated/rest/dto"\n  flatResourceStructure           = "false"\n  dtoSuffix                       = "Dto"\n  entityPrefix                    = ""\n  prettier                        = "true"\n  annotateAllDtoProperties        = "true"\n  fileNamingStyle                 = "kebab"\n  noDependencies                  = "false"\n  updateDtoPrefix                 = "Update"\n  exportRelationModifierClasses   = "true"\n  entitySuffix                    = ""\n  outputToNestJsResourceStructure = "false"\n  reExport                        = "false"\n  definiteAssignmentAssertion     = "true"\n  createDtoPrefix                 = "Create"\n  classValidation                 = "true"\n}\n\ndatasource db {\n  provider = "postgres"\n  url      = env("SERVER_AUTH_DATABASE_URL")\n}\n\nmodel AuthUser {\n  id             String   @id(map: "PK_AUTH_USER") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid\n  externalUserId String   @unique(map: "UQ_AUTH_USER") @db.Uuid\n  userRole       AuthRole\n  timezone       Float?\n  /// @DtoCreateHidden\n  /// @DtoUpdateHidden\n  createdAt      DateTime @default(now()) @db.Timestamp(6)\n  /// @DtoCreateHidden\n  /// @DtoUpdateHidden\n  updatedAt      DateTime @default(now()) @db.Timestamp(6)\n  lang           String?  @db.VarChar(2)  // <--updates\n\n  @@index([userRole], map: "IDX_AUTH_USER__USER_ROLE")\n}\n\nmodel migrations {\n  installed_rank Int      @id(map: "__migrations_pk")\n  version        String?  @db.VarChar(50)\n  description    String   @db.VarChar(200)\n  type           String   @db.VarChar(20)\n  script         String   @db.VarChar(1000)\n  checksum       Int?\n  installed_by   String   @db.VarChar(100)\n  installed_on   DateTime @default(now()) @db.Timestamp(6)\n  execution_time Int\n  success        Boolean\n\n  @@index([success], map: "__migrations_s_idx")\n  @@map("__migrations")\n}\n\nenum AuthRole {\n  Admin\n  User\n}\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 \u0432\u043e \u0432\u0441\u0435\u0445 ",(0,r.jsx)(n.code,{children:"DTO"}),", \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439 ",(0,r.jsx)(n.code,{children:"AuthUser"}),", \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 ",(0,r.jsx)(n.code,{children:"lang"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.em,{children:"libs/core/auth/src/lib/generated/rest/dto/auth-user.entity.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { AuthRole } from '../../../../../../../../node_modules/@prisma/auth-client';\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class AuthUser {\n  @ApiProperty({\n    type: 'string',\n  })\n  id!: string;\n  @ApiProperty({\n    type: 'string',\n  })\n  externalUserId!: string;\n  @ApiProperty({\n    enum: AuthRole,\n    enumName: 'AuthRole',\n  })\n  userRole!: AuthRole;\n  @ApiProperty({\n    type: 'number',\n    format: 'float',\n    nullable: true,\n  })\n  timezone!: number | null;\n  @ApiProperty({\n    type: 'string',\n    format: 'date-time',\n  })\n  createdAt!: Date;\n  @ApiProperty({\n    type: 'string',\n    format: 'date-time',\n  })\n  updatedAt!: Date;\n  @ApiProperty({\n    type: 'string',\n    nullable: true,\n  })\n  lang!: string | null; // <--updates\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f-\u0432-dto-\u0438-\u043c\u0435\u0442\u043e\u0434\u044b-\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f-\u0438-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f-\u043f\u0440\u043e\u0444\u0438\u043b\u044f-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:"3. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 DTO \u0438 \u043c\u0435\u0442\u043e\u0434\u044b \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),"\n",(0,r.jsxs)(n.p,{children:["\u0427\u0442\u043e\u0431\u044b \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 ",(0,r.jsx)(n.code,{children:"lang"}),", \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u043b\u0438\u0431\u043e \u0430\u0434\u0430\u043f\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0436\u0435 \u0438\u043c\u0435\u044e\u0449\u0438\u0435\u0441\u044f \u043c\u0435\u0442\u043e\u0434\u044b \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f. \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u043c\u044b \u0432\u044b\u0431\u0435\u0440\u0435\u043c \u0432\u0442\u043e\u0440\u043e\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u2013 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u0435\u0442\u043e\u0434\u043e\u0432."]}),"\n",(0,r.jsxs)(n.p,{children:["\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c DTO-\u0444\u0430\u0439\u043b ",(0,r.jsx)(n.em,{children:"libs/core/auth/src/lib/types/auth-profile.dto.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { PickType } from '@nestjs/swagger';\nimport { CreateAuthUserDto } from '../generated/rest/dto/create-auth-user.dto';\n\nexport class AuthProfileDto extends PickType(CreateAuthUserDto, ['timezone', 'lang']) {}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u041f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u044f\u0437\u044b\u043a\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c \u043d\u0430\u0431\u043e\u0440\u043e\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435."}),"\n",(0,r.jsx)(n.p,{children:"\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432 \u043a \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0442\u0430\u043a\u043e\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438. \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u044f \u0432\u044b\u043f\u043e\u043b\u043d\u044e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u0432\u043d\u0443\u0442\u0440\u0438 \u043c\u0435\u0442\u043e\u0434\u0430 \u0438 \u0432\u044b\u0431\u0440\u043e\u0448\u0443 \u043e\u0448\u0438\u0431\u043a\u0443 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438, \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u0442\u043e\u043c\u0443, \u043a\u0430\u043a \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 \u043f\u0430\u0439\u043f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438. \u0422\u0430\u043a\u043e\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0443\u043d\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u043e\u043b\u0435\u0439 \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435."}),"\n",(0,r.jsxs)(n.p,{children:["\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u043c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440 ",(0,r.jsx)(n.em,{children:"libs/core/auth/src/lib/controllers/auth.controller.ts"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { StatusResponse } from '@nestjs-mod-fullstack/common';\nimport { ValidationError, ValidationErrorEnum } from '@nestjs-mod-fullstack/validation';\nimport { InjectPrismaClient } from '@nestjs-mod/prisma';\nimport { Body, Controller, Get, Post } from '@nestjs/common';\nimport { ApiBadRequestResponse, ApiExtraModels, ApiOkResponse, ApiTags, refs } from '@nestjs/swagger';\nimport { AuthRole, PrismaClient } from '@prisma/auth-client';\nimport { InjectTranslateFunction, TranslateFunction, TranslatesService, TranslatesStorage } from 'nestjs-translates';\nimport { AUTH_FEATURE } from '../auth.constants';\nimport { CheckAuthRole, CurrentAuthUser } from '../auth.decorators';\nimport { AuthError } from '../auth.errors';\nimport { AuthUser } from '../generated/rest/dto/auth-user.entity';\nimport { AuthEntities } from '../types/auth-entities';\nimport { AuthProfileDto } from '../types/auth-profile.dto';\nimport { AuthCacheService } from '../services/auth-cache.service';\n\n@ApiExtraModels(AuthError, AuthEntities, ValidationError)\n@ApiBadRequestResponse({\n  schema: { allOf: refs(AuthError, ValidationError) },\n})\n@ApiTags('Auth')\n@CheckAuthRole([AuthRole.User, AuthRole.Admin])\n@Controller('/auth')\nexport class AuthController {\n  constructor(\n    @InjectPrismaClient(AUTH_FEATURE)\n    private readonly prismaClient: PrismaClient,\n    private readonly authCacheService: AuthCacheService,\n    private readonly translatesStorage: TranslatesStorage\n  ) {}\n\n  @Get('profile')\n  @ApiOkResponse({ type: AuthProfileDto })\n  async profile(@CurrentAuthUser() authUser: AuthUser): Promise<AuthProfileDto> {\n    return {\n      lang: authUser.lang, // <--updates\n      timezone: authUser.timezone,\n    };\n  }\n\n  @Post('update-profile')\n  @ApiOkResponse({ type: StatusResponse })\n  async updateProfile(@CurrentAuthUser() authUser: AuthUser, @Body() args: AuthProfileDto, @InjectTranslateFunction() getText: TranslateFunction) {\n    if (args.lang && !this.translatesStorage.locales.includes(args.lang)) {\n      // <--updates\n      throw new ValidationError(undefined, ValidationErrorEnum.COMMON, [\n        {\n          property: 'lang',\n          constraints: {\n            isNotEmpty: getText('lang must have one of the values: {{values}}', this.translatesStorage.locales.join(', ')),\n          },\n        },\n      ]);\n    }\n    await this.prismaClient.authUser.update({\n      where: { id: authUser.id },\n      data: {\n        ...(args.lang === undefined // <--updates\n          ? {}\n          : {\n              lang: args.lang,\n            }),\n        ...(args.timezone === undefined // <--updates\n          ? {}\n          : {\n              timezone: args.timezone,\n            }),\n        updatedAt: new Date(),\n      },\n    });\n    await this.authCacheService.clearCacheByExternalUserId(authUser.externalUserId);\n    return { message: getText('ok') };\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-\u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0438\u044f-authguard-\u0434\u043b\u044f-\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f-\u044f\u0437\u044b\u043a\u0430-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f-\u0438\u0437-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445",children:'4. \u0410\u0434\u0430\u043f\u0442\u0430\u0446\u0438\u044f "AuthGuard" \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u044f\u0437\u044b\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445'}),"\n",(0,r.jsxs)(n.p,{children:["\u0422\u0435\u043f\u0435\u0440\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 ",(0,r.jsx)(n.code,{children:"AuthGuard"}),", \u0447\u0442\u043e\u0431\u044b \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u0437\u0432\u043b\u0435\u043a\u0430\u043b\u043e\u0441\u044c \u043d\u0435 \u0438\u0437 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0430 \u0438\u0437 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a, \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445."]}),"\n",(0,r.jsxs)(n.p,{children:["\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u043c \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.em,{children:"libs/core/auth/src/lib/auth.guard.ts"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// ...\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  private logger = new Logger(AuthGuard.name);\n\n  constructor(\n    // ...\n    private readonly translatesStorage: TranslatesStorage\n  ) {}\n\n  // ...\n\n  private async tryGetOrCreateCurrentUserWithExternalUserId(req: AuthRequest, externalUserId: string) {\n    if (!req.authUser && externalUserId) {\n      const authUser = await this.authCacheService.getCachedUserByExternalUserId(externalUserId);\n      req.authUser =\n        authUser ||\n        (await this.prismaClient.authUser.upsert({\n          create: { externalUserId, userRole: 'User' },\n          update: {},\n          where: { externalUserId },\n        }));\n\n      if (req.authUser.lang) {\n        req.headers[ACCEPT_LANGUAGE] = req.authUser.lang;\n      }\n    }\n\n    if (req.headers[ACCEPT_LANGUAGE] && !this.translatesStorage.locales.includes(req.headers[ACCEPT_LANGUAGE])) {\n      req.headers[ACCEPT_LANGUAGE] = this.translatesStorage.defaultLocale;\n    }\n  }\n  // ...\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"5-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435-sdk-\u0434\u043b\u044f-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f-\u0441-\u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c",children:'5. \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 "SDK" \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c'}),"\n",(0,r.jsxs)(n.p,{children:["\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0441\u0435 ",(0,r.jsx)(n.code,{children:"SDK"}),", \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u043d\u0430\u0448\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run manual:prepare\n"})}),"\n",(0,r.jsx)(n.h3,{id:"6-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u043d\u043e\u0432\u043e\u0433\u043e-\u0442\u0435\u0441\u0442\u0430-\u0434\u043b\u044f-\u0431\u044d\u043a\u0435\u043d\u0434\u0430-\u043d\u0430-\u0441\u043c\u0435\u043d\u0443-\u0438-\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u044f\u0437\u044b\u043a\u0430-\u0438\u0437-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445",children:"6. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u0434\u043b\u044f \u0431\u044d\u043a\u0435\u043d\u0434\u0430 \u043d\u0430 \u0441\u043c\u0435\u043d\u0443 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430 \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"}),"\n",(0,r.jsx)(n.p,{children:"\u0414\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442, \u0447\u0442\u043e \u0441\u043c\u0435\u043d\u0430 \u044f\u0437\u044b\u043a\u0430 \u0438 \u0435\u0433\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0442 \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a."}),"\n",(0,r.jsxs)(n.p,{children:["\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.em,{children:"apps/server-e2e/src/server/store-lang-in-db.spec.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { RestClientHelper } from '@nestjs-mod-fullstack/testing';\nimport { AxiosError } from 'axios';\n\ndescribe('Store lang in db', () => {\n  jest.setTimeout(60000);\n\n  const user1 = new RestClientHelper();\n\n  beforeAll(async () => {\n    await user1.createAndLoginAsUser();\n  });\n\n  it('should catch error on try use not exists language code', async () => {\n    try {\n      await user1.getAuthApi().authControllerUpdateProfile({ lang: 'tt' });\n    } catch (err) {\n      expect((err as AxiosError).response?.data).toEqual({\n        code: 'VALIDATION-000',\n        message: 'Validation error',\n        metadata: [\n          {\n            property: 'lang',\n            constraints: [\n              {\n                name: 'isWrongEnumValue',\n                description: 'lang must have one of the values: en, ru',\n              },\n            ],\n          },\n        ],\n      });\n    }\n  });\n\n  it('should catch error in Russian language on create new webhook as user1', async () => {\n    await user1.getAuthApi().authControllerUpdateProfile({ lang: 'ru' });\n    try {\n      await user1.getWebhookApi().webhookControllerCreateOne({\n        enabled: false,\n        endpoint: '',\n        eventName: '',\n      });\n    } catch (err) {\n      expect((err as AxiosError).response?.data).toEqual({\n        code: 'VALIDATION-000',\n        message: 'Validation error',\n        metadata: [\n          {\n            property: 'eventName',\n            constraints: [\n              {\n                name: 'isNotEmpty',\n                description: 'eventName \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c',\n              },\n            ],\n          },\n          {\n            property: 'endpoint',\n            constraints: [\n              {\n                name: 'isNotEmpty',\n                description: 'endpoint \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c',\n              },\n            ],\n          },\n        ],\n      });\n    }\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"7-\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435-\u0432\u0441\u0435\u0445-\u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0445-e2e-\u0442\u0435\u0441\u0442\u043e\u0432",children:'7. \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0445 "E2E"-\u0442\u0435\u0441\u0442\u043e\u0432'}),"\n",(0,r.jsxs)(n.p,{children:["\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u043c \u0432\u0441\u0435 \u0442\u0435\u0441\u0442\u044b \u0443\u0440\u043e\u0432\u043d\u044f ",(0,r.jsx)(n.code,{children:"E2E"})," \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0432\u0435\u0441\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0438 \u0431\u0435\u0437 \u0441\u0431\u043e\u0435\u0432."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run nx -- run server-e2e:e2e\n"})}),"\n",(0,r.jsx)(n.h3,{id:"8-\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435-\u0441\u0435\u0440\u0432\u0438\u0441\u0430-\u0434\u043b\u044f-\u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f-\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c-\u044f\u0437\u044b\u043a\u043e\u043c-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f-\u0432\u043e-\u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435",children:"8. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u044f\u0437\u044b\u043a\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u043e \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435"}),"\n",(0,r.jsx)(n.p,{children:"\u0412\u043e \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u0435\u0440\u0432\u0438\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u044f\u0437\u044b\u043a\u043e\u043c \u043a\u0430\u043a \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0445, \u0442\u0430\u043a \u0438 \u0434\u043b\u044f \u043d\u0435\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439."}),"\n",(0,r.jsxs)(n.p,{children:["\u041b\u043e\u0433\u0438\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u044f\u0437\u044b\u043a\u043e\u043c \u0434\u043b\u044f \u043d\u0435\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043e\u0441\u0442\u0430\u043d\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0436\u043d\u0435\u0439: \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c ",(0,r.jsx)(n.code,{children:"localStorage"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"\u041e\u0434\u043d\u0430\u043a\u043e, \u043f\u043e\u0441\u043b\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u044f\u0437\u044b\u043a \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."}),"\n",(0,r.jsxs)(n.p,{children:["\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.em,{children:"libs/core/auth-angular/src/lib/services/auth-active-lang.service.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { Injectable } from '@angular/core';\nimport { TranslocoService } from '@jsverse/transloco';\nimport { AuthErrorEnumInterface, AuthErrorInterface, AuthRestService } from '@nestjs-mod-fullstack/app-angular-rest-sdk';\nimport { catchError, map, of, tap, throwError } from 'rxjs';\n\nconst AUTH_ACTIVE_LANG_LOCAL_STORAGE_KEY = 'activeLang';\n\n@Injectable({ providedIn: 'root' })\nexport class AuthActiveLangService {\n  constructor(private readonly authRestService: AuthRestService, private readonly translocoService: TranslocoService) {}\n\n  getActiveLang() {\n    return this.authRestService.authControllerProfile().pipe(\n      map((profile) => {\n        return profile.lang || this.translocoService.getDefaultLang();\n      }),\n      catchError((err) => {\n        if ('error' in err && (err.error as AuthErrorInterface).code === AuthErrorEnumInterface._001) {\n          return of(localStorage.getItem(AUTH_ACTIVE_LANG_LOCAL_STORAGE_KEY) || this.translocoService.getDefaultLang());\n        }\n        return throwError(() => err);\n      })\n    );\n  }\n\n  setActiveLang(lang: string) {\n    return this.authRestService.authControllerUpdateProfile({ lang }).pipe(\n      tap(() => {\n        this.translocoService.setActiveLang(lang);\n      }),\n      catchError((err) => {\n        if ('error' in err && (err.error as AuthErrorInterface).code === AuthErrorEnumInterface._001) {\n          localStorage.setItem(AUTH_ACTIVE_LANG_LOCAL_STORAGE_KEY, lang);\n          this.translocoService.setActiveLang(lang);\n          return of(null);\n        }\n        return throwError(() => err);\n      })\n    );\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u0422\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u043c\u0435\u043d\u0438\u043c \u0432\u0441\u0435 \u0441\u043b\u0443\u0447\u0430\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f ",(0,r.jsx)(n.code,{children:"localStorage"})," \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u044f\u0437\u044b\u043a\u0430 \u043d\u0430 ",(0,r.jsx)(n.code,{children:"AuthActiveLangService"})," \u043f\u043e \u0432\u0441\u0435\u043c\u0443 \u043a\u043e\u0434\u0443 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430."]}),"\n",(0,r.jsx)(n.h3,{id:"9-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u043d\u043e\u0432\u043e\u0433\u043e-\u0442\u0435\u0441\u0442\u0430-\u0434\u043b\u044f-\u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430-\u043d\u0430-\u0441\u043c\u0435\u043d\u0443-\u0438-\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u044f\u0437\u044b\u043a\u0430-\u0438\u0437-\u0431\u0430\u0437\u044b-\u0434\u0430\u043d\u043d\u044b\u0445",children:"9. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u0434\u043b\u044f \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430 \u043d\u0430 \u0441\u043c\u0435\u043d\u0443 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430 \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"}),"\n",(0,r.jsxs)(n.p,{children:["\u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u0442\u0435\u0441\u0442\u0430 \u043c\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438: \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c\u0441\u044f, \u0441\u043c\u0435\u043d\u0438\u043c \u044f\u0437\u044b\u043a \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u0438\u0439, \u0437\u0430\u0442\u0435\u043c \u0438\u0437\u043c\u0435\u043d\u0438\u043c \u044f\u0437\u044b\u043a \u0432 ",(0,r.jsx)(n.code,{children:"localStorage"})," \u0441 \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0432\u0435\u0431-\u0445\u0443\u043a \u0441 \u043f\u0443\u0441\u0442\u044b\u043c\u0438 \u043f\u043e\u043b\u044f\u043c\u0438. \u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u2014 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435."]}),"\n",(0,r.jsxs)(n.p,{children:["\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b ",(0,r.jsx)(n.em,{children:"apps/client-e2e/src/ru-validation-with-store-lang-in-db.spec.ts"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { faker } from '@faker-js/faker';\nimport { expect, Page, test } from '@playwright/test';\nimport { get } from 'env-var';\nimport { join } from 'path';\nimport { setTimeout } from 'timers/promises';\n\ntest.describe('Validation with store lang in db (ru)', () => {\n  test.describe.configure({ mode: 'serial' });\n\n  const user = {\n    email: faker.internet.email({\n      provider: 'example.fakerjs.dev',\n    }),\n    password: faker.internet.password({ length: 8 }),\n    site: `http://${faker.internet.domainName()}`,\n  };\n  let page: Page;\n\n  test.beforeAll(async ({ browser }) => {\n    page = await browser.newPage({\n      viewport: { width: 1920, height: 1080 },\n      recordVideo: {\n        dir: join(__dirname, 'video'),\n        size: { width: 1920, height: 1080 },\n      },\n    });\n    await page.goto('/', {\n      timeout: 7000,\n    });\n    await page.evaluate((authorizerURL) => localStorage.setItem('authorizerURL', authorizerURL), get('SERVER_AUTHORIZER_URL').required().asString());\n    await page.evaluate((minioURL) => localStorage.setItem('minioURL', minioURL), get('SERVER_MINIO_URL').required().asString());\n  });\n\n  test.afterAll(async () => {\n    await setTimeout(1000);\n    await page.close();\n  });\n\n  test('sign up as user', async () => {\n    await page.goto('/sign-up', {\n      timeout: 7000,\n    });\n\n    await page.locator('auth-sign-up-form').locator('[placeholder=email]').click();\n    await page.keyboard.type(user.email.toLowerCase(), {\n      delay: 50,\n    });\n    await expect(page.locator('auth-sign-up-form').locator('[placeholder=email]')).toHaveValue(user.email.toLowerCase());\n\n    await page.locator('auth-sign-up-form').locator('[placeholder=password]').click();\n    await page.keyboard.type(user.password, {\n      delay: 50,\n    });\n    await expect(page.locator('auth-sign-up-form').locator('[placeholder=password]')).toHaveValue(user.password);\n\n    await page.locator('auth-sign-up-form').locator('[placeholder=confirm_password]').click();\n    await page.keyboard.type(user.password, {\n      delay: 50,\n    });\n    await expect(page.locator('auth-sign-up-form').locator('[placeholder=confirm_password]')).toHaveValue(user.password);\n\n    await expect(page.locator('auth-sign-up-form').locator('button[type=submit]')).toHaveText('Sign-up');\n\n    await page.locator('auth-sign-up-form').locator('button[type=submit]').click();\n\n    await setTimeout(5000);\n\n    await expect(page.locator('nz-header').locator('[nz-submenu]').first()).toContainText(`You are logged in as ${user.email.toLowerCase()}`);\n  });\n\n  test('should change language to RU', async () => {\n    await expect(page.locator('nz-header').locator('[nz-submenu]').last()).toContainText(`EN`);\n    await page.locator('nz-header').locator('[nz-submenu]').last().click();\n\n    await expect(page.locator('[nz-submenu-none-inline-child]').locator('[nz-menu-item]').last()).toContainText(`Russian`);\n\n    await page.locator('[nz-submenu-none-inline-child]').locator('[nz-menu-item]').last().click();\n\n    await setTimeout(4000);\n    //\n\n    await expect(page.locator('nz-header').locator('[nz-submenu]').last()).toContainText(`RU`);\n  });\n\n  test('change lang to en in localStorage', async () => {\n    await page.evaluate(() => localStorage.setItem('activeLang', 'en'));\n\n    const activeLang = await page.evaluate(() => localStorage.getItem('activeLang'));\n\n    expect(activeLang).toEqual('en');\n  });\n\n  test('should catch error on create new webhook', async () => {\n    await page.locator('webhook-grid').locator('button').first().click();\n\n    await setTimeout(7000);\n\n    await page.locator('[nz-modal-footer]').locator('button').last().click();\n\n    await setTimeout(4000);\n\n    await expect(page.locator('webhook-form').locator('formly-validation-message').first()).toContainText('\u043f\u043e\u043b\u0435 \"\u0430\u0434\u0440\u0435\u0441\" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c');\n    await expect(page.locator('webhook-form').locator('formly-validation-message').last()).toContainText('\u043f\u043e\u043b\u0435 \"\u0441\u043e\u0431\u044b\u0442\u0438\u0435\" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c');\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"10-\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435-\u0432\u0441\u0435\u0445-\u0442\u0435\u0441\u0442\u043e\u0432-\u0443\u0440\u043e\u0432\u043d\u044f-e2e-\u0434\u043b\u044f-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0438-\u043a\u043b\u0438\u0435\u043d\u0442\u0430",children:"10. \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 \u0443\u0440\u043e\u0432\u043d\u044f E2E \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),"\n",(0,r.jsx)(n.p,{children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u043c \u0432\u0441\u0435 \u0442\u0435\u0441\u0442\u044b \u0443\u0440\u043e\u0432\u043d\u044f E2E \u043a\u0430\u043a \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0442\u0430\u043a \u0438 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430, \u0447\u0442\u043e\u0431\u044b \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0432\u0441\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0438 \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run pm2-full:dev:test:e2e\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",children:"\u0417\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"}),"\n",(0,r.jsx)(n.p,{children:"\u041d\u0435\u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u043a\u0430\u0436\u0443\u0449\u0443\u044e\u0441\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0438, \u0435\u0451 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0438 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043d\u0435\u043c\u0430\u043b\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043c\u0430 \u043a\u043e\u0434\u0430."}),"\n",(0,r.jsx)(n.p,{children:"\u041e\u0434\u043d\u0430\u043a\u043e, \u0434\u0430\u0436\u0435 \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043a\u0440\u0430\u0439\u043d\u0435 \u0432\u0430\u0436\u043d\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 E2E-\u0442\u0435\u0441\u0442\u0430\u043c\u0438, \u0447\u0442\u043e \u0438 \u0431\u044b\u043b\u043e \u043f\u0440\u043e\u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u044d\u0442\u043e\u043c \u043f\u043e\u0441\u0442\u0435."}),"\n",(0,r.jsx)(n.h3,{id:"\u043f\u043b\u0430\u043d\u044b",children:"\u041f\u043b\u0430\u043d\u044b"}),"\n",(0,r.jsxs)(n.p,{children:["\u0412 ",(0,r.jsx)(n.a,{href:"https://habr.com/ru/articles/866204/",children:"\u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u0441\u0442\u0430\u0442\u044c\u0435"})," \u044f \u0432\u043d\u0435\u0434\u0440\u0438\u043b \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u0438 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u043f\u043e\u043b\u044f \u0442\u0438\u043f\u0430 ",(0,r.jsx)(n.code,{children:"Date"})," \u0438\u043b\u0438 \u0441\u0442\u0440\u043e\u043a\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 ",(0,r.jsx)(n.code,{children:"ISOString"}),". \u0422\u0435\u043c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, \u044f \u0435\u0449\u0435 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044e \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u043f\u043e\u0441\u0442\u0435 \u044f \u0437\u0430\u0439\u043c\u0443\u0441\u044c \u0438\u043c\u0435\u043d\u043d\u043e \u044d\u0442\u0438\u043c \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u043c."]}),"\n",(0,r.jsx)(n.h3,{id:"\u0441\u0441\u044b\u043b\u043a\u0438",children:"\u0421\u0441\u044b\u043b\u043a\u0438"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://nestjs.com",children:"https://nestjs.com"})," - \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://nestjs-mod.com",children:"https://nestjs-mod.com"})," - \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0442\u0438\u043b\u0438\u0442"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://fullstack.nestjs-mod.com",children:"https://fullstack.nestjs-mod.com"})," - \u0441\u0430\u0439\u0442 \u0438\u0437 \u043f\u043e\u0441\u0442\u0430"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-fullstack",children:"https://github.com/nestjs-mod/nestjs-mod-fullstack"})," - \u043f\u0440\u043e\u0435\u043a\u0442 \u0438\u0437 \u043f\u043e\u0441\u0442\u0430"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-fullstack/compare/3019d982ca9605479a8b917f71a8ae268f3582bc..4f495dbd6b9b4efd8d8e13a60c5f66b895c483af",children:"https://github.com/nestjs-mod/nestjs-mod-fullstack/compare/3019d982ca9605479a8b917f71a8ae268f3582bc..4f495dbd6b9b4efd8d8e13a60c5f66b895c483af"})," - \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/nestjs-mod/nestjs-mod-fullstack/actions/runs/12347665539/artifacts/2324579763",children:"https://github.com/nestjs-mod/nestjs-mod-fullstack/actions/runs/12347665539/artifacts/2324579763"})," - \u0432\u0438\u0434\u0435\u043e \u0441 E2E-\u0442\u0435\u0441\u0442\u043e\u0432 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"#angular #translates #nestjsmod #fullstack\n#2024-12-16"})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var r=t(6540);const a={},s=r.createContext(a);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);