"use strict";(self.webpackChunknestjs_mod_com=self.webpackChunknestjs_mod_com||[]).push([[9841],{449:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var a=n(4848),i=n(8453);const s={sidebar_position:6},r="Schematics",o={id:"guides/info/schematics",title:"Schematics",description:"The target application type for using NestJS-mod is the monorepository at https://nx.dev.",source:"@site/docs/guides/info/6-schematics.md",sourceDirName:"guides/info",slug:"/guides/info/schematics",permalink:"/docs/guides/info/schematics",draft:!1,unlisted:!1,editUrl:"https://github.com/nestjs-mod/nestjs-mod.com/blob/master/docs/guides/info/6-schematics.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"guidesSidebar",previous:{title:"Function for creating a NestJS-mod application",permalink:"/docs/guides/info/nestjs-application"},next:{title:"Plans",permalink:"/docs/guides/plans"}},c={},d=[{value:"Schematic for creating a basic application",id:"schematic-for-creating-a-basic-application",level:2},{value:"Commands for creating an empty NestJS-mod application",id:"commands-for-creating-an-empty-nestjs-mod-application",level:3},{value:"Run the created application in development mode",id:"run-the-created-application-in-development-mode",level:3},{value:"Building and running the application in production mode",id:"building-and-running-the-application-in-production-mode",level:3},{value:"Integrated:",id:"integrated",level:3},{value:"Schematic for creating a typical NestJS-mod library",id:"schematic-for-creating-a-typical-nestjs-mod-library",level:2},{value:"Command to create an empty library",id:"command-to-create-an-empty-library",level:3},{value:"Integrated:",id:"integrated-1",level:3}];function l(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"schematics",children:"Schematics"}),"\n",(0,a.jsxs)(t.p,{children:["The target application type for using NestJS-mod is the monorepository at ",(0,a.jsx)(t.a,{href:"https://nx.dev",children:"https://nx.dev"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["Since the NestJS-mod template is slightly different from nx, there are additional rules for checking code quality and more strict typescript config rules, for a faster start to developing applications on this architecture, sets of schematics were developed ",(0,a.jsx)(t.a,{href:"https://www.npmjs.com/package/@nestjs-mod/schematics",children:"https://www.npmjs.com/package/@nestjs-mod/schematics"})," for code generation."]}),"\n",(0,a.jsx)(t.h2,{id:"schematic-for-creating-a-basic-application",children:"Schematic for creating a basic application"}),"\n",(0,a.jsx)(t.h3,{id:"commands-for-creating-an-empty-nestjs-mod-application",children:"Commands for creating an empty NestJS-mod application"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# Create an empty nx project\nnpx --yes create-nx-workspace@17.2.8 --name=project-name --preset=empty --interactive=false --nx-cloud=false\n\n# Go to the created folder\ncd project-name\n\n# Install schematic for generating NestJS-mod application\nnpm install --save-dev @nestjs-mod/schematics@latest\n\n# Create a NestJS-mod application\n./node_modules/.bin/nx g @nestjs-mod/schematics:application --directory=apps/app-name --name=app-name --projectNameAndRootFormat=as-provided --strict=true\n"})}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:["Example of the generated application: ",(0,a.jsx)(t.a,{href:"https://github.com/nestjs-mod/nestjs-mod-example/tree/master/apps/app-name",children:"https://github.com/nestjs-mod/nestjs-mod-example/tree/master/apps/app-name"})]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"run-the-created-application-in-development-mode",children:"Run the created application in development mode"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# Prepare all files\nnpm run manual:prepare\n\n# Launch applications in watch mode\nnpm run serve:dev:app-name\n"})}),"\n",(0,a.jsx)(t.h3,{id:"building-and-running-the-application-in-production-mode",children:"Building and running the application in production mode"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"## Collect applications\nnpm run build:prod:app-name\n\n## Launch the assembled application\nnpm run start:prod:app-name\n"})}),"\n",(0,a.jsx)(t.h3,{id:"integrated",children:"Integrated:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Pino - logger for streaming logs, website: ",(0,a.jsx)(t.a,{href:"https://github.com/pinojs/pino",children:"https://github.com/pinojs/pino"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Terminus - to obtain the status of the application, website: ",(0,a.jsx)(t.a,{href:"https://docs.nestjs.com/recipes/terminus",children:"https://docs.nestjs.com/recipes/terminus"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["InfrastructureMarkdownReportGenerator - infrastructure documentation generator (",(0,a.jsx)(t.a,{href:"https://github.com/nestjs-mod/nestjs-mod-example/blob/master/apps/app-name/INFRASTRUCTURE.MD",children:"example"}),")."]}),"\n",(0,a.jsxs)(t.li,{children:["PM2 - script generator for launching the application, website: ",(0,a.jsx)(t.a,{href:"https://pm2.keymetrics.io/",children:"https://pm2.keymetrics.io/"})]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"schematic-for-creating-a-typical-nestjs-mod-library",children:"Schematic for creating a typical NestJS-mod library"}),"\n",(0,a.jsx)(t.h3,{id:"command-to-create-an-empty-library",children:"Command to create an empty library"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# Creating NestJS-mod library\n./node_modules/.bin/nx g @nestjs-mod/schematics:library feature-name --buildable --publishable --directory=libs/feature-name --simpleName=true --projectNameAndRootFormat=as-provided --strict =true\n"})}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:["Example of the generated library: ",(0,a.jsx)(t.a,{href:"https://github.com/nestjs-mod/nestjs-mod-example/tree/master/libs/feature-name",children:"https://github.com/nestjs-mod/nestjs-mod-example/tree/master/libs/feature-name"})]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"integrated-1",children:"Integrated:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Commands for creating releases for Github - action: ",(0,a.jsx)(t.a,{href:"https://github.com/TheUnderScorer/nx-semantic-release",children:"https://github.com/TheUnderScorer/nx-semantic-release"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Empty configuration and environment variable classes - example: ",(0,a.jsx)(t.a,{href:"https://github.com/nestjs-mod/nestjs-mod-example/tree/master/libs/feature-name/src/lib",children:"https://github.com/nestjs-mod/nestjs-mod-example/tree/master/libs/feature-name/src/lib"}),"."]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var a=n(6540);const i={},s=a.createContext(i);function r(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);