"use strict";(self.webpackChunknestjs_mod_com=self.webpackChunknestjs_mod_com||[]).push([[287],{994:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var n=t(4848),o=t(8453);const i={},r="@nestjs-mod/pino",d={id:"packages/system/nestjs-pino/README",title:"@nestjs-mod/pino",description:"Pino logger for NestJS-mod (Wrapper for https://www.npmjs.com/package/nestjs-pino)",source:"@site/docs/packages/system/nestjs-pino/README.md",sourceDirName:"packages/system/nestjs-pino",slug:"/packages/system/nestjs-pino/",permalink:"/docs/packages/system/nestjs-pino/",draft:!1,unlisted:!1,editUrl:"https://github.com/nestjs-mod/nestjs-mod.com/blob/master/docs/packages/system/nestjs-pino/README.md",tags:[],version:"current",frontMatter:{},sidebar:"packagesSidebar",previous:{title:"@nestjs-mod/microservices",permalink:"/docs/packages/system/microservices"},next:{title:"@nestjs-mod/terminus",permalink:"/docs/packages/system/terminus/"}},l={},c=[{value:"Installation",id:"installation",level:2},{value:"Modules",id:"modules",level:2},{value:"Modules descriptions",id:"modules-descriptions",level:2},{value:"NestjsPinoLoggerModule",id:"nestjspinologgermodule",level:3},{value:"Use in NestJS-mod",id:"use-in-nestjs-mod",level:4},{value:"Configuration",id:"configuration",level:4},{value:"Links",id:"links",level:2},{value:"License",id:"license",level:2}];function a(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"nestjs-modpino",children:"@nestjs-mod/pino"}),"\n",(0,n.jsxs)(s.p,{children:["Pino logger for NestJS-mod (Wrapper for ",(0,n.jsx)(s.a,{href:"https://www.npmjs.com/package/nestjs-pino",children:"https://www.npmjs.com/package/nestjs-pino"}),")"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://npmjs.org/package/@nestjs-mod/pino",children:(0,n.jsx)(s.img,{src:"https://badgen.net/npm/v/@nestjs-mod/pino",alt:"NPM version"})})," ",(0,n.jsx)(s.a,{href:"https://npmjs.org/package/@nestjs-mod/pino",children:(0,n.jsx)(s.img,{src:"https://badgen.net/npm/dm/@nestjs-mod/pino",alt:"monthly downloads"})})," ",(0,n.jsx)(s.a,{href:"https://t.me/nestjs_mod",children:(0,n.jsx)(s.img,{src:"https://img.shields.io/badge/group-telegram-blue.svg?maxAge=2592000",alt:"Telegram bot"})})]}),"\n",(0,n.jsx)(s.h2,{id:"installation",children:"Installation"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"npm i --save pino-http pino nestjs-pino @nestjs-mod/pino\n"})}),"\n",(0,n.jsx)(s.h2,{id:"modules",children:"Modules"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Link"}),(0,n.jsx)(s.th,{children:"Category"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"#nestjspinologgermodule",children:"NestjsPinoLoggerModule"})}),(0,n.jsx)(s.td,{children:"system"}),(0,n.jsxs)(s.td,{children:["Pino logger for NestJS-mod (Wrapper for ",(0,n.jsx)(s.a,{href:"https://www.npmjs.com/package/nestjs-pino",children:"https://www.npmjs.com/package/nestjs-pino"}),")"]})]})})]}),"\n",(0,n.jsx)(s.h2,{id:"modules-descriptions",children:"Modules descriptions"}),"\n",(0,n.jsx)(s.h3,{id:"nestjspinologgermodule",children:"NestjsPinoLoggerModule"}),"\n",(0,n.jsxs)(s.p,{children:["Pino logger for NestJS-mod (Wrapper for ",(0,n.jsx)(s.a,{href:"https://www.npmjs.com/package/nestjs-pino",children:"https://www.npmjs.com/package/nestjs-pino"}),")"]}),"\n",(0,n.jsx)(s.h4,{id:"use-in-nestjs-mod",children:"Use in NestJS-mod"}),"\n",(0,n.jsxs)(s.p,{children:["An example of using forRoot with parameters, you can see the full example here ",(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-pino-logger",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/tree/master/apps/example-pino-logger"}),"."]}),"\n",(0,n.jsx)(s.p,{children:"Passing requestId from the frontend is supported."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-typescript",children:"import {\n  DefaultNestApplicationInitializer,\n  DefaultNestApplicationListener,\n  bootstrapNestApplication,\n} from '@nestjs-mod/common';\nimport { NestjsPinoLoggerModule } from '@nestjs-mod/pino';\n\nbootstrapNestApplication({\n  modules: {\n    system: [\n      DefaultNestApplicationInitializer.forRoot({ staticConfiguration: { bufferLogs: true } }),\n      NestjsPinoLoggerModule.forRoot(),\n      DefaultNestApplicationListener.forRoot({\n        staticEnvironments: { port: 3000 },\n      }),\n    ],\n  },\n});\n"})}),"\n",(0,n.jsx)(s.h4,{id:"configuration",children:"Configuration"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Key"}),(0,n.jsx)(s.th,{children:"Description"}),(0,n.jsx)(s.th,{children:"Constraints"}),(0,n.jsx)(s.th,{children:"Default"}),(0,n.jsx)(s.th,{children:"Value"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"requestIdHeaderName"})}),(0,n.jsx)(s.td,{children:"Header name for search requestId"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"x-request-id"})}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"exclude"})}),(0,n.jsxs)(s.td,{children:["Optional parameter for routing. It should implement interface of parameters of NestJS built-in ",(0,n.jsx)(s.code,{children:"MiddlewareConfigProxy['forRoutes']"}),". @see ",(0,n.jsx)(s.a,{href:"https://docs.nestjs.com/middleware#applying-middleware",children:"https://docs.nestjs.com/middleware#applying-middleware"})," It can be used for both disabling automatic req/res logs and removing request context from following logs. It works for all requests by default. If you only need to turn off the automatic request/response logging for some specific (or all) routes but keep request context for app logs use ",(0,n.jsx)(s.code,{children:"pinoHttp.autoLogging"})," field."]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"forRoutes"})}),(0,n.jsxs)(s.td,{children:["Optional parameter for routing. It should implement interface of parameters of NestJS built-in ",(0,n.jsx)(s.code,{children:"MiddlewareConfigProxy['forRoutes']"}),". @see ",(0,n.jsx)(s.a,{href:"https://docs.nestjs.com/middleware#applying-middleware",children:"https://docs.nestjs.com/middleware#applying-middleware"})," It can be used for both disabling automatic req/res logs and removing request context from following logs. It works for all requests by default. If you only need to turn off the automatic request/response logging for some specific (or all) routes but keep request context for app logs use ",(0,n.jsx)(s.code,{children:"pinoHttp.autoLogging"})," field."]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"pinoHttp"})}),(0,n.jsxs)(s.td,{children:["Optional parameters for ",(0,n.jsx)(s.code,{children:"pino-http"})," module @see ",(0,n.jsx)(s.a,{href:"https://github.com/pinojs/pino-http#pinohttpopts-stream",children:"https://github.com/pinojs/pino-http#pinohttpopts-stream"})]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"renameContext"})}),(0,n.jsxs)(s.td,{children:["Optional parameter to change property name ",(0,n.jsx)(s.code,{children:"context"}),' in resulted logs, so logs will be like: {"level":30, ... "RENAME_CONTEXT_VALUE_HERE":"AppController" }']}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"useExisting"})}),(0,n.jsxs)(s.td,{children:["Optional parameter to skip pino configuration in case you are using FastifyAdapter, and already configure logger in adapter's config. The Pros and cons of this approach are described in the FAQ section of the documentation: @see ",(0,n.jsx)(s.a,{href:"https://github.com/iamolegga/nestjs-pino#faq",children:"https://github.com/iamolegga/nestjs-pino#faq"}),"."]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,n.jsx)(s.h2,{id:"links",children:"Links"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod",children:"https://github.com/nestjs-mod/nestjs-mod"})," - A collection of utilities for unifying NestJS applications and modules"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib",children:"https://github.com/nestjs-mod/nestjs-mod-contrib"})," - Contrib repository for the NestJS-mod"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-example",children:"https://github.com/nestjs-mod/nestjs-mod-example"})," - Example application built with ",(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod/tree/master/libs/schematics",children:"@nestjs-mod/schematics"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod/blob/master/apps/example-basic/INFRASTRUCTURE.MD",children:"https://github.com/nestjs-mod/nestjs-mod/blob/master/apps/example-basic/INFRASTRUCTURE.MD"})," - A simple example of infrastructure documentation."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/blob/master/apps/example-prisma/INFRASTRUCTURE.MD",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/blob/master/apps/example-prisma/INFRASTRUCTURE.MD"})," - An extended example of infrastructure documentation with a docker-compose file and a data base."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://dev.to/endykaufman/collection-of-nestjs-mod-utilities-for-unifying-applications-and-modules-on-nestjs-5256",children:"https://dev.to/endykaufman/collection-of-nestjs-mod-utilities-for-unifying-applications-and-modules-on-nestjs-5256"})," - Article about the project NestJS-mod"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"license",children:"License"}),"\n",(0,n.jsx)(s.p,{children:"MIT"})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>d});var n=t(6540);const o={},i=n.createContext(o);function r(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);