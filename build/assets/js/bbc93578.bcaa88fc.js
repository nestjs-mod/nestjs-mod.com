"use strict";(self.webpackChunknestjs_mod_com=self.webpackChunknestjs_mod_com||[]).push([[8370],{9229:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>a,frontMatter:()=>r,metadata:()=>c,toc:()=>o});var n=t(4848),d=t(8453);const r={},i="@nestjs-mod/keyv",c={id:"packages/core/keyv/README",title:"@nestjs-mod/keyv",description:"Simple key-value storage with support for multiple backends, and a consistent interface for NestJS-mod (Wrapper for https://www.npmjs.com/package/keyv)",source:"@site/docs/packages/core/keyv/README.md",sourceDirName:"packages/core/keyv",slug:"/packages/core/keyv/",permalink:"/docs/packages/core/keyv/",draft:!1,unlisted:!1,editUrl:"https://github.com/nestjs-mod/nestjs-mod.com/blob/master/docs/packages/core/keyv/README.md",tags:[],version:"current",frontMatter:{},sidebar:"packagesSidebar",previous:{title:"@nestjs-mod/cache-manager",permalink:"/docs/packages/core/cache-manager/"},next:{title:"@nestjs-mod/minio",permalink:"/docs/packages/core/minio/"}},l={},o=[{value:"Installation",id:"installation",level:2},{value:"Modules",id:"modules",level:2},{value:"Modules descriptions",id:"modules-descriptions",level:2},{value:"KeyvModule",id:"keyvmodule",level:3},{value:"Shared providers",id:"shared-providers",level:4},{value:"Environments",id:"environments",level:4},{value:"Static configuration",id:"static-configuration",level:4},{value:"Links",id:"links",level:2},{value:"License",id:"license",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"nestjs-modkeyv",children:"@nestjs-mod/keyv"}),"\n",(0,n.jsxs)(s.p,{children:["Simple key-value storage with support for multiple backends, and a consistent interface for NestJS-mod (Wrapper for ",(0,n.jsx)(s.a,{href:"https://www.npmjs.com/package/keyv",children:"https://www.npmjs.com/package/keyv"}),")"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://npmjs.org/package/@nestjs-mod/keyv",children:(0,n.jsx)(s.img,{src:"https://badgen.net/npm/v/@nestjs-mod/keyv",alt:"NPM version"})})," ",(0,n.jsx)(s.a,{href:"https://npmjs.org/package/@nestjs-mod/keyv",children:(0,n.jsx)(s.img,{src:"https://badgen.net/npm/dm/@nestjs-mod/keyv",alt:"monthly downloads"})})," ",(0,n.jsx)(s.a,{href:"https://t.me/nestjs_mod",children:(0,n.jsx)(s.img,{src:"https://img.shields.io/badge/group-telegram-blue.svg?maxAge=2592000",alt:"Telegram"})})," ",(0,n.jsx)(s.a,{href:"https://discord.gg/meY7UXaG",children:(0,n.jsx)(s.img,{src:"https://img.shields.io/badge/discord-online-brightgreen.svg",alt:"Discord"})})]}),"\n",(0,n.jsx)(s.h2,{id:"installation",children:"Installation"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"npm i --save keyv@5.2.3 @nestjs-mod/keyv\n"})}),"\n",(0,n.jsx)(s.h2,{id:"modules",children:"Modules"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Link"}),(0,n.jsx)(s.th,{children:"Category"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"#keyvmodule",children:"KeyvModule"})}),(0,n.jsx)(s.td,{children:"core"}),(0,n.jsxs)(s.td,{children:["Simple key-value storage with support for multiple backends, and a consistent interface for NestJS-mod (Wrapper for ",(0,n.jsx)(s.a,{href:"https://www.npmjs.com/package/keyv",children:"https://www.npmjs.com/package/keyv"}),")"]})]})})]}),"\n",(0,n.jsx)(s.h2,{id:"modules-descriptions",children:"Modules descriptions"}),"\n",(0,n.jsx)(s.h3,{id:"keyvmodule",children:"KeyvModule"}),"\n",(0,n.jsxs)(s.p,{children:["Simple key-value storage with support for multiple backends, and a consistent interface for NestJS-mod (Wrapper for ",(0,n.jsx)(s.a,{href:"https://www.npmjs.com/package/keyv",children:"https://www.npmjs.com/package/keyv"}),")"]}),"\n",(0,n.jsx)(s.h4,{id:"shared-providers",children:"Shared providers"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"KeyvService"})}),"\n",(0,n.jsx)(s.h4,{id:"environments",children:"Environments"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Key"}),(0,n.jsx)(s.th,{children:"Description"}),(0,n.jsx)(s.th,{children:"Sources"}),(0,n.jsx)(s.th,{children:"Constraints"}),(0,n.jsx)(s.th,{children:"Default"}),(0,n.jsx)(s.th,{children:"Value"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"url"})}),(0,n.jsxs)(s.td,{children:["Connection string for store data (example: redis://",":redis_password","@localhost:6379)"]}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"obj['url']"}),", ",(0,n.jsx)(s.code,{children:"process.env['KEYV_URL']"})]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]})})]}),"\n",(0,n.jsx)(s.h4,{id:"static-configuration",children:"Static configuration"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Key"}),(0,n.jsx)(s.th,{children:"Description"}),(0,n.jsx)(s.th,{children:"Constraints"}),(0,n.jsx)(s.th,{children:"Default"}),(0,n.jsx)(s.th,{children:"Value"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"defaultLogger"})}),(0,n.jsx)(s.td,{children:"Default logger"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"featureName"})}),(0,n.jsx)(s.td,{children:"Feature name for generate prefix to environments keys"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"emitErrors"})}),(0,n.jsx)(s.td,{children:"Emit errors"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"true"})}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"namespace"})}),(0,n.jsx)(s.td,{children:"Namespace for the current instance"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"serialize"})}),(0,n.jsx)(s.td,{children:"A custom serialization function"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"default"})}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"deserialize"})}),(0,n.jsx)(s.td,{children:"A custom deserialization function"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"default"})}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"store"})}),(0,n.jsx)(s.td,{children:"The storage adapter instance to be used by Keyv"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"storeFactoryByEnvironmentUrl"})}),(0,n.jsx)(s.td,{children:"Function for create storage adapter instance to be used by Keyv by environment url"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"ttl"})}),(0,n.jsxs)(s.td,{children:["Default TTL. Can be overridden by specifying a TTL on ",(0,n.jsx)(s.code,{children:".set()"})]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"compression"})}),(0,n.jsx)(s.td,{children:"Enable compression option"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"stats"})}),(0,n.jsx)(s.td,{children:"Enable or disable statistics (default is false)"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"false"})}),(0,n.jsx)(s.td,{children:"-"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"useKeyPrefix"})}),(0,n.jsx)(s.td,{children:"Enable or disable key prefixing (default is true)"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"optional"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"true"})}),(0,n.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"#modules",children:"Back to Top"})}),"\n",(0,n.jsx)(s.h2,{id:"links",children:"Links"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod",children:"https://github.com/nestjs-mod/nestjs-mod"})," - A collection of utilities for unifying NestJS applications and modules"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib",children:"https://github.com/nestjs-mod/nestjs-mod-contrib"})," - Contrib repository for the NestJS-mod"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-example",children:"https://github.com/nestjs-mod/nestjs-mod-example"})," - Example application built with ",(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod/tree/master/libs/schematics",children:"@nestjs-mod/schematics"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod/blob/master/apps/example-basic/INFRASTRUCTURE.MD",children:"https://github.com/nestjs-mod/nestjs-mod/blob/master/apps/example-basic/INFRASTRUCTURE.MD"})," - A simple example of infrastructure documentation."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://github.com/nestjs-mod/nestjs-mod-contrib/blob/master/apps/example-prisma/INFRASTRUCTURE.MD",children:"https://github.com/nestjs-mod/nestjs-mod-contrib/blob/master/apps/example-prisma/INFRASTRUCTURE.MD"})," - An extended example of infrastructure documentation with a docker-compose file and a data base."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://dev.to/endykaufman/collection-of-nestjs-mod-utilities-for-unifying-applications-and-modules-on-nestjs-5256",children:"https://dev.to/endykaufman/collection-of-nestjs-mod-utilities-for-unifying-applications-and-modules-on-nestjs-5256"})," - Article about the project NestJS-mod"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://habr.com/ru/articles/788916",children:"https://habr.com/ru/articles/788916"})," - \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u0443\u0442\u0438\u043b\u0438\u0442 NestJS-mod \u0434\u043b\u044f \u0443\u043d\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0430 NestJS"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"license",children:"License"}),"\n",(0,n.jsx)(s.p,{children:"MIT"})]})}function a(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>c});var n=t(6540);const d={},r=n.createContext(d);function i(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);